var QB=Object.defineProperty;var rk=e=>{throw TypeError(e)};var ZB=(e,t,r)=>t in e?QB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ut=(e,t,r)=>ZB(e,typeof t!="symbol"?t+"":t,r),lb=(e,t,r)=>t.has(e)||rk("Cannot "+r);var Q=(e,t,r)=>(lb(e,t,"read from private field"),r?r.call(e):t.get(e)),Ke=(e,t,r)=>t.has(e)?rk("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Re=(e,t,r,n)=>(lb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ht=(e,t,r)=>(lb(e,t,"access private method"),r);var Op=(e,t,r,n)=>({set _(a){Re(e,t,a,r)},get _(){return Q(e,t,n)}});function JB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var S6={exports:{}},pv={},C6={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=Symbol.for("react.element"),eU=Symbol.for("react.portal"),tU=Symbol.for("react.fragment"),rU=Symbol.for("react.strict_mode"),nU=Symbol.for("react.profiler"),sU=Symbol.for("react.provider"),aU=Symbol.for("react.context"),iU=Symbol.for("react.forward_ref"),oU=Symbol.for("react.suspense"),lU=Symbol.for("react.memo"),cU=Symbol.for("react.lazy"),nk=Symbol.iterator;function dU(e){return e===null||typeof e!="object"?null:(e=nk&&e[nk]||e["@@iterator"],typeof e=="function"?e:null)}var P6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k6=Object.assign,_6={};function Vu(e,t,r){this.props=e,this.context=t,this.refs=_6,this.updater=r||P6}Vu.prototype.isReactComponent={};Vu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A6(){}A6.prototype=Vu.prototype;function m2(e,t,r){this.props=e,this.context=t,this.refs=_6,this.updater=r||P6}var p2=m2.prototype=new A6;p2.constructor=m2;k6(p2,Vu.prototype);p2.isPureReactComponent=!0;var sk=Array.isArray,E6=Object.prototype.hasOwnProperty,g2={current:null},T6={key:!0,ref:!0,__self:!0,__source:!0};function O6(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)E6.call(t,n)&&!T6.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:rp,type:e,key:i,ref:o,props:a,_owner:g2.current}}function uU(e,t){return{$$typeof:rp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x2(e){return typeof e=="object"&&e!==null&&e.$$typeof===rp}function hU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ak=/\/+/g;function cb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hU(""+e.key):t.toString(36)}function Lg(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case rp:case eU:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+cb(o,0):n,sk(a)?(r="",e!=null&&(r=e.replace(ak,"$&/")+"/"),Lg(a,t,r,"",function(d){return d})):a!=null&&(x2(a)&&(a=uU(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(ak,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",sk(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+cb(i,l);o+=Lg(i,t,r,c,a)}else if(c=dU(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+cb(i,l++),o+=Lg(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Dp(e,t,r){if(e==null)return e;var n=[],a=0;return Lg(e,n,"","",function(i){return t.call(r,i,a++)}),n}function fU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var In={current:null},Fg={transition:null},mU={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:Fg,ReactCurrentOwner:g2};function M6(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:Dp,forEach:function(e,t,r){Dp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dp(e,function(){t++}),t},toArray:function(e){return Dp(e,function(t){return t})||[]},only:function(e){if(!x2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yt.Component=Vu;yt.Fragment=tU;yt.Profiler=nU;yt.PureComponent=m2;yt.StrictMode=rU;yt.Suspense=oU;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mU;yt.act=M6;yt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=k6({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=g2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E6.call(t,c)&&!T6.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:rp,type:e.type,key:a,ref:i,props:n,_owner:o}};yt.createContext=function(e){return e={$$typeof:aU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sU,_context:e},e.Consumer=e};yt.createElement=O6;yt.createFactory=function(e){var t=O6.bind(null,e);return t.type=e,t};yt.createRef=function(){return{current:null}};yt.forwardRef=function(e){return{$$typeof:iU,render:e}};yt.isValidElement=x2;yt.lazy=function(e){return{$$typeof:cU,_payload:{_status:-1,_result:e},_init:fU}};yt.memo=function(e,t){return{$$typeof:lU,type:e,compare:t===void 0?null:t}};yt.startTransition=function(e){var t=Fg.transition;Fg.transition={};try{e()}finally{Fg.transition=t}};yt.unstable_act=M6;yt.useCallback=function(e,t){return In.current.useCallback(e,t)};yt.useContext=function(e){return In.current.useContext(e)};yt.useDebugValue=function(){};yt.useDeferredValue=function(e){return In.current.useDeferredValue(e)};yt.useEffect=function(e,t){return In.current.useEffect(e,t)};yt.useId=function(){return In.current.useId()};yt.useImperativeHandle=function(e,t,r){return In.current.useImperativeHandle(e,t,r)};yt.useInsertionEffect=function(e,t){return In.current.useInsertionEffect(e,t)};yt.useLayoutEffect=function(e,t){return In.current.useLayoutEffect(e,t)};yt.useMemo=function(e,t){return In.current.useMemo(e,t)};yt.useReducer=function(e,t,r){return In.current.useReducer(e,t,r)};yt.useRef=function(e){return In.current.useRef(e)};yt.useState=function(e){return In.current.useState(e)};yt.useSyncExternalStore=function(e,t,r){return In.current.useSyncExternalStore(e,t,r)};yt.useTransition=function(){return In.current.useTransition()};yt.version="18.3.1";C6.exports=yt;var v=C6.exports;const Z=zt(v),y2=JB({__proto__:null,default:Z},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pU=v,gU=Symbol.for("react.element"),xU=Symbol.for("react.fragment"),yU=Object.prototype.hasOwnProperty,vU=pU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bU={key:!0,ref:!0,__self:!0,__source:!0};function D6(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)yU.call(t,n)&&!bU.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:gU,type:e,key:i,ref:o,props:a,_owner:vU.current}}pv.Fragment=xU;pv.jsx=D6;pv.jsxs=D6;S6.exports=pv;var s=S6.exports,I6={exports:{}},vs={},R6={exports:{}},$6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,T){var $=D.length;D.push(T);e:for(;0<$;){var O=$-1>>>1,R=D[O];if(0<a(R,T))D[O]=T,D[$]=R,$=O;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var T=D[0],$=D.pop();if($!==T){D[0]=$;e:for(var O=0,R=D.length,I=R>>>1;O<I;){var H=2*(O+1)-1,he=D[H],ie=H+1,je=D[ie];if(0>a(he,$))ie<R&&0>a(je,he)?(D[O]=je,D[ie]=$,O=ie):(D[O]=he,D[H]=$,O=H);else if(ie<R&&0>a(je,$))D[O]=je,D[ie]=$,O=ie;else break e}}return T}function a(D,T){var $=D.sortIndex-T.sortIndex;return $!==0?$:D.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,x=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var T=r(d);T!==null;){if(T.callback===null)n(d);else if(T.startTime<=D)n(d),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(d)}}function b(D){if(m=!1,w(D),!x)if(r(c)!==null)x=!0,W(N);else{var T=r(d);T!==null&&V(b,T.startTime-D)}}function N(D,T){x=!1,m&&(m=!1,y(P),P=-1),p=!0;var $=f;try{for(w(T),h=r(c);h!==null&&(!(h.expirationTime>T)||D&&!k());){var O=h.callback;if(typeof O=="function"){h.callback=null,f=h.priorityLevel;var R=O(h.expirationTime<=T);T=e.unstable_now(),typeof R=="function"?h.callback=R:h===r(c)&&n(c),w(T)}else n(c);h=r(c)}if(h!==null)var I=!0;else{var H=r(d);H!==null&&V(b,H.startTime-T),I=!1}return I}finally{h=null,f=$,p=!1}}var S=!1,C=null,P=-1,_=5,A=-1;function k(){return!(e.unstable_now()-A<_)}function E(){if(C!==null){var D=e.unstable_now();A=D;var T=!0;try{T=C(!0,D)}finally{T?L():(S=!1,C=null)}}else S=!1}var L;if(typeof j=="function")L=function(){j(E)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=E,L=function(){U.postMessage(null)}}else L=function(){g(E,0)};function W(D){C=D,S||(S=!0,L())}function V(D,T){P=g(function(){D(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,W(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var $=f;f=T;try{return D()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,T){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=f;f=D;try{return T()}finally{f=$}},e.unstable_scheduleCallback=function(D,T,$){var O=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?O+$:O):$=O,D){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=$+R,D={id:u++,callback:T,priorityLevel:D,startTime:$,expirationTime:R,sortIndex:-1},$>O?(D.sortIndex=$,t(d,D),r(c)===null&&D===r(d)&&(m?(y(P),P=-1):m=!0,V(b,$-O))):(D.sortIndex=R,t(c,D),x||p||(x=!0,W(N))),D},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(D){var T=f;return function(){var $=f;f=T;try{return D.apply(this,arguments)}finally{f=$}}}})($6);R6.exports=$6;var wU=R6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jU=v,xs=wU;function ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L6=new Set,If={};function Cc(e,t){Gd(e,t),Gd(e+"Capture",t)}function Gd(e,t){for(If[e]=t,e=0;e<t.length;e++)L6.add(t[e])}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qw=Object.prototype.hasOwnProperty,NU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ik={},ok={};function SU(e){return qw.call(ok,e)?!0:qw.call(ik,e)?!1:NU.test(e)?ok[e]=!0:(ik[e]=!0,!1)}function CU(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PU(e,t,r,n){if(t===null||typeof t>"u"||CU(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){un[e]=new Rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];un[t]=new Rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){un[e]=new Rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){un[e]=new Rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){un[e]=new Rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){un[e]=new Rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){un[e]=new Rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){un[e]=new Rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){un[e]=new Rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var v2=/[\-:]([a-z])/g;function b2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v2,b2);un[t]=new Rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v2,b2);un[t]=new Rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v2,b2);un[t]=new Rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){un[e]=new Rn(e,1,!1,e.toLowerCase(),null,!1,!1)});un.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){un[e]=new Rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function w2(e,t,r,n){var a=un.hasOwnProperty(t)?un[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PU(t,r,a,n)&&(r=null),n||a===null?SU(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zi=jU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ip=Symbol.for("react.element"),td=Symbol.for("react.portal"),rd=Symbol.for("react.fragment"),j2=Symbol.for("react.strict_mode"),Kw=Symbol.for("react.profiler"),F6=Symbol.for("react.provider"),z6=Symbol.for("react.context"),N2=Symbol.for("react.forward_ref"),Gw=Symbol.for("react.suspense"),Yw=Symbol.for("react.suspense_list"),S2=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),B6=Symbol.for("react.offscreen"),lk=Symbol.iterator;function jh(e){return e===null||typeof e!="object"?null:(e=lk&&e[lk]||e["@@iterator"],typeof e=="function"?e:null)}var ur=Object.assign,db;function Jh(e){if(db===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);db=t&&t[1]||""}return`
`+db+e}var ub=!1;function hb(e,t){if(!e||ub)return"";ub=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ub=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jh(e):""}function kU(e){switch(e.tag){case 5:return Jh(e.type);case 16:return Jh("Lazy");case 13:return Jh("Suspense");case 19:return Jh("SuspenseList");case 0:case 2:case 15:return e=hb(e.type,!1),e;case 11:return e=hb(e.type.render,!1),e;case 1:return e=hb(e.type,!0),e;default:return""}}function Xw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rd:return"Fragment";case td:return"Portal";case Kw:return"Profiler";case j2:return"StrictMode";case Gw:return"Suspense";case Yw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z6:return(e.displayName||"Context")+".Consumer";case F6:return(e._context.displayName||"Context")+".Provider";case N2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case S2:return t=e.displayName||null,t!==null?t:Xw(e.type)||"Memo";case ro:t=e._payload,e=e._init;try{return Xw(e(t))}catch{}}return null}function _U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xw(t);case 8:return t===j2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ho(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function U6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AU(e){var t=U6(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rp(e){e._valueTracker||(e._valueTracker=AU(e))}function W6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=U6(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function lx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qw(e,t){var r=t.checked;return ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ck(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ho(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function V6(e,t){t=t.checked,t!=null&&w2(e,"checked",t,!1)}function Zw(e,t){V6(e,t);var r=Ho(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jw(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jw(e,t.type,Ho(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jw(e,t,r){(t!=="number"||lx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ef=Array.isArray;function xd(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ho(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ej(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ke(91));return ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ke(92));if(ef(r)){if(1<r.length)throw Error(ke(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ho(r)}}function H6(e,t){var r=Ho(t.value),n=Ho(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function hk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $p,K6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($p=$p||document.createElement("div"),$p.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$p.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EU=["Webkit","ms","Moz","O"];Object.keys(hf).forEach(function(e){EU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hf[t]=hf[e]})});function G6(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hf.hasOwnProperty(e)&&hf[e]?(""+t).trim():t+"px"}function Y6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=G6(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var TU=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rj(e,t){if(t){if(TU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ke(62))}}function nj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sj=null;function C2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aj=null,yd=null,vd=null;function fk(e){if(e=ap(e)){if(typeof aj!="function")throw Error(ke(280));var t=e.stateNode;t&&(t=bv(t),aj(e.stateNode,e.type,t))}}function X6(e){yd?vd?vd.push(e):vd=[e]:yd=e}function Q6(){if(yd){var e=yd,t=vd;if(vd=yd=null,fk(e),t)for(e=0;e<t.length;e++)fk(t[e])}}function Z6(e,t){return e(t)}function J6(){}var fb=!1;function eM(e,t,r){if(fb)return e(t,r);fb=!0;try{return Z6(e,t,r)}finally{fb=!1,(yd!==null||vd!==null)&&(J6(),Q6())}}function $f(e,t){var r=e.stateNode;if(r===null)return null;var n=bv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ke(231,t,typeof r));return r}var ij=!1;if(Ai)try{var Nh={};Object.defineProperty(Nh,"passive",{get:function(){ij=!0}}),window.addEventListener("test",Nh,Nh),window.removeEventListener("test",Nh,Nh)}catch{ij=!1}function OU(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var ff=!1,cx=null,dx=!1,oj=null,MU={onError:function(e){ff=!0,cx=e}};function DU(e,t,r,n,a,i,o,l,c){ff=!1,cx=null,OU.apply(MU,arguments)}function IU(e,t,r,n,a,i,o,l,c){if(DU.apply(this,arguments),ff){if(ff){var d=cx;ff=!1,cx=null}else throw Error(ke(198));dx||(dx=!0,oj=d)}}function Pc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mk(e){if(Pc(e)!==e)throw Error(ke(188))}function RU(e){var t=e.alternate;if(!t){if(t=Pc(e),t===null)throw Error(ke(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return mk(a),e;if(i===n)return mk(a),t;i=i.sibling}throw Error(ke(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ke(189))}}if(r.alternate!==n)throw Error(ke(190))}if(r.tag!==3)throw Error(ke(188));return r.stateNode.current===r?e:t}function rM(e){return e=RU(e),e!==null?nM(e):null}function nM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nM(e);if(t!==null)return t;e=e.sibling}return null}var sM=xs.unstable_scheduleCallback,pk=xs.unstable_cancelCallback,$U=xs.unstable_shouldYield,LU=xs.unstable_requestPaint,br=xs.unstable_now,FU=xs.unstable_getCurrentPriorityLevel,P2=xs.unstable_ImmediatePriority,aM=xs.unstable_UserBlockingPriority,ux=xs.unstable_NormalPriority,zU=xs.unstable_LowPriority,iM=xs.unstable_IdlePriority,gv=null,$a=null;function BU(e){if($a&&typeof $a.onCommitFiberRoot=="function")try{$a.onCommitFiberRoot(gv,e,void 0,(e.current.flags&128)===128)}catch{}}var ca=Math.clz32?Math.clz32:VU,UU=Math.log,WU=Math.LN2;function VU(e){return e>>>=0,e===0?32:31-(UU(e)/WU|0)|0}var Lp=64,Fp=4194304;function tf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=tf(l):(i&=o,i!==0&&(n=tf(i)))}else o=r&~a,o!==0?n=tf(o):i!==0&&(n=tf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ca(t),a=1<<r,n|=e[r],t&=~a;return n}function HU(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qU(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ca(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=HU(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function lj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oM(){var e=Lp;return Lp<<=1,!(Lp&4194240)&&(Lp=64),e}function mb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function np(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ca(t),e[t]=r}function KU(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ca(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function k2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ca(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var $t=0;function lM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cM,_2,dM,uM,hM,cj=!1,zp=[],To=null,Oo=null,Mo=null,Lf=new Map,Ff=new Map,io=[],GU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gk(e,t){switch(e){case"focusin":case"focusout":To=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Lf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ff.delete(t.pointerId)}}function Sh(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ap(t),t!==null&&_2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function YU(e,t,r,n,a){switch(t){case"focusin":return To=Sh(To,e,t,r,n,a),!0;case"dragenter":return Oo=Sh(Oo,e,t,r,n,a),!0;case"mouseover":return Mo=Sh(Mo,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Lf.set(i,Sh(Lf.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ff.set(i,Sh(Ff.get(i)||null,e,t,r,n,a)),!0}return!1}function fM(e){var t=Tl(e.target);if(t!==null){var r=Pc(t);if(r!==null){if(t=r.tag,t===13){if(t=tM(r),t!==null){e.blockedOn=t,hM(e.priority,function(){dM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);sj=n,r.target.dispatchEvent(n),sj=null}else return t=ap(r),t!==null&&_2(t),e.blockedOn=r,!1;t.shift()}return!0}function xk(e,t,r){zg(e)&&r.delete(t)}function XU(){cj=!1,To!==null&&zg(To)&&(To=null),Oo!==null&&zg(Oo)&&(Oo=null),Mo!==null&&zg(Mo)&&(Mo=null),Lf.forEach(xk),Ff.forEach(xk)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,cj||(cj=!0,xs.unstable_scheduleCallback(xs.unstable_NormalPriority,XU)))}function zf(e){function t(a){return Ch(a,e)}if(0<zp.length){Ch(zp[0],e);for(var r=1;r<zp.length;r++){var n=zp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(To!==null&&Ch(To,e),Oo!==null&&Ch(Oo,e),Mo!==null&&Ch(Mo,e),Lf.forEach(t),Ff.forEach(t),r=0;r<io.length;r++)n=io[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<io.length&&(r=io[0],r.blockedOn===null);)fM(r),r.blockedOn===null&&io.shift()}var bd=zi.ReactCurrentBatchConfig,fx=!0;function QU(e,t,r,n){var a=$t,i=bd.transition;bd.transition=null;try{$t=1,A2(e,t,r,n)}finally{$t=a,bd.transition=i}}function ZU(e,t,r,n){var a=$t,i=bd.transition;bd.transition=null;try{$t=4,A2(e,t,r,n)}finally{$t=a,bd.transition=i}}function A2(e,t,r,n){if(fx){var a=dj(e,t,r,n);if(a===null)Sb(e,t,n,mx,r),gk(e,n);else if(YU(a,e,t,r,n))n.stopPropagation();else if(gk(e,n),t&4&&-1<GU.indexOf(e)){for(;a!==null;){var i=ap(a);if(i!==null&&cM(i),i=dj(e,t,r,n),i===null&&Sb(e,t,n,mx,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Sb(e,t,n,null,r)}}var mx=null;function dj(e,t,r,n){if(mx=null,e=C2(n),e=Tl(e),e!==null)if(t=Pc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mx=e,null}function mM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FU()){case P2:return 1;case aM:return 4;case ux:case zU:return 16;case iM:return 536870912;default:return 16}default:return 16}}var jo=null,E2=null,Bg=null;function pM(){if(Bg)return Bg;var e,t=E2,r=t.length,n,a="value"in jo?jo.value:jo.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Bg=a.slice(e,1<n?1-n:void 0)}function Ug(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bp(){return!0}function yk(){return!1}function bs(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bp:yk,this.isPropagationStopped=yk,this}return ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bp)},persist:function(){},isPersistent:Bp}),t}var Hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T2=bs(Hu),sp=ur({},Hu,{view:0,detail:0}),JU=bs(sp),pb,gb,Ph,xv=ur({},sp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ph&&(Ph&&e.type==="mousemove"?(pb=e.screenX-Ph.screenX,gb=e.screenY-Ph.screenY):gb=pb=0,Ph=e),pb)},movementY:function(e){return"movementY"in e?e.movementY:gb}}),vk=bs(xv),eW=ur({},xv,{dataTransfer:0}),tW=bs(eW),rW=ur({},sp,{relatedTarget:0}),xb=bs(rW),nW=ur({},Hu,{animationName:0,elapsedTime:0,pseudoElement:0}),sW=bs(nW),aW=ur({},Hu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iW=bs(aW),oW=ur({},Hu,{data:0}),bk=bs(oW),lW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dW[e])?!!t[e]:!1}function O2(){return uW}var hW=ur({},sp,{key:function(e){if(e.key){var t=lW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ug(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O2,charCode:function(e){return e.type==="keypress"?Ug(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ug(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fW=bs(hW),mW=ur({},xv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wk=bs(mW),pW=ur({},sp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O2}),gW=bs(pW),xW=ur({},Hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),yW=bs(xW),vW=ur({},xv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bW=bs(vW),wW=[9,13,27,32],M2=Ai&&"CompositionEvent"in window,mf=null;Ai&&"documentMode"in document&&(mf=document.documentMode);var jW=Ai&&"TextEvent"in window&&!mf,gM=Ai&&(!M2||mf&&8<mf&&11>=mf),jk=" ",Nk=!1;function xM(e,t){switch(e){case"keyup":return wW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nd=!1;function NW(e,t){switch(e){case"compositionend":return yM(t);case"keypress":return t.which!==32?null:(Nk=!0,jk);case"textInput":return e=t.data,e===jk&&Nk?null:e;default:return null}}function SW(e,t){if(nd)return e==="compositionend"||!M2&&xM(e,t)?(e=pM(),Bg=E2=jo=null,nd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gM&&t.locale!=="ko"?null:t.data;default:return null}}var CW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CW[e.type]:t==="textarea"}function vM(e,t,r,n){X6(n),t=px(t,"onChange"),0<t.length&&(r=new T2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pf=null,Bf=null;function PW(e){EM(e,0)}function yv(e){var t=id(e);if(W6(t))return e}function kW(e,t){if(e==="change")return t}var bM=!1;if(Ai){var yb;if(Ai){var vb="oninput"in document;if(!vb){var Ck=document.createElement("div");Ck.setAttribute("oninput","return;"),vb=typeof Ck.oninput=="function"}yb=vb}else yb=!1;bM=yb&&(!document.documentMode||9<document.documentMode)}function Pk(){pf&&(pf.detachEvent("onpropertychange",wM),Bf=pf=null)}function wM(e){if(e.propertyName==="value"&&yv(Bf)){var t=[];vM(t,Bf,e,C2(e)),eM(PW,t)}}function _W(e,t,r){e==="focusin"?(Pk(),pf=t,Bf=r,pf.attachEvent("onpropertychange",wM)):e==="focusout"&&Pk()}function AW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yv(Bf)}function EW(e,t){if(e==="click")return yv(t)}function TW(e,t){if(e==="input"||e==="change")return yv(t)}function OW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pa=typeof Object.is=="function"?Object.is:OW;function Uf(e,t){if(pa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!qw.call(t,a)||!pa(e[a],t[a]))return!1}return!0}function kk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _k(e,t){var r=kk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kk(r)}}function jM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NM(){for(var e=window,t=lx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=lx(e.document)}return t}function D2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MW(e){var t=NM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jM(r.ownerDocument.documentElement,r)){if(n!==null&&D2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=_k(r,i);var o=_k(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DW=Ai&&"documentMode"in document&&11>=document.documentMode,sd=null,uj=null,gf=null,hj=!1;function Ak(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hj||sd==null||sd!==lx(n)||(n=sd,"selectionStart"in n&&D2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gf&&Uf(gf,n)||(gf=n,n=px(uj,"onSelect"),0<n.length&&(t=new T2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sd)))}function Up(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ad={animationend:Up("Animation","AnimationEnd"),animationiteration:Up("Animation","AnimationIteration"),animationstart:Up("Animation","AnimationStart"),transitionend:Up("Transition","TransitionEnd")},bb={},SM={};Ai&&(SM=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function vv(e){if(bb[e])return bb[e];if(!ad[e])return e;var t=ad[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in SM)return bb[e]=t[r];return e}var CM=vv("animationend"),PM=vv("animationiteration"),kM=vv("animationstart"),_M=vv("transitionend"),AM=new Map,Ek="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sl(e,t){AM.set(e,t),Cc(t,[e])}for(var wb=0;wb<Ek.length;wb++){var jb=Ek[wb],IW=jb.toLowerCase(),RW=jb[0].toUpperCase()+jb.slice(1);sl(IW,"on"+RW)}sl(CM,"onAnimationEnd");sl(PM,"onAnimationIteration");sl(kM,"onAnimationStart");sl("dblclick","onDoubleClick");sl("focusin","onFocus");sl("focusout","onBlur");sl(_M,"onTransitionEnd");Gd("onMouseEnter",["mouseout","mouseover"]);Gd("onMouseLeave",["mouseout","mouseover"]);Gd("onPointerEnter",["pointerout","pointerover"]);Gd("onPointerLeave",["pointerout","pointerover"]);Cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$W=new Set("cancel close invalid load scroll toggle".split(" ").concat(rf));function Tk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,IU(n,t,void 0,e),e.currentTarget=null}function EM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Tk(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Tk(a,l,d),i=c}}}if(dx)throw e=oj,dx=!1,oj=null,e}function er(e,t){var r=t[xj];r===void 0&&(r=t[xj]=new Set);var n=e+"__bubble";r.has(n)||(TM(t,e,2,!1),r.add(n))}function Nb(e,t,r){var n=0;t&&(n|=4),TM(r,e,n,t)}var Wp="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[Wp]){e[Wp]=!0,L6.forEach(function(r){r!=="selectionchange"&&($W.has(r)||Nb(r,!1,e),Nb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wp]||(t[Wp]=!0,Nb("selectionchange",!1,t))}}function TM(e,t,r,n){switch(mM(t)){case 1:var a=QU;break;case 4:a=ZU;break;default:a=A2}r=a.bind(null,t,r,e),a=void 0,!ij||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Sb(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Tl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}eM(function(){var d=i,u=C2(r),h=[];e:{var f=AM.get(e);if(f!==void 0){var p=T2,x=e;switch(e){case"keypress":if(Ug(r)===0)break e;case"keydown":case"keyup":p=fW;break;case"focusin":x="focus",p=xb;break;case"focusout":x="blur",p=xb;break;case"beforeblur":case"afterblur":p=xb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=gW;break;case CM:case PM:case kM:p=sW;break;case _M:p=yW;break;case"scroll":p=JU;break;case"wheel":p=bW;break;case"copy":case"cut":case"paste":p=iW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wk}var m=(t&4)!==0,g=!m&&e==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var j=d,w;j!==null;){w=j;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=$f(j,y),b!=null&&m.push(Vf(j,b,w)))),g)break;j=j.return}0<m.length&&(f=new p(f,x,null,r,u),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==sj&&(x=r.relatedTarget||r.fromElement)&&(Tl(x)||x[Ei]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=d,x=x?Tl(x):null,x!==null&&(g=Pc(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(m=vk,b="onMouseLeave",y="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(m=wk,b="onPointerLeave",y="onPointerEnter",j="pointer"),g=p==null?f:id(p),w=x==null?f:id(x),f=new m(b,j+"leave",p,r,u),f.target=g,f.relatedTarget=w,b=null,Tl(u)===d&&(m=new m(y,j+"enter",x,r,u),m.target=w,m.relatedTarget=g,b=m),g=b,p&&x)t:{for(m=p,y=x,j=0,w=m;w;w=zc(w))j++;for(w=0,b=y;b;b=zc(b))w++;for(;0<j-w;)m=zc(m),j--;for(;0<w-j;)y=zc(y),w--;for(;j--;){if(m===y||y!==null&&m===y.alternate)break t;m=zc(m),y=zc(y)}m=null}else m=null;p!==null&&Ok(h,f,p,m,!1),x!==null&&g!==null&&Ok(h,g,x,m,!0)}}e:{if(f=d?id(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=kW;else if(Sk(f))if(bM)N=TW;else{N=AW;var S=_W}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=EW);if(N&&(N=N(e,d))){vM(h,N,r,u);break e}S&&S(e,f,d),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Jw(f,"number",f.value)}switch(S=d?id(d):window,e){case"focusin":(Sk(S)||S.contentEditable==="true")&&(sd=S,uj=d,gf=null);break;case"focusout":gf=uj=sd=null;break;case"mousedown":hj=!0;break;case"contextmenu":case"mouseup":case"dragend":hj=!1,Ak(h,r,u);break;case"selectionchange":if(DW)break;case"keydown":case"keyup":Ak(h,r,u)}var C;if(M2)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else nd?xM(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(gM&&r.locale!=="ko"&&(nd||P!=="onCompositionStart"?P==="onCompositionEnd"&&nd&&(C=pM()):(jo=u,E2="value"in jo?jo.value:jo.textContent,nd=!0)),S=px(d,P),0<S.length&&(P=new bk(P,e,null,r,u),h.push({event:P,listeners:S}),C?P.data=C:(C=yM(r),C!==null&&(P.data=C)))),(C=jW?NW(e,r):SW(e,r))&&(d=px(d,"onBeforeInput"),0<d.length&&(u=new bk("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=C))}EM(h,t)})}function Vf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function px(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=$f(e,r),i!=null&&n.unshift(Vf(e,i,a)),i=$f(e,t),i!=null&&n.push(Vf(e,i,a))),e=e.return}return n}function zc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ok(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=$f(r,i),c!=null&&o.unshift(Vf(r,c,l))):a||(c=$f(r,i),c!=null&&o.push(Vf(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var LW=/\r\n?/g,FW=/\u0000|\uFFFD/g;function Mk(e){return(typeof e=="string"?e:""+e).replace(LW,`
`).replace(FW,"")}function Vp(e,t,r){if(t=Mk(t),Mk(e)!==t&&r)throw Error(ke(425))}function gx(){}var fj=null,mj=null;function pj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gj=typeof setTimeout=="function"?setTimeout:void 0,zW=typeof clearTimeout=="function"?clearTimeout:void 0,Dk=typeof Promise=="function"?Promise:void 0,BW=typeof queueMicrotask=="function"?queueMicrotask:typeof Dk<"u"?function(e){return Dk.resolve(null).then(e).catch(UW)}:gj;function UW(e){setTimeout(function(){throw e})}function Cb(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),zf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);zf(t)}function Do(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ik(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qu=Math.random().toString(36).slice(2),Ta="__reactFiber$"+qu,Hf="__reactProps$"+qu,Ei="__reactContainer$"+qu,xj="__reactEvents$"+qu,WW="__reactListeners$"+qu,VW="__reactHandles$"+qu;function Tl(e){var t=e[Ta];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ei]||r[Ta]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ik(e);e!==null;){if(r=e[Ta])return r;e=Ik(e)}return t}e=r,r=e.parentNode}return null}function ap(e){return e=e[Ta]||e[Ei],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function id(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ke(33))}function bv(e){return e[Hf]||null}var yj=[],od=-1;function al(e){return{current:e}}function sr(e){0>od||(e.current=yj[od],yj[od]=null,od--)}function qt(e,t){od++,yj[od]=e.current,e.current=t}var qo={},jn=al(qo),Gn=al(!1),ac=qo;function Yd(e,t){var r=e.type.contextTypes;if(!r)return qo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Yn(e){return e=e.childContextTypes,e!=null}function xx(){sr(Gn),sr(jn)}function Rk(e,t,r){if(jn.current!==qo)throw Error(ke(168));qt(jn,t),qt(Gn,r)}function OM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ke(108,_U(e)||"Unknown",a));return ur({},r,n)}function yx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qo,ac=jn.current,qt(jn,e),qt(Gn,Gn.current),!0}function $k(e,t,r){var n=e.stateNode;if(!n)throw Error(ke(169));r?(e=OM(e,t,ac),n.__reactInternalMemoizedMergedChildContext=e,sr(Gn),sr(jn),qt(jn,e)):sr(Gn),qt(Gn,r)}var di=null,wv=!1,Pb=!1;function MM(e){di===null?di=[e]:di.push(e)}function HW(e){wv=!0,MM(e)}function il(){if(!Pb&&di!==null){Pb=!0;var e=0,t=$t;try{var r=di;for($t=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}di=null,wv=!1}catch(a){throw di!==null&&(di=di.slice(e+1)),sM(P2,il),a}finally{$t=t,Pb=!1}}return null}var ld=[],cd=0,vx=null,bx=0,As=[],Es=0,ic=null,gi=1,xi="";function wl(e,t){ld[cd++]=bx,ld[cd++]=vx,vx=e,bx=t}function DM(e,t,r){As[Es++]=gi,As[Es++]=xi,As[Es++]=ic,ic=e;var n=gi;e=xi;var a=32-ca(n)-1;n&=~(1<<a),r+=1;var i=32-ca(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,gi=1<<32-ca(t)+a|r<<a|n,xi=i+e}else gi=1<<i|r<<a|n,xi=e}function I2(e){e.return!==null&&(wl(e,1),DM(e,1,0))}function R2(e){for(;e===vx;)vx=ld[--cd],ld[cd]=null,bx=ld[--cd],ld[cd]=null;for(;e===ic;)ic=As[--Es],As[Es]=null,xi=As[--Es],As[Es]=null,gi=As[--Es],As[Es]=null}var fs=null,hs=null,or=!1,sa=null;function IM(e,t){var r=Ts(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fs=e,hs=Do(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fs=e,hs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ic!==null?{id:gi,overflow:xi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ts(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,fs=e,hs=null,!0):!1;default:return!1}}function vj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bj(e){if(or){var t=hs;if(t){var r=t;if(!Lk(e,t)){if(vj(e))throw Error(ke(418));t=Do(r.nextSibling);var n=fs;t&&Lk(e,t)?IM(n,r):(e.flags=e.flags&-4097|2,or=!1,fs=e)}}else{if(vj(e))throw Error(ke(418));e.flags=e.flags&-4097|2,or=!1,fs=e}}}function Fk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fs=e}function Hp(e){if(e!==fs)return!1;if(!or)return Fk(e),or=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pj(e.type,e.memoizedProps)),t&&(t=hs)){if(vj(e))throw RM(),Error(ke(418));for(;t;)IM(e,t),t=Do(t.nextSibling)}if(Fk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){hs=Do(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}hs=null}}else hs=fs?Do(e.stateNode.nextSibling):null;return!0}function RM(){for(var e=hs;e;)e=Do(e.nextSibling)}function Xd(){hs=fs=null,or=!1}function $2(e){sa===null?sa=[e]:sa.push(e)}var qW=zi.ReactCurrentBatchConfig;function kh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ke(309));var n=r.stateNode}if(!n)throw Error(ke(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ke(284));if(!r._owner)throw Error(ke(290,e))}return e}function qp(e,t){throw e=Object.prototype.toString.call(t),Error(ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zk(e){var t=e._init;return t(e._payload)}function $M(e){function t(y,j){if(e){var w=y.deletions;w===null?(y.deletions=[j],y.flags|=16):w.push(j)}}function r(y,j){if(!e)return null;for(;j!==null;)t(y,j),j=j.sibling;return null}function n(y,j){for(y=new Map;j!==null;)j.key!==null?y.set(j.key,j):y.set(j.index,j),j=j.sibling;return y}function a(y,j){return y=Lo(y,j),y.index=0,y.sibling=null,y}function i(y,j,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<j?(y.flags|=2,j):w):(y.flags|=2,j)):(y.flags|=1048576,j)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,j,w,b){return j===null||j.tag!==6?(j=Mb(w,y.mode,b),j.return=y,j):(j=a(j,w),j.return=y,j)}function c(y,j,w,b){var N=w.type;return N===rd?u(y,j,w.props.children,b,w.key):j!==null&&(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ro&&zk(N)===j.type)?(b=a(j,w.props),b.ref=kh(y,j,w),b.return=y,b):(b=Yg(w.type,w.key,w.props,null,y.mode,b),b.ref=kh(y,j,w),b.return=y,b)}function d(y,j,w,b){return j===null||j.tag!==4||j.stateNode.containerInfo!==w.containerInfo||j.stateNode.implementation!==w.implementation?(j=Db(w,y.mode,b),j.return=y,j):(j=a(j,w.children||[]),j.return=y,j)}function u(y,j,w,b,N){return j===null||j.tag!==7?(j=Zl(w,y.mode,b,N),j.return=y,j):(j=a(j,w),j.return=y,j)}function h(y,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Mb(""+j,y.mode,w),j.return=y,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ip:return w=Yg(j.type,j.key,j.props,null,y.mode,w),w.ref=kh(y,null,j),w.return=y,w;case td:return j=Db(j,y.mode,w),j.return=y,j;case ro:var b=j._init;return h(y,b(j._payload),w)}if(ef(j)||jh(j))return j=Zl(j,y.mode,w,null),j.return=y,j;qp(y,j)}return null}function f(y,j,w,b){var N=j!==null?j.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,j,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ip:return w.key===N?c(y,j,w,b):null;case td:return w.key===N?d(y,j,w,b):null;case ro:return N=w._init,f(y,j,N(w._payload),b)}if(ef(w)||jh(w))return N!==null?null:u(y,j,w,b,null);qp(y,w)}return null}function p(y,j,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,l(j,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ip:return y=y.get(b.key===null?w:b.key)||null,c(j,y,b,N);case td:return y=y.get(b.key===null?w:b.key)||null,d(j,y,b,N);case ro:var S=b._init;return p(y,j,w,S(b._payload),N)}if(ef(b)||jh(b))return y=y.get(w)||null,u(j,y,b,N,null);qp(j,b)}return null}function x(y,j,w,b){for(var N=null,S=null,C=j,P=j=0,_=null;C!==null&&P<w.length;P++){C.index>P?(_=C,C=null):_=C.sibling;var A=f(y,C,w[P],b);if(A===null){C===null&&(C=_);break}e&&C&&A.alternate===null&&t(y,C),j=i(A,j,P),S===null?N=A:S.sibling=A,S=A,C=_}if(P===w.length)return r(y,C),or&&wl(y,P),N;if(C===null){for(;P<w.length;P++)C=h(y,w[P],b),C!==null&&(j=i(C,j,P),S===null?N=C:S.sibling=C,S=C);return or&&wl(y,P),N}for(C=n(y,C);P<w.length;P++)_=p(C,y,P,w[P],b),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?P:_.key),j=i(_,j,P),S===null?N=_:S.sibling=_,S=_);return e&&C.forEach(function(k){return t(y,k)}),or&&wl(y,P),N}function m(y,j,w,b){var N=jh(w);if(typeof N!="function")throw Error(ke(150));if(w=N.call(w),w==null)throw Error(ke(151));for(var S=N=null,C=j,P=j=0,_=null,A=w.next();C!==null&&!A.done;P++,A=w.next()){C.index>P?(_=C,C=null):_=C.sibling;var k=f(y,C,A.value,b);if(k===null){C===null&&(C=_);break}e&&C&&k.alternate===null&&t(y,C),j=i(k,j,P),S===null?N=k:S.sibling=k,S=k,C=_}if(A.done)return r(y,C),or&&wl(y,P),N;if(C===null){for(;!A.done;P++,A=w.next())A=h(y,A.value,b),A!==null&&(j=i(A,j,P),S===null?N=A:S.sibling=A,S=A);return or&&wl(y,P),N}for(C=n(y,C);!A.done;P++,A=w.next())A=p(C,y,P,A.value,b),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?P:A.key),j=i(A,j,P),S===null?N=A:S.sibling=A,S=A);return e&&C.forEach(function(E){return t(y,E)}),or&&wl(y,P),N}function g(y,j,w,b){if(typeof w=="object"&&w!==null&&w.type===rd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ip:e:{for(var N=w.key,S=j;S!==null;){if(S.key===N){if(N=w.type,N===rd){if(S.tag===7){r(y,S.sibling),j=a(S,w.props.children),j.return=y,y=j;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ro&&zk(N)===S.type){r(y,S.sibling),j=a(S,w.props),j.ref=kh(y,S,w),j.return=y,y=j;break e}r(y,S);break}else t(y,S);S=S.sibling}w.type===rd?(j=Zl(w.props.children,y.mode,b,w.key),j.return=y,y=j):(b=Yg(w.type,w.key,w.props,null,y.mode,b),b.ref=kh(y,j,w),b.return=y,y=b)}return o(y);case td:e:{for(S=w.key;j!==null;){if(j.key===S)if(j.tag===4&&j.stateNode.containerInfo===w.containerInfo&&j.stateNode.implementation===w.implementation){r(y,j.sibling),j=a(j,w.children||[]),j.return=y,y=j;break e}else{r(y,j);break}else t(y,j);j=j.sibling}j=Db(w,y.mode,b),j.return=y,y=j}return o(y);case ro:return S=w._init,g(y,j,S(w._payload),b)}if(ef(w))return x(y,j,w,b);if(jh(w))return m(y,j,w,b);qp(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,j!==null&&j.tag===6?(r(y,j.sibling),j=a(j,w),j.return=y,y=j):(r(y,j),j=Mb(w,y.mode,b),j.return=y,y=j),o(y)):r(y,j)}return g}var Qd=$M(!0),LM=$M(!1),wx=al(null),jx=null,dd=null,L2=null;function F2(){L2=dd=jx=null}function z2(e){var t=wx.current;sr(wx),e._currentValue=t}function wj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wd(e,t){jx=e,L2=dd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Hn=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(L2!==e)if(e={context:e,memoizedValue:t,next:null},dd===null){if(jx===null)throw Error(ke(308));dd=e,jx.dependencies={lanes:0,firstContext:e}}else dd=dd.next=e;return t}var Ol=null;function B2(e){Ol===null?Ol=[e]:Ol.push(e)}function FM(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,B2(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ti(e,n)}function Ti(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var no=!1;function U2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Io(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ti(e,r)}return a=n.interleaved,a===null?(t.next=t,B2(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ti(e,r)}function Wg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,k2(e,r)}}function Bk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nx(e,t,r,n){var a=e.updateQueue;no=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,m=l;switch(f=t,p=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=ur({},h,f);break e;case 2:no=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);lc|=o,e.lanes=o,e.memoizedState=h}}function Uk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ke(191,a));a.call(n)}}}var ip={},La=al(ip),qf=al(ip),Kf=al(ip);function Ml(e){if(e===ip)throw Error(ke(174));return e}function W2(e,t){switch(qt(Kf,t),qt(qf,e),qt(La,ip),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tj(t,e)}sr(La),qt(La,t)}function Zd(){sr(La),sr(qf),sr(Kf)}function BM(e){Ml(Kf.current);var t=Ml(La.current),r=tj(t,e.type);t!==r&&(qt(qf,e),qt(La,r))}function V2(e){qf.current===e&&(sr(La),sr(qf))}var cr=al(0);function Sx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kb=[];function H2(){for(var e=0;e<kb.length;e++)kb[e]._workInProgressVersionPrimary=null;kb.length=0}var Vg=zi.ReactCurrentDispatcher,_b=zi.ReactCurrentBatchConfig,oc=0,dr=null,Tr=null,Kr=null,Cx=!1,xf=!1,Gf=0,KW=0;function hn(){throw Error(ke(321))}function q2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pa(e[r],t[r]))return!1;return!0}function K2(e,t,r,n,a,i){if(oc=i,dr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vg.current=e===null||e.memoizedState===null?QW:ZW,e=r(n,a),xf){i=0;do{if(xf=!1,Gf=0,25<=i)throw Error(ke(301));i+=1,Kr=Tr=null,t.updateQueue=null,Vg.current=JW,e=r(n,a)}while(xf)}if(Vg.current=Px,t=Tr!==null&&Tr.next!==null,oc=0,Kr=Tr=dr=null,Cx=!1,t)throw Error(ke(300));return e}function G2(){var e=Gf!==0;return Gf=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?dr.memoizedState=Kr=e:Kr=Kr.next=e,Kr}function Us(){if(Tr===null){var e=dr.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=Kr===null?dr.memoizedState:Kr.next;if(t!==null)Kr=t,Tr=e;else{if(e===null)throw Error(ke(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Kr===null?dr.memoizedState=Kr=e:Kr=Kr.next=e}return Kr}function Yf(e,t){return typeof t=="function"?t(e):t}function Ab(e){var t=Us(),r=t.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=e;var n=Tr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((oc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,dr.lanes|=u,lc|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,pa(n,t.memoizedState)||(Hn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,dr.lanes|=i,lc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Eb(e){var t=Us(),r=t.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);pa(i,t.memoizedState)||(Hn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function UM(){}function WM(e,t){var r=dr,n=Us(),a=t(),i=!pa(n.memoizedState,a);if(i&&(n.memoizedState=a,Hn=!0),n=n.queue,Y2(qM.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Kr!==null&&Kr.memoizedState.tag&1){if(r.flags|=2048,Xf(9,HM.bind(null,r,n,a,t),void 0,null),Jr===null)throw Error(ke(349));oc&30||VM(r,t,a)}return a}function VM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function HM(e,t,r,n){t.value=r,t.getSnapshot=n,KM(t)&&GM(e)}function qM(e,t,r){return r(function(){KM(t)&&GM(e)})}function KM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pa(e,r)}catch{return!0}}function GM(e){var t=Ti(e,1);t!==null&&da(t,e,1,-1)}function Wk(e){var t=Sa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yf,lastRenderedState:e},t.queue=e,e=e.dispatch=XW.bind(null,dr,e),[t.memoizedState,e]}function Xf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function YM(){return Us().memoizedState}function Hg(e,t,r,n){var a=Sa();dr.flags|=e,a.memoizedState=Xf(1|t,r,void 0,n===void 0?null:n)}function jv(e,t,r,n){var a=Us();n=n===void 0?null:n;var i=void 0;if(Tr!==null){var o=Tr.memoizedState;if(i=o.destroy,n!==null&&q2(n,o.deps)){a.memoizedState=Xf(t,r,i,n);return}}dr.flags|=e,a.memoizedState=Xf(1|t,r,i,n)}function Vk(e,t){return Hg(8390656,8,e,t)}function Y2(e,t){return jv(2048,8,e,t)}function XM(e,t){return jv(4,2,e,t)}function QM(e,t){return jv(4,4,e,t)}function ZM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JM(e,t,r){return r=r!=null?r.concat([e]):null,jv(4,4,ZM.bind(null,t,e),r)}function X2(){}function e3(e,t){var r=Us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function t3(e,t){var r=Us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function r3(e,t,r){return oc&21?(pa(r,t)||(r=oM(),dr.lanes|=r,lc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Hn=!0),e.memoizedState=r)}function GW(e,t){var r=$t;$t=r!==0&&4>r?r:4,e(!0);var n=_b.transition;_b.transition={};try{e(!1),t()}finally{$t=r,_b.transition=n}}function n3(){return Us().memoizedState}function YW(e,t,r){var n=$o(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s3(e))a3(t,r);else if(r=FM(e,t,r,n),r!==null){var a=On();da(r,e,n,a),i3(r,t,n)}}function XW(e,t,r){var n=$o(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s3(e))a3(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,pa(l,o)){var c=t.interleaved;c===null?(a.next=a,B2(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=FM(e,t,a,n),r!==null&&(a=On(),da(r,e,n,a),i3(r,t,n))}}function s3(e){var t=e.alternate;return e===dr||t!==null&&t===dr}function a3(e,t){xf=Cx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function i3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,k2(e,r)}}var Px={readContext:Bs,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},QW={readContext:Bs,useCallback:function(e,t){return Sa().memoizedState=[e,t===void 0?null:t],e},useContext:Bs,useEffect:Vk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hg(4194308,4,ZM.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hg(4,2,e,t)},useMemo:function(e,t){var r=Sa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Sa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=YW.bind(null,dr,e),[n.memoizedState,e]},useRef:function(e){var t=Sa();return e={current:e},t.memoizedState=e},useState:Wk,useDebugValue:X2,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Wk(!1),t=e[0];return e=GW.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=dr,a=Sa();if(or){if(r===void 0)throw Error(ke(407));r=r()}else{if(r=t(),Jr===null)throw Error(ke(349));oc&30||VM(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Vk(qM.bind(null,n,i,e),[e]),n.flags|=2048,Xf(9,HM.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Sa(),t=Jr.identifierPrefix;if(or){var r=xi,n=gi;r=(n&~(1<<32-ca(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=KW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZW={readContext:Bs,useCallback:e3,useContext:Bs,useEffect:Y2,useImperativeHandle:JM,useInsertionEffect:XM,useLayoutEffect:QM,useMemo:t3,useReducer:Ab,useRef:YM,useState:function(){return Ab(Yf)},useDebugValue:X2,useDeferredValue:function(e){var t=Us();return r3(t,Tr.memoizedState,e)},useTransition:function(){var e=Ab(Yf)[0],t=Us().memoizedState;return[e,t]},useMutableSource:UM,useSyncExternalStore:WM,useId:n3,unstable_isNewReconciler:!1},JW={readContext:Bs,useCallback:e3,useContext:Bs,useEffect:Y2,useImperativeHandle:JM,useInsertionEffect:XM,useLayoutEffect:QM,useMemo:t3,useReducer:Eb,useRef:YM,useState:function(){return Eb(Yf)},useDebugValue:X2,useDeferredValue:function(e){var t=Us();return Tr===null?t.memoizedState=e:r3(t,Tr.memoizedState,e)},useTransition:function(){var e=Eb(Yf)[0],t=Us().memoizedState;return[e,t]},useMutableSource:UM,useSyncExternalStore:WM,useId:n3,unstable_isNewReconciler:!1};function Zs(e,t){if(e&&e.defaultProps){t=ur({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function jj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ur({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nv={isMounted:function(e){return(e=e._reactInternals)?Pc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=On(),a=$o(e),i=wi(n,a);i.payload=t,r!=null&&(i.callback=r),t=Io(e,i,a),t!==null&&(da(t,e,a,n),Wg(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=On(),a=$o(e),i=wi(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Io(e,i,a),t!==null&&(da(t,e,a,n),Wg(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=On(),n=$o(e),a=wi(r,n);a.tag=2,t!=null&&(a.callback=t),t=Io(e,a,n),t!==null&&(da(t,e,n,r),Wg(t,e,n))}};function Hk(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Uf(r,n)||!Uf(a,i):!0}function o3(e,t,r){var n=!1,a=qo,i=t.contextType;return typeof i=="object"&&i!==null?i=Bs(i):(a=Yn(t)?ac:jn.current,n=t.contextTypes,i=(n=n!=null)?Yd(e,a):qo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function qk(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Nv.enqueueReplaceState(t,t.state,null)}function Nj(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},U2(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Bs(i):(i=Yn(t)?ac:jn.current,a.context=Yd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(jj(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Nv.enqueueReplaceState(a,a.state,null),Nx(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Jd(e,t){try{var r="",n=t;do r+=kU(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Tb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Sj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var eV=typeof WeakMap=="function"?WeakMap:Map;function l3(e,t,r){r=wi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_x||(_x=!0,Dj=n),Sj(e,t)},r}function c3(e,t,r){r=wi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Sj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Sj(e,t),typeof n!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Kk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new eV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=mV.bind(null,e,t,r),t.then(e,e))}function Gk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yk(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wi(-1,1),t.tag=2,Io(r,t,1))),r.lanes|=1),e)}var tV=zi.ReactCurrentOwner,Hn=!1;function An(e,t,r,n){t.child=e===null?LM(t,null,r,n):Qd(t,e.child,r,n)}function Xk(e,t,r,n,a){r=r.render;var i=t.ref;return wd(t,a),n=K2(e,t,r,n,i,a),r=G2(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oi(e,t,a)):(or&&r&&I2(t),t.flags|=1,An(e,t,n,a),t.child)}function Qk(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!sS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,d3(e,t,i,n,a)):(e=Yg(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Uf,r(o,n)&&e.ref===t.ref)return Oi(e,t,a)}return t.flags|=1,e=Lo(i,n),e.ref=t.ref,e.return=t,t.child=e}function d3(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Uf(i,n)&&e.ref===t.ref)if(Hn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Hn=!0);else return t.lanes=e.lanes,Oi(e,t,a)}return Cj(e,t,r,n,a)}function u3(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(hd,as),as|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(hd,as),as|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qt(hd,as),as|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qt(hd,as),as|=n;return An(e,t,a,r),t.child}function h3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cj(e,t,r,n,a){var i=Yn(r)?ac:jn.current;return i=Yd(t,i),wd(t,a),r=K2(e,t,r,n,i,a),n=G2(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oi(e,t,a)):(or&&n&&I2(t),t.flags|=1,An(e,t,r,a),t.child)}function Zk(e,t,r,n,a){if(Yn(r)){var i=!0;yx(t)}else i=!1;if(wd(t,a),t.stateNode===null)qg(e,t),o3(t,r,n),Nj(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Bs(d):(d=Yn(r)?ac:jn.current,d=Yd(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&qk(t,o,n,d),no=!1;var f=t.memoizedState;o.state=f,Nx(t,n,o,a),c=t.memoizedState,l!==n||f!==c||Gn.current||no?(typeof u=="function"&&(jj(t,r,u,n),c=t.memoizedState),(l=no||Hk(t,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,zM(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Zs(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bs(c):(c=Yn(r)?ac:jn.current,c=Yd(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&qk(t,o,n,c),no=!1,f=t.memoizedState,o.state=f,Nx(t,n,o,a);var x=t.memoizedState;l!==h||f!==x||Gn.current||no?(typeof p=="function"&&(jj(t,r,p,n),x=t.memoizedState),(d=no||Hk(t,r,d,n,f,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Pj(e,t,r,n,i,a)}function Pj(e,t,r,n,a,i){h3(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&$k(t,r,!1),Oi(e,t,i);n=t.stateNode,tV.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Qd(t,e.child,null,i),t.child=Qd(t,null,l,i)):An(e,t,l,i),t.memoizedState=n.state,a&&$k(t,r,!0),t.child}function f3(e){var t=e.stateNode;t.pendingContext?Rk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rk(e,t.context,!1),W2(e,t.containerInfo)}function Jk(e,t,r,n,a){return Xd(),$2(a),t.flags|=256,An(e,t,r,n),t.child}var kj={dehydrated:null,treeContext:null,retryLane:0};function _j(e){return{baseLanes:e,cachePool:null,transitions:null}}function m3(e,t,r){var n=t.pendingProps,a=cr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),qt(cr,a&1),e===null)return bj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pv(o,n,0,null),e=Zl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_j(r),t.memoizedState=kj,e):Q2(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return rV(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Lo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Lo(l,i):(i=Zl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?_j(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=kj,n}return i=e.child,e=i.sibling,n=Lo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Q2(e,t){return t=Pv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kp(e,t,r,n){return n!==null&&$2(n),Qd(t,e.child,null,r),e=Q2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rV(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Tb(Error(ke(422))),Kp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Pv({mode:"visible",children:n.children},a,0,null),i=Zl(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Qd(t,e.child,null,o),t.child.memoizedState=_j(o),t.memoizedState=kj,i);if(!(t.mode&1))return Kp(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ke(419)),n=Tb(i,n,void 0),Kp(e,t,o,n)}if(l=(o&e.childLanes)!==0,Hn||l){if(n=Jr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ti(e,a),da(n,e,a,-1))}return nS(),n=Tb(Error(ke(421))),Kp(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=pV.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,hs=Do(a.nextSibling),fs=t,or=!0,sa=null,e!==null&&(As[Es++]=gi,As[Es++]=xi,As[Es++]=ic,gi=e.id,xi=e.overflow,ic=t),t=Q2(t,n.children),t.flags|=4096,t)}function e_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),wj(e.return,t,r)}function Ob(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function p3(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(An(e,t,n.children,r),n=cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&e_(e,r,t);else if(e.tag===19)e_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qt(cr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Sx(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ob(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Sx(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ob(t,!0,r,null,i);break;case"together":Ob(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Oi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),lc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ke(153));if(t.child!==null){for(e=t.child,r=Lo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function nV(e,t,r){switch(t.tag){case 3:f3(t),Xd();break;case 5:BM(t);break;case 1:Yn(t.type)&&yx(t);break;case 4:W2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;qt(wx,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qt(cr,cr.current&1),t.flags|=128,null):r&t.child.childLanes?m3(e,t,r):(qt(cr,cr.current&1),e=Oi(e,t,r),e!==null?e.sibling:null);qt(cr,cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return p3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qt(cr,cr.current),n)break;return null;case 22:case 23:return t.lanes=0,u3(e,t,r)}return Oi(e,t,r)}var g3,Aj,x3,y3;g3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Aj=function(){};x3=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ml(La.current);var i=null;switch(r){case"input":a=Qw(e,a),n=Qw(e,n),i=[];break;case"select":a=ur({},a,{value:void 0}),n=ur({},n,{value:void 0}),i=[];break;case"textarea":a=ej(e,a),n=ej(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gx)}rj(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(If.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(If.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&er("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};y3=function(e,t,r,n){r!==n&&(t.flags|=4)};function _h(e,t){if(!or)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function sV(e,t,r){var n=t.pendingProps;switch(R2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return Yn(t.type)&&xx(),fn(t),null;case 3:return n=t.stateNode,Zd(),sr(Gn),sr(jn),H2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sa!==null&&($j(sa),sa=null))),Aj(e,t),fn(t),null;case 5:V2(t);var a=Ml(Kf.current);if(r=t.type,e!==null&&t.stateNode!=null)x3(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ke(166));return fn(t),null}if(e=Ml(La.current),Hp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ta]=t,n[Hf]=i,e=(t.mode&1)!==0,r){case"dialog":er("cancel",n),er("close",n);break;case"iframe":case"object":case"embed":er("load",n);break;case"video":case"audio":for(a=0;a<rf.length;a++)er(rf[a],n);break;case"source":er("error",n);break;case"img":case"image":case"link":er("error",n),er("load",n);break;case"details":er("toggle",n);break;case"input":ck(n,i),er("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},er("invalid",n);break;case"textarea":uk(n,i),er("invalid",n)}rj(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Vp(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Vp(n.textContent,l,e),a=["children",""+l]):If.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&er("scroll",n)}switch(r){case"input":Rp(n),dk(n,i,!0);break;case"textarea":Rp(n),hk(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=gx)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q6(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ta]=t,e[Hf]=n,g3(e,t,!1,!1),t.stateNode=e;e:{switch(o=nj(r,n),r){case"dialog":er("cancel",e),er("close",e),a=n;break;case"iframe":case"object":case"embed":er("load",e),a=n;break;case"video":case"audio":for(a=0;a<rf.length;a++)er(rf[a],e);a=n;break;case"source":er("error",e),a=n;break;case"img":case"image":case"link":er("error",e),er("load",e),a=n;break;case"details":er("toggle",e),a=n;break;case"input":ck(e,n),a=Qw(e,n),er("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ur({},n,{value:void 0}),er("invalid",e);break;case"textarea":uk(e,n),a=ej(e,n),er("invalid",e);break;default:a=n}rj(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Y6(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&K6(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Rf(e,c):typeof c=="number"&&Rf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(If.hasOwnProperty(i)?c!=null&&i==="onScroll"&&er("scroll",e):c!=null&&w2(e,i,c,o))}switch(r){case"input":Rp(e),dk(e,n,!1);break;case"textarea":Rp(e),hk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ho(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?xd(e,!!n.multiple,i,!1):n.defaultValue!=null&&xd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=gx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)y3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ke(166));if(r=Ml(Kf.current),Ml(La.current),Hp(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ta]=t,(i=n.nodeValue!==r)&&(e=fs,e!==null))switch(e.tag){case 3:Vp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ta]=t,t.stateNode=n}return fn(t),null;case 13:if(sr(cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(or&&hs!==null&&t.mode&1&&!(t.flags&128))RM(),Xd(),t.flags|=98560,i=!1;else if(i=Hp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ke(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ke(317));i[Ta]=t}else Xd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),i=!1}else sa!==null&&($j(sa),sa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?Dr===0&&(Dr=3):nS())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return Zd(),Aj(e,t),e===null&&Wf(t.stateNode.containerInfo),fn(t),null;case 10:return z2(t.type._context),fn(t),null;case 17:return Yn(t.type)&&xx(),fn(t),null;case 19:if(sr(cr),i=t.memoizedState,i===null)return fn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)_h(i,!1);else{if(Dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sx(e),o!==null){for(t.flags|=128,_h(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qt(cr,cr.current&1|2),t.child}e=e.sibling}i.tail!==null&&br()>eu&&(t.flags|=128,n=!0,_h(i,!1),t.lanes=4194304)}else{if(!n)if(e=Sx(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_h(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!or)return fn(t),null}else 2*br()-i.renderingStartTime>eu&&r!==1073741824&&(t.flags|=128,n=!0,_h(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=br(),t.sibling=null,r=cr.current,qt(cr,n?r&1|2:r&1),t):(fn(t),null);case 22:case 23:return rS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?as&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(ke(156,t.tag))}function aV(e,t){switch(R2(t),t.tag){case 1:return Yn(t.type)&&xx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zd(),sr(Gn),sr(jn),H2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return V2(t),null;case 13:if(sr(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ke(340));Xd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sr(cr),null;case 4:return Zd(),null;case 10:return z2(t.type._context),null;case 22:case 23:return rS(),null;case 24:return null;default:return null}}var Gp=!1,gn=!1,iV=typeof WeakSet=="function"?WeakSet:Set,Be=null;function ud(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(e,t,n)}else r.current=null}function Ej(e,t,r){try{r()}catch(n){fr(e,t,n)}}var t_=!1;function oV(e,t){if(fj=fx,e=NM(),D2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++d===a&&(l=o),f===i&&++u===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(mj={focusedElem:e,selectionRange:r},fx=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){t=Be;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,g=x.memoizedState,y=t.stateNode,j=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Zs(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(b){fr(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}return x=t_,t_=!1,x}function yf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ej(t,r,i)}a=a.next}while(a!==n)}}function Sv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Tj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function v3(e){var t=e.alternate;t!==null&&(e.alternate=null,v3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ta],delete t[Hf],delete t[xj],delete t[WW],delete t[VW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b3(e){return e.tag===5||e.tag===3||e.tag===4}function r_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gx));else if(n!==4&&(e=e.child,e!==null))for(Oj(e,t,r),e=e.sibling;e!==null;)Oj(e,t,r),e=e.sibling}function Mj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Mj(e,t,r),e=e.sibling;e!==null;)Mj(e,t,r),e=e.sibling}var sn=null,ta=!1;function Gi(e,t,r){for(r=r.child;r!==null;)w3(e,t,r),r=r.sibling}function w3(e,t,r){if($a&&typeof $a.onCommitFiberUnmount=="function")try{$a.onCommitFiberUnmount(gv,r)}catch{}switch(r.tag){case 5:gn||ud(r,t);case 6:var n=sn,a=ta;sn=null,Gi(e,t,r),sn=n,ta=a,sn!==null&&(ta?(e=sn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):sn.removeChild(r.stateNode));break;case 18:sn!==null&&(ta?(e=sn,r=r.stateNode,e.nodeType===8?Cb(e.parentNode,r):e.nodeType===1&&Cb(e,r),zf(e)):Cb(sn,r.stateNode));break;case 4:n=sn,a=ta,sn=r.stateNode.containerInfo,ta=!0,Gi(e,t,r),sn=n,ta=a;break;case 0:case 11:case 14:case 15:if(!gn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ej(r,t,o),a=a.next}while(a!==n)}Gi(e,t,r);break;case 1:if(!gn&&(ud(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fr(r,t,l)}Gi(e,t,r);break;case 21:Gi(e,t,r);break;case 22:r.mode&1?(gn=(n=gn)||r.memoizedState!==null,Gi(e,t,r),gn=n):Gi(e,t,r);break;default:Gi(e,t,r)}}function n_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new iV),t.forEach(function(n){var a=gV.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ys(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:sn=l.stateNode,ta=!1;break e;case 3:sn=l.stateNode.containerInfo,ta=!0;break e;case 4:sn=l.stateNode.containerInfo,ta=!0;break e}l=l.return}if(sn===null)throw Error(ke(160));w3(i,o,a),sn=null,ta=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){fr(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j3(t,e),t=t.sibling}function j3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ys(t,e),wa(e),n&4){try{yf(3,e,e.return),Sv(3,e)}catch(m){fr(e,e.return,m)}try{yf(5,e,e.return)}catch(m){fr(e,e.return,m)}}break;case 1:Ys(t,e),wa(e),n&512&&r!==null&&ud(r,r.return);break;case 5:if(Ys(t,e),wa(e),n&512&&r!==null&&ud(r,r.return),e.flags&32){var a=e.stateNode;try{Rf(a,"")}catch(m){fr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&V6(a,i),nj(l,o);var d=nj(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Y6(a,h):u==="dangerouslySetInnerHTML"?K6(a,h):u==="children"?Rf(a,h):w2(a,u,h,d)}switch(l){case"input":Zw(a,i);break;case"textarea":H6(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?xd(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?xd(a,!!i.multiple,i.defaultValue,!0):xd(a,!!i.multiple,i.multiple?[]:"",!1))}a[Hf]=i}catch(m){fr(e,e.return,m)}}break;case 6:if(Ys(t,e),wa(e),n&4){if(e.stateNode===null)throw Error(ke(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){fr(e,e.return,m)}}break;case 3:if(Ys(t,e),wa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zf(t.containerInfo)}catch(m){fr(e,e.return,m)}break;case 4:Ys(t,e),wa(e);break;case 13:Ys(t,e),wa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(eS=br())),n&4&&n_(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(gn=(d=gn)||u,Ys(t,e),gn=d):Ys(t,e),wa(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Be=e,u=e.child;u!==null;){for(h=Be=u;Be!==null;){switch(f=Be,p=f.child,f.tag){case 0:case 11:case 14:case 15:yf(4,f,f.return);break;case 1:ud(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){fr(n,r,m)}}break;case 5:ud(f,f.return);break;case 22:if(f.memoizedState!==null){a_(h);continue}}p!==null?(p.return=f,Be=p):a_(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=G6("display",o))}catch(m){fr(e,e.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){fr(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ys(t,e),wa(e),n&4&&n_(e);break;case 21:break;default:Ys(t,e),wa(e)}}function wa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(b3(r)){var n=r;break e}r=r.return}throw Error(ke(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Rf(a,""),n.flags&=-33);var i=r_(e);Mj(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=r_(e);Oj(e,l,o);break;default:throw Error(ke(161))}}catch(c){fr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lV(e,t,r){Be=e,N3(e)}function N3(e,t,r){for(var n=(e.mode&1)!==0;Be!==null;){var a=Be,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Gp;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||gn;l=Gp;var d=gn;if(Gp=o,(gn=c)&&!d)for(Be=a;Be!==null;)o=Be,c=o.child,o.tag===22&&o.memoizedState!==null?i_(a):c!==null?(c.return=o,Be=c):i_(a);for(;i!==null;)Be=i,N3(i),i=i.sibling;Be=a,Gp=l,gn=d}s_(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Be=i):s_(e)}}function s_(e){for(;Be!==null;){var t=Be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gn||Sv(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Zs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Uk(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Uk(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&zf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}gn||t.flags&512&&Tj(t)}catch(f){fr(t,t.return,f)}}if(t===e){Be=null;break}if(r=t.sibling,r!==null){r.return=t.return,Be=r;break}Be=t.return}}function a_(e){for(;Be!==null;){var t=Be;if(t===e){Be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Be=r;break}Be=t.return}}function i_(e){for(;Be!==null;){var t=Be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sv(4,t)}catch(c){fr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){fr(t,a,c)}}var i=t.return;try{Tj(t)}catch(c){fr(t,i,c)}break;case 5:var o=t.return;try{Tj(t)}catch(c){fr(t,o,c)}}}catch(c){fr(t,t.return,c)}if(t===e){Be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Be=l;break}Be=t.return}}var cV=Math.ceil,kx=zi.ReactCurrentDispatcher,Z2=zi.ReactCurrentOwner,$s=zi.ReactCurrentBatchConfig,Pt=0,Jr=null,Cr=null,dn=0,as=0,hd=al(0),Dr=0,Qf=null,lc=0,Cv=0,J2=0,vf=null,Un=null,eS=0,eu=1/0,li=null,_x=!1,Dj=null,Ro=null,Yp=!1,No=null,Ax=0,bf=0,Ij=null,Kg=-1,Gg=0;function On(){return Pt&6?br():Kg!==-1?Kg:Kg=br()}function $o(e){return e.mode&1?Pt&2&&dn!==0?dn&-dn:qW.transition!==null?(Gg===0&&(Gg=oM()),Gg):(e=$t,e!==0||(e=window.event,e=e===void 0?16:mM(e.type)),e):1}function da(e,t,r,n){if(50<bf)throw bf=0,Ij=null,Error(ke(185));np(e,r,n),(!(Pt&2)||e!==Jr)&&(e===Jr&&(!(Pt&2)&&(Cv|=r),Dr===4&&oo(e,dn)),Xn(e,n),r===1&&Pt===0&&!(t.mode&1)&&(eu=br()+500,wv&&il()))}function Xn(e,t){var r=e.callbackNode;qU(e,t);var n=hx(e,e===Jr?dn:0);if(n===0)r!==null&&pk(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pk(r),t===1)e.tag===0?HW(o_.bind(null,e)):MM(o_.bind(null,e)),BW(function(){!(Pt&6)&&il()}),r=null;else{switch(lM(n)){case 1:r=P2;break;case 4:r=aM;break;case 16:r=ux;break;case 536870912:r=iM;break;default:r=ux}r=T3(r,S3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function S3(e,t){if(Kg=-1,Gg=0,Pt&6)throw Error(ke(327));var r=e.callbackNode;if(jd()&&e.callbackNode!==r)return null;var n=hx(e,e===Jr?dn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ex(e,n);else{t=n;var a=Pt;Pt|=2;var i=P3();(Jr!==e||dn!==t)&&(li=null,eu=br()+500,Ql(e,t));do try{hV();break}catch(l){C3(e,l)}while(!0);F2(),kx.current=i,Pt=a,Cr!==null?t=0:(Jr=null,dn=0,t=Dr)}if(t!==0){if(t===2&&(a=lj(e),a!==0&&(n=a,t=Rj(e,a))),t===1)throw r=Qf,Ql(e,0),oo(e,n),Xn(e,br()),r;if(t===6)oo(e,n);else{if(a=e.current.alternate,!(n&30)&&!dV(a)&&(t=Ex(e,n),t===2&&(i=lj(e),i!==0&&(n=i,t=Rj(e,i))),t===1))throw r=Qf,Ql(e,0),oo(e,n),Xn(e,br()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ke(345));case 2:jl(e,Un,li);break;case 3:if(oo(e,n),(n&130023424)===n&&(t=eS+500-br(),10<t)){if(hx(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){On(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=gj(jl.bind(null,e,Un,li),t);break}jl(e,Un,li);break;case 4:if(oo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ca(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=br()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cV(n/1960))-n,10<n){e.timeoutHandle=gj(jl.bind(null,e,Un,li),n);break}jl(e,Un,li);break;case 5:jl(e,Un,li);break;default:throw Error(ke(329))}}}return Xn(e,br()),e.callbackNode===r?S3.bind(null,e):null}function Rj(e,t){var r=vf;return e.current.memoizedState.isDehydrated&&(Ql(e,t).flags|=256),e=Ex(e,t),e!==2&&(t=Un,Un=r,t!==null&&$j(t)),e}function $j(e){Un===null?Un=e:Un.push.apply(Un,e)}function dV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!pa(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oo(e,t){for(t&=~J2,t&=~Cv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ca(t),n=1<<r;e[r]=-1,t&=~n}}function o_(e){if(Pt&6)throw Error(ke(327));jd();var t=hx(e,0);if(!(t&1))return Xn(e,br()),null;var r=Ex(e,t);if(e.tag!==0&&r===2){var n=lj(e);n!==0&&(t=n,r=Rj(e,n))}if(r===1)throw r=Qf,Ql(e,0),oo(e,t),Xn(e,br()),r;if(r===6)throw Error(ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jl(e,Un,li),Xn(e,br()),null}function tS(e,t){var r=Pt;Pt|=1;try{return e(t)}finally{Pt=r,Pt===0&&(eu=br()+500,wv&&il())}}function cc(e){No!==null&&No.tag===0&&!(Pt&6)&&jd();var t=Pt;Pt|=1;var r=$s.transition,n=$t;try{if($s.transition=null,$t=1,e)return e()}finally{$t=n,$s.transition=r,Pt=t,!(Pt&6)&&il()}}function rS(){as=hd.current,sr(hd)}function Ql(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zW(r)),Cr!==null)for(r=Cr.return;r!==null;){var n=r;switch(R2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xx();break;case 3:Zd(),sr(Gn),sr(jn),H2();break;case 5:V2(n);break;case 4:Zd();break;case 13:sr(cr);break;case 19:sr(cr);break;case 10:z2(n.type._context);break;case 22:case 23:rS()}r=r.return}if(Jr=e,Cr=e=Lo(e.current,null),dn=as=t,Dr=0,Qf=null,J2=Cv=lc=0,Un=vf=null,Ol!==null){for(t=0;t<Ol.length;t++)if(r=Ol[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Ol=null}return e}function C3(e,t){do{var r=Cr;try{if(F2(),Vg.current=Px,Cx){for(var n=dr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Cx=!1}if(oc=0,Kr=Tr=dr=null,xf=!1,Gf=0,Z2.current=null,r===null||r.return===null){Dr=1,Qf=t,Cr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=dn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Gk(o);if(p!==null){p.flags&=-257,Yk(p,o,l,i,t),p.mode&1&&Kk(i,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){Kk(i,d,t),nS();break e}c=Error(ke(426))}}else if(or&&l.mode&1){var g=Gk(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Yk(g,o,l,i,t),$2(Jd(c,l));break e}}i=c=Jd(c,l),Dr!==4&&(Dr=2),vf===null?vf=[i]:vf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=l3(i,c,t);Bk(i,y);break e;case 1:l=c;var j=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof j.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ro===null||!Ro.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=c3(i,l,t);Bk(i,b);break e}}i=i.return}while(i!==null)}_3(r)}catch(N){t=N,Cr===r&&r!==null&&(Cr=r=r.return);continue}break}while(!0)}function P3(){var e=kx.current;return kx.current=Px,e===null?Px:e}function nS(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Jr===null||!(lc&268435455)&&!(Cv&268435455)||oo(Jr,dn)}function Ex(e,t){var r=Pt;Pt|=2;var n=P3();(Jr!==e||dn!==t)&&(li=null,Ql(e,t));do try{uV();break}catch(a){C3(e,a)}while(!0);if(F2(),Pt=r,kx.current=n,Cr!==null)throw Error(ke(261));return Jr=null,dn=0,Dr}function uV(){for(;Cr!==null;)k3(Cr)}function hV(){for(;Cr!==null&&!$U();)k3(Cr)}function k3(e){var t=E3(e.alternate,e,as);e.memoizedProps=e.pendingProps,t===null?_3(e):Cr=t,Z2.current=null}function _3(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=aV(r,t),r!==null){r.flags&=32767,Cr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dr=6,Cr=null;return}}else if(r=sV(r,t,as),r!==null){Cr=r;return}if(t=t.sibling,t!==null){Cr=t;return}Cr=t=e}while(t!==null);Dr===0&&(Dr=5)}function jl(e,t,r){var n=$t,a=$s.transition;try{$s.transition=null,$t=1,fV(e,t,r,n)}finally{$s.transition=a,$t=n}return null}function fV(e,t,r,n){do jd();while(No!==null);if(Pt&6)throw Error(ke(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ke(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(KU(e,i),e===Jr&&(Cr=Jr=null,dn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yp||(Yp=!0,T3(ux,function(){return jd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=$s.transition,$s.transition=null;var o=$t;$t=1;var l=Pt;Pt|=4,Z2.current=null,oV(e,r),j3(r,e),MW(mj),fx=!!fj,mj=fj=null,e.current=r,lV(r),LU(),Pt=l,$t=o,$s.transition=i}else e.current=r;if(Yp&&(Yp=!1,No=e,Ax=a),i=e.pendingLanes,i===0&&(Ro=null),BU(r.stateNode),Xn(e,br()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(_x)throw _x=!1,e=Dj,Dj=null,e;return Ax&1&&e.tag!==0&&jd(),i=e.pendingLanes,i&1?e===Ij?bf++:(bf=0,Ij=e):bf=0,il(),null}function jd(){if(No!==null){var e=lM(Ax),t=$s.transition,r=$t;try{if($s.transition=null,$t=16>e?16:e,No===null)var n=!1;else{if(e=No,No=null,Ax=0,Pt&6)throw Error(ke(331));var a=Pt;for(Pt|=4,Be=e.current;Be!==null;){var i=Be,o=i.child;if(Be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Be=d;Be!==null;){var u=Be;switch(u.tag){case 0:case 11:case 15:yf(8,u,i)}var h=u.child;if(h!==null)h.return=u,Be=h;else for(;Be!==null;){u=Be;var f=u.sibling,p=u.return;if(v3(u),u===d){Be=null;break}if(f!==null){f.return=p,Be=f;break}Be=p}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Be=o;else e:for(;Be!==null;){if(i=Be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Be=y;break e}Be=i.return}}var j=e.current;for(Be=j;Be!==null;){o=Be;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Be=w;else e:for(o=j;Be!==null;){if(l=Be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sv(9,l)}}catch(N){fr(l,l.return,N)}if(l===o){Be=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Be=b;break e}Be=l.return}}if(Pt=a,il(),$a&&typeof $a.onPostCommitFiberRoot=="function")try{$a.onPostCommitFiberRoot(gv,e)}catch{}n=!0}return n}finally{$t=r,$s.transition=t}}return!1}function l_(e,t,r){t=Jd(r,t),t=l3(e,t,1),e=Io(e,t,1),t=On(),e!==null&&(np(e,1,t),Xn(e,t))}function fr(e,t,r){if(e.tag===3)l_(e,e,r);else for(;t!==null;){if(t.tag===3){l_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ro===null||!Ro.has(n))){e=Jd(r,e),e=c3(t,e,1),t=Io(t,e,1),e=On(),t!==null&&(np(t,1,e),Xn(t,e));break}}t=t.return}}function mV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=On(),e.pingedLanes|=e.suspendedLanes&r,Jr===e&&(dn&r)===r&&(Dr===4||Dr===3&&(dn&130023424)===dn&&500>br()-eS?Ql(e,0):J2|=r),Xn(e,t)}function A3(e,t){t===0&&(e.mode&1?(t=Fp,Fp<<=1,!(Fp&130023424)&&(Fp=4194304)):t=1);var r=On();e=Ti(e,t),e!==null&&(np(e,t,r),Xn(e,r))}function pV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),A3(e,r)}function gV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ke(314))}n!==null&&n.delete(t),A3(e,r)}var E3;E3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)Hn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Hn=!1,nV(e,t,r);Hn=!!(e.flags&131072)}else Hn=!1,or&&t.flags&1048576&&DM(t,bx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qg(e,t),e=t.pendingProps;var a=Yd(t,jn.current);wd(t,r),a=K2(null,t,n,e,a,r);var i=G2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yn(n)?(i=!0,yx(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,U2(t),a.updater=Nv,t.stateNode=a,a._reactInternals=t,Nj(t,n,e,r),t=Pj(null,t,n,!0,i,r)):(t.tag=0,or&&i&&I2(t),An(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qg(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=yV(n),e=Zs(n,e),a){case 0:t=Cj(null,t,n,e,r);break e;case 1:t=Zk(null,t,n,e,r);break e;case 11:t=Xk(null,t,n,e,r);break e;case 14:t=Qk(null,t,n,Zs(n.type,e),r);break e}throw Error(ke(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Zs(n,a),Cj(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Zs(n,a),Zk(e,t,n,a,r);case 3:e:{if(f3(t),e===null)throw Error(ke(387));n=t.pendingProps,i=t.memoizedState,a=i.element,zM(e,t),Nx(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Jd(Error(ke(423)),t),t=Jk(e,t,n,r,a);break e}else if(n!==a){a=Jd(Error(ke(424)),t),t=Jk(e,t,n,r,a);break e}else for(hs=Do(t.stateNode.containerInfo.firstChild),fs=t,or=!0,sa=null,r=LM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xd(),n===a){t=Oi(e,t,r);break e}An(e,t,n,r)}t=t.child}return t;case 5:return BM(t),e===null&&bj(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,pj(n,a)?o=null:i!==null&&pj(n,i)&&(t.flags|=32),h3(e,t),An(e,t,o,r),t.child;case 6:return e===null&&bj(t),null;case 13:return m3(e,t,r);case 4:return W2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qd(t,null,n,r):An(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Zs(n,a),Xk(e,t,n,a,r);case 7:return An(e,t,t.pendingProps,r),t.child;case 8:return An(e,t,t.pendingProps.children,r),t.child;case 12:return An(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,qt(wx,n._currentValue),n._currentValue=o,i!==null)if(pa(i.value,o)){if(i.children===a.children&&!Gn.current){t=Oi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=wi(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),wj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ke(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),wj(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}An(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,wd(t,r),a=Bs(a),n=n(a),t.flags|=1,An(e,t,n,r),t.child;case 14:return n=t.type,a=Zs(n,t.pendingProps),a=Zs(n.type,a),Qk(e,t,n,a,r);case 15:return d3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Zs(n,a),qg(e,t),t.tag=1,Yn(n)?(e=!0,yx(t)):e=!1,wd(t,r),o3(t,n,a),Nj(t,n,a,r),Pj(null,t,n,!0,e,r);case 19:return p3(e,t,r);case 22:return u3(e,t,r)}throw Error(ke(156,t.tag))};function T3(e,t){return sM(e,t)}function xV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(e,t,r,n){return new xV(e,t,r,n)}function sS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yV(e){if(typeof e=="function")return sS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===N2)return 11;if(e===S2)return 14}return 2}function Lo(e,t){var r=e.alternate;return r===null?(r=Ts(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yg(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")sS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rd:return Zl(r.children,a,i,t);case j2:o=8,a|=8;break;case Kw:return e=Ts(12,r,t,a|2),e.elementType=Kw,e.lanes=i,e;case Gw:return e=Ts(13,r,t,a),e.elementType=Gw,e.lanes=i,e;case Yw:return e=Ts(19,r,t,a),e.elementType=Yw,e.lanes=i,e;case B6:return Pv(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F6:o=10;break e;case z6:o=9;break e;case N2:o=11;break e;case S2:o=14;break e;case ro:o=16,n=null;break e}throw Error(ke(130,e==null?e:typeof e,""))}return t=Ts(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Zl(e,t,r,n){return e=Ts(7,e,n,t),e.lanes=r,e}function Pv(e,t,r,n){return e=Ts(22,e,n,t),e.elementType=B6,e.lanes=r,e.stateNode={isHidden:!1},e}function Mb(e,t,r){return e=Ts(6,e,null,t),e.lanes=r,e}function Db(e,t,r){return t=Ts(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vV(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mb(0),this.expirationTimes=mb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mb(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function aS(e,t,r,n,a,i,o,l,c){return e=new vV(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ts(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},U2(i),e}function bV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:td,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function O3(e){if(!e)return qo;e=e._reactInternals;e:{if(Pc(e)!==e||e.tag!==1)throw Error(ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ke(171))}if(e.tag===1){var r=e.type;if(Yn(r))return OM(e,r,t)}return t}function M3(e,t,r,n,a,i,o,l,c){return e=aS(r,n,!0,e,a,i,o,l,c),e.context=O3(null),r=e.current,n=On(),a=$o(r),i=wi(n,a),i.callback=t??null,Io(r,i,a),e.current.lanes=a,np(e,a,n),Xn(e,n),e}function kv(e,t,r,n){var a=t.current,i=On(),o=$o(a);return r=O3(r),t.context===null?t.context=r:t.pendingContext=r,t=wi(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Io(a,t,o),e!==null&&(da(e,a,o,i),Wg(e,a,o)),o}function Tx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function c_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function iS(e,t){c_(e,t),(e=e.alternate)&&c_(e,t)}function wV(){return null}var D3=typeof reportError=="function"?reportError:function(e){console.error(e)};function oS(e){this._internalRoot=e}_v.prototype.render=oS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ke(409));kv(e,t,null,null)};_v.prototype.unmount=oS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cc(function(){kv(null,e,null,null)}),t[Ei]=null}};function _v(e){this._internalRoot=e}_v.prototype.unstable_scheduleHydration=function(e){if(e){var t=uM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<io.length&&t!==0&&t<io[r].priority;r++);io.splice(r,0,e),r===0&&fM(e)}};function lS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Av(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function d_(){}function jV(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Tx(o);i.call(d)}}var o=M3(t,n,e,0,null,!1,!1,"",d_);return e._reactRootContainer=o,e[Ei]=o.current,Wf(e.nodeType===8?e.parentNode:e),cc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Tx(c);l.call(d)}}var c=aS(e,0,!1,null,null,!1,!1,"",d_);return e._reactRootContainer=c,e[Ei]=c.current,Wf(e.nodeType===8?e.parentNode:e),cc(function(){kv(t,c,r,n)}),c}function Ev(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Tx(o);l.call(c)}}kv(t,o,e,a)}else o=jV(r,t,e,a,n);return Tx(o)}cM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tf(t.pendingLanes);r!==0&&(k2(t,r|1),Xn(t,br()),!(Pt&6)&&(eu=br()+500,il()))}break;case 13:cc(function(){var n=Ti(e,1);if(n!==null){var a=On();da(n,e,1,a)}}),iS(e,1)}};_2=function(e){if(e.tag===13){var t=Ti(e,134217728);if(t!==null){var r=On();da(t,e,134217728,r)}iS(e,134217728)}};dM=function(e){if(e.tag===13){var t=$o(e),r=Ti(e,t);if(r!==null){var n=On();da(r,e,t,n)}iS(e,t)}};uM=function(){return $t};hM=function(e,t){var r=$t;try{return $t=e,t()}finally{$t=r}};aj=function(e,t,r){switch(t){case"input":if(Zw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=bv(n);if(!a)throw Error(ke(90));W6(n),Zw(n,a)}}}break;case"textarea":H6(e,r);break;case"select":t=r.value,t!=null&&xd(e,!!r.multiple,t,!1)}};Z6=tS;J6=cc;var NV={usingClientEntryPoint:!1,Events:[ap,id,bv,X6,Q6,tS]},Ah={findFiberByHostInstance:Tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SV={bundleType:Ah.bundleType,version:Ah.version,rendererPackageName:Ah.rendererPackageName,rendererConfig:Ah.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rM(e),e===null?null:e.stateNode},findFiberByHostInstance:Ah.findFiberByHostInstance||wV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xp.isDisabled&&Xp.supportsFiber)try{gv=Xp.inject(SV),$a=Xp}catch{}}vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NV;vs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lS(t))throw Error(ke(200));return bV(e,t,null,r)};vs.createRoot=function(e,t){if(!lS(e))throw Error(ke(299));var r=!1,n="",a=D3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=aS(e,1,!1,null,null,r,!1,n,a),e[Ei]=t.current,Wf(e.nodeType===8?e.parentNode:e),new oS(t)};vs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ke(188)):(e=Object.keys(e).join(","),Error(ke(268,e)));return e=rM(t),e=e===null?null:e.stateNode,e};vs.flushSync=function(e){return cc(e)};vs.hydrate=function(e,t,r){if(!Av(t))throw Error(ke(200));return Ev(null,e,t,!0,r)};vs.hydrateRoot=function(e,t,r){if(!lS(e))throw Error(ke(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=D3;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=M3(t,null,e,1,r??null,a,!1,i,o),e[Ei]=t.current,Wf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new _v(t)};vs.render=function(e,t,r){if(!Av(t))throw Error(ke(200));return Ev(null,e,t,!1,r)};vs.unmountComponentAtNode=function(e){if(!Av(e))throw Error(ke(40));return e._reactRootContainer?(cc(function(){Ev(null,null,e,!1,function(){e._reactRootContainer=null,e[Ei]=null})}),!0):!1};vs.unstable_batchedUpdates=tS;vs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Av(r))throw Error(ke(200));if(e==null||e._reactInternals===void 0)throw Error(ke(38));return Ev(e,t,r,!1,n)};vs.version="18.3.1-next-f1338f8080-20240426";function I3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I3)}catch(e){console.error(e)}}I3(),I6.exports=vs;var kc=I6.exports;const CV=zt(kc);var R3,u_=kc;R3=u_.createRoot,u_.hydrateRoot;function PV(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var $3={exports:{}},L3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=v;function kV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _V=typeof Object.is=="function"?Object.is:kV,AV=tu.useState,EV=tu.useEffect,TV=tu.useLayoutEffect,OV=tu.useDebugValue;function MV(e,t){var r=t(),n=AV({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return TV(function(){a.value=r,a.getSnapshot=t,Ib(a)&&i({inst:a})},[e,r,t]),EV(function(){return Ib(a)&&i({inst:a}),e(function(){Ib(a)&&i({inst:a})})},[e]),OV(r),r}function Ib(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_V(e,r)}catch{return!0}}function DV(e,t){return t()}var IV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DV:MV;L3.useSyncExternalStore=tu.useSyncExternalStore!==void 0?tu.useSyncExternalStore:IV;$3.exports=L3;var F3=$3.exports;const RV=y2.useInsertionEffect,$V=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LV=$V?v.useLayoutEffect:v.useEffect,FV=RV||LV,z3=e=>{const t=v.useRef([e,(...r)=>t[0](...r)]).current;return FV(()=>{t[0]=e}),t[1]},zV="popstate",cS="pushState",dS="replaceState",BV="hashchange",h_=[zV,cS,dS,BV],UV=e=>{for(const t of h_)addEventListener(t,e);return()=>{for(const t of h_)removeEventListener(t,e)}},B3=(e,t)=>F3.useSyncExternalStore(UV,e,t),WV=()=>location.search,VV=({ssrSearch:e=""}={})=>B3(WV,()=>e),f_=()=>location.pathname,HV=({ssrPath:e}={})=>B3(f_,e?()=>e:f_),qV=(e,{replace:t=!1,state:r=null}={})=>history[t?dS:cS](r,"",e),KV=(e={})=>[HV(e),qV],m_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[m_]>"u"){for(const e of[cS,dS]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,m_,{value:!0})}const GV=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",U3=(e="")=>e==="/"?"":e,YV=(e,t)=>e[0]==="~"?e.slice(1):U3(t)+e,XV=(e="",t)=>GV(p_(U3(e)),p_(t)),p_=e=>{try{return decodeURI(e)}catch{return e}},W3={hook:KV,searchHook:VV,parser:PV,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},V3=v.createContext(W3),Ku=()=>v.useContext(V3),H3={},q3=v.createContext(H3),uS=()=>v.useContext(q3),Tv=e=>{const[t,r]=e.hook(e);return[XV(e.base,t),z3((n,a)=>r(YV(n,e.base),a))]},Pn=()=>Tv(Ku()),hS=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((h,f)=>[h,c[f]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[l]:[]]:[!1,null]},ua=e=>hS(Ku().parser,e,Pn()[0]),QV=({children:e,...t})=>{var u,h;const r=Ku(),n=t.hook?W3:r;let a=n;const[i,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let l=v.useRef({}),c=l.current,d=c;for(let f in n){const p=f==="base"?n[f]+(t[f]||""):t[f]||n[f];c===d&&p!==d[f]&&(l.current=d={...d}),d[f]=p,(p!==n[f]||p!==a[f])&&(a=d)}return v.createElement(V3.Provider,{value:a,children:e})},g_=({children:e,component:t},r)=>t?v.createElement(t,{params:r}):typeof e=="function"?e(r):e,ZV=e=>{let t=v.useRef(H3);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,a])=>a!==r[n])?e:r},$e=({path:e,nest:t,match:r,...n})=>{const a=Ku(),[i]=Tv(a),[o,l,c]=r??hS(a.parser,e,i,t),d=ZV({...uS(),...l});if(!o)return null;const u=c?v.createElement(QV,{base:c},g_(n,d)):g_(n,d);return v.createElement(q3.Provider,{value:d,children:u})},K3=v.forwardRef((e,t)=>{const r=Ku(),[n,a]=Tv(r),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:h,state:f,...p}=e,x=z3(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),a(o,e)))}),m=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&v.isValidElement(d)?v.cloneElement(d,{onClick:x,href:m}):v.createElement("a",{...p,onClick:x,href:m,className:u!=null&&u.call?u(n===o):u,children:d,ref:t})}),G3=e=>Array.isArray(e)?e.flatMap(t=>G3(t&&t.type===v.Fragment?t.props.children:t)):[e],JV=({children:e,location:t})=>{const r=Ku(),[n]=Tv(r);for(const a of G3(e)){let i=0;if(v.isValidElement(a)&&(i=hS(r.parser,a.props.path,t||n,a.props.nest))[0])return v.cloneElement(a,{match:i})}return null};var Gu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eH={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},fo,f2,f6,tH=(f6=class{constructor(){Ke(this,fo,eH);Ke(this,f2,!1)}setTimeoutProvider(e){Re(this,fo,e)}setTimeout(e,t){return Q(this,fo).setTimeout(e,t)}clearTimeout(e){Q(this,fo).clearTimeout(e)}setInterval(e,t){return Q(this,fo).setInterval(e,t)}clearInterval(e){Q(this,fo).clearInterval(e)}},fo=new WeakMap,f2=new WeakMap,f6),Dl=new tH;function rH(e){setTimeout(e,0)}var dc=typeof window>"u"||"Deno"in globalThis;function En(){}function nH(e,t){return typeof e=="function"?e(t):e}function Lj(e){return typeof e=="number"&&e>=0&&e!==1/0}function Y3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fo(e,t){return typeof e=="function"?e(t):e}function _s(e,t){return typeof e=="function"?e(t):e}function x_(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==fS(o,t.options))return!1}else if(!Zf(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function y_(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(uc(t.options.mutationKey)!==uc(i))return!1}else if(!Zf(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function fS(e,t){return((t==null?void 0:t.queryKeyHashFn)||uc)(e)}function uc(e){return JSON.stringify(e,(t,r)=>Fj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Zf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Zf(e[r],t[r])):!1}var sH=Object.prototype.hasOwnProperty;function X3(e,t){if(e===t)return e;const r=v_(e)&&v_(t);if(!r&&!(Fj(e)&&Fj(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d],h=e[u],f=t[u];if(h===f){l[u]=h,(r?d<a:sH.call(e,u))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[u]=f;continue}const p=X3(h,f);l[u]=p,p===h&&c++}return a===o&&c===a?e:l}function Ox(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function v_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fj(e){if(!b_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!b_(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function b_(e){return Object.prototype.toString.call(e)==="[object Object]"}function aH(e){return new Promise(t=>{Dl.setTimeout(t,e)})}function zj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?X3(e,t):t}function iH(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function oH(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var mS=Symbol();function Q3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===mS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Z3(e,t){return typeof e=="function"?e(...t):!!e}var Ul,mo,Rd,m6,lH=(m6=class extends Gu{constructor(){super();Ke(this,Ul);Ke(this,mo);Ke(this,Rd);Re(this,Rd,t=>{if(!dc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Q(this,mo)||this.setEventListener(Q(this,Rd))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,mo))==null||t.call(this),Re(this,mo,void 0))}setEventListener(t){var r;Re(this,Rd,t),(r=Q(this,mo))==null||r.call(this),Re(this,mo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Q(this,Ul)!==t&&(Re(this,Ul,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Q(this,Ul)=="boolean"?Q(this,Ul):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ul=new WeakMap,mo=new WeakMap,Rd=new WeakMap,m6),pS=new lH;function Bj(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var cH=rH;function dH(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=cH;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Or=dH(),$d,po,Ld,p6,uH=(p6=class extends Gu{constructor(){super();Ke(this,$d,!0);Ke(this,po);Ke(this,Ld);Re(this,Ld,t=>{if(!dc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Q(this,po)||this.setEventListener(Q(this,Ld))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,po))==null||t.call(this),Re(this,po,void 0))}setEventListener(t){var r;Re(this,Ld,t),(r=Q(this,po))==null||r.call(this),Re(this,po,t(this.setOnline.bind(this)))}setOnline(t){Q(this,$d)!==t&&(Re(this,$d,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Q(this,$d)}},$d=new WeakMap,po=new WeakMap,Ld=new WeakMap,p6),Mx=new uH;function hH(e){return Math.min(1e3*2**e,3e4)}function J3(e){return(e??"online")==="online"?Mx.isOnline():!0}var Uj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function eD(e){let t=!1,r=0,n;const a=Bj(),i=()=>a.status!=="pending",o=m=>{var g;if(!i()){const y=new Uj(m);f(y),(g=e.onCancel)==null||g.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>pS.isFocused()&&(e.networkMode==="always"||Mx.isOnline())&&e.canRun(),u=()=>J3(e.networkMode)&&e.canRun(),h=m=>{i()||(n==null||n(),a.resolve(m))},f=m=>{i()||(n==null||n(),a.reject(m))},p=()=>new Promise(m=>{var g;n=y=>{(i()||d())&&m(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(i())return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(h).catch(y=>{var S;if(i())return;const j=e.retry??(dc?0:3),w=e.retryDelay??hH,b=typeof w=="function"?w(r,y):w,N=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,y);if(t||!N){f(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),aH(b).then(()=>d()?void 0:p()).then(()=>{t?f(y):x()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():p().then(x),a)}}var Wl,g6,tD=(g6=class{constructor(){Ke(this,Wl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lj(this.gcTime)&&Re(this,Wl,Dl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(dc?1/0:5*60*1e3))}clearGcTimeout(){Q(this,Wl)&&(Dl.clearTimeout(Q(this,Wl)),Re(this,Wl,void 0))}},Wl=new WeakMap,g6),Vl,Fd,ks,Hl,Hr,Qm,ql,Js,si,x6,fH=(x6=class extends tD{constructor(t){super();Ke(this,Js);Ke(this,Vl);Ke(this,Fd);Ke(this,ks);Ke(this,Hl);Ke(this,Hr);Ke(this,Qm);Ke(this,ql);Re(this,ql,!1),Re(this,Qm,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,Hl,t.client),Re(this,ks,Q(this,Hl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,Vl,w_(this.options)),this.state=t.state??Q(this,Vl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,Hr))==null?void 0:t.promise}setOptions(t){if(this.options={...Q(this,Qm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=w_(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Re(this,Vl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,ks).remove(this)}setData(t,r){const n=zj(this.state.data,t,this.options);return ht(this,Js,si).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ht(this,Js,si).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=Q(this,Hr))==null?void 0:n.promise;return(a=Q(this,Hr))==null||a.cancel(t),r?r.then(En).catch(En):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,Vl))}isActive(){return this.observers.some(t=>_s(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Fo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Y3(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,Hr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,Hr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,ks).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Q(this,Hr)&&(Q(this,ql)?Q(this,Hr).cancel({revert:!0}):Q(this,Hr).cancelRetry()),this.scheduleGc()),Q(this,ks).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ht(this,Js,si).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,h,f,p,x,m,g,y,j,w;if(this.state.fetchStatus!=="idle"&&((c=Q(this,Hr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Hr))return Q(this,Hr).continueRetry(),Q(this,Hr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(N=>N.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,a=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Re(this,ql,!0),n.signal)})},i=()=>{const b=Q3(this.options,r),S=(()=>{const C={client:Q(this,Hl),queryKey:this.queryKey,meta:this.meta};return a(C),C})();return Re(this,ql,!1),this.options.persister?this.options.persister(b,S,this):b(S)},l=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Q(this,Hl),state:this.state,fetchFn:i};return a(b),b})();(d=this.options.behavior)==null||d.onFetch(l,this),Re(this,Fd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&ht(this,Js,si).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),Re(this,Hr,eD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof Uj&&b.revert&&this.setState({...Q(this,Fd),fetchStatus:"idle"}),n.abort()},onFail:(b,N)=>{ht(this,Js,si).call(this,{type:"failed",failureCount:b,error:N})},onPause:()=>{ht(this,Js,si).call(this,{type:"pause"})},onContinue:()=>{ht(this,Js,si).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await Q(this,Hr).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(f=Q(this,ks).config).onSuccess)==null||p.call(f,b,this),(m=(x=Q(this,ks).config).onSettled)==null||m.call(x,b,this.state.error,this),b}catch(b){if(b instanceof Uj){if(b.silent)return Q(this,Hr).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw ht(this,Js,si).call(this,{type:"error",error:b}),(y=(g=Q(this,ks).config).onError)==null||y.call(g,b,this),(w=(j=Q(this,ks).config).onSettled)==null||w.call(j,this.state.data,b,this),b}finally{this.scheduleGc()}}},Vl=new WeakMap,Fd=new WeakMap,ks=new WeakMap,Hl=new WeakMap,Hr=new WeakMap,Qm=new WeakMap,ql=new WeakMap,Js=new WeakSet,si=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...rD(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Re(this,Fd,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Or.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Q(this,ks).notify({query:this,type:"updated",action:t})})},x6);function rD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function w_(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fn,wt,Zm,kn,Kl,zd,hi,go,Jm,Bd,Ud,Gl,Yl,xo,Wd,Dt,nf,Wj,Vj,Hj,qj,Kj,Gj,Yj,nD,y6,mH=(y6=class extends Gu{constructor(t,r){super();Ke(this,Dt);Ke(this,Fn);Ke(this,wt);Ke(this,Zm);Ke(this,kn);Ke(this,Kl);Ke(this,zd);Ke(this,hi);Ke(this,go);Ke(this,Jm);Ke(this,Bd);Ke(this,Ud);Ke(this,Gl);Ke(this,Yl);Ke(this,xo);Ke(this,Wd,new Set);this.options=r,Re(this,Fn,t),Re(this,go,null),Re(this,hi,Bj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,wt).addObserver(this),j_(Q(this,wt),this.options)?ht(this,Dt,nf).call(this):this.updateResult(),ht(this,Dt,qj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xj(Q(this,wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xj(Q(this,wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ht(this,Dt,Kj).call(this),ht(this,Dt,Gj).call(this),Q(this,wt).removeObserver(this)}setOptions(t){const r=this.options,n=Q(this,wt);if(this.options=Q(this,Fn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _s(this.options.enabled,Q(this,wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ht(this,Dt,Yj).call(this),Q(this,wt).setOptions(this.options),r._defaulted&&!Ox(this.options,r)&&Q(this,Fn).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,wt),observer:this});const a=this.hasListeners();a&&N_(Q(this,wt),n,this.options,r)&&ht(this,Dt,nf).call(this),this.updateResult(),a&&(Q(this,wt)!==n||_s(this.options.enabled,Q(this,wt))!==_s(r.enabled,Q(this,wt))||Fo(this.options.staleTime,Q(this,wt))!==Fo(r.staleTime,Q(this,wt)))&&ht(this,Dt,Wj).call(this);const i=ht(this,Dt,Vj).call(this);a&&(Q(this,wt)!==n||_s(this.options.enabled,Q(this,wt))!==_s(r.enabled,Q(this,wt))||i!==Q(this,xo))&&ht(this,Dt,Hj).call(this,i)}getOptimisticResult(t){const r=Q(this,Fn).getQueryCache().build(Q(this,Fn),t),n=this.createResult(r,t);return gH(this,n)&&(Re(this,kn,n),Re(this,zd,this.options),Re(this,Kl,Q(this,wt).state)),n}getCurrentResult(){return Q(this,kn)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Q(this,hi).status==="pending"&&Q(this,hi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){Q(this,Wd).add(t)}getCurrentQuery(){return Q(this,wt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Q(this,Fn).defaultQueryOptions(t),n=Q(this,Fn).getQueryCache().build(Q(this,Fn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ht(this,Dt,nf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,kn)))}createResult(t,r){var _;const n=Q(this,wt),a=this.options,i=Q(this,kn),o=Q(this,Kl),l=Q(this,zd),d=t!==n?t.state:Q(this,Zm),{state:u}=t;let h={...u},f=!1,p;if(r._optimisticResults){const A=this.hasListeners(),k=!A&&j_(t,r),E=A&&N_(t,n,r,a);(k||E)&&(h={...h,...rD(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:m,status:g}=h;p=h.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&g==="pending"){let A;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=i.data,y=!0):A=typeof r.placeholderData=="function"?r.placeholderData((_=Q(this,Ud))==null?void 0:_.state.data,Q(this,Ud)):r.placeholderData,A!==void 0&&(g="success",p=zj(i==null?void 0:i.data,A,r),f=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===Q(this,Jm))p=Q(this,Bd);else try{Re(this,Jm,r.select),p=r.select(p),p=zj(i==null?void 0:i.data,p,r),Re(this,Bd,p),Re(this,go,null)}catch(A){Re(this,go,A)}Q(this,go)&&(x=Q(this,go),p=Q(this,Bd),m=Date.now(),g="error");const j=h.fetchStatus==="fetching",w=g==="pending",b=g==="error",N=w&&j,S=p!==void 0,P={status:g,fetchStatus:h.fetchStatus,isPending:w,isSuccess:g==="success",isError:b,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!w,isLoadingError:b&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&S,isStale:gS(t,r),refetch:this.refetch,promise:Q(this,hi),isEnabled:_s(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=L=>{P.status==="error"?L.reject(P.error):P.data!==void 0&&L.resolve(P.data)},k=()=>{const L=Re(this,hi,P.promise=Bj());A(L)},E=Q(this,hi);switch(E.status){case"pending":t.queryHash===n.queryHash&&A(E);break;case"fulfilled":(P.status==="error"||P.data!==E.value)&&k();break;case"rejected":(P.status!=="error"||P.error!==E.reason)&&k();break}}return P}updateResult(){const t=Q(this,kn),r=this.createResult(Q(this,wt),this.options);if(Re(this,Kl,Q(this,wt).state),Re(this,zd,this.options),Q(this,Kl).data!==void 0&&Re(this,Ud,Q(this,wt)),Ox(r,t))return;Re(this,kn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Q(this,Wd).size)return!0;const o=new Set(i??Q(this,Wd));return this.options.throwOnError&&o.add("error"),Object.keys(Q(this,kn)).some(l=>{const c=l;return Q(this,kn)[c]!==t[c]&&o.has(c)})};ht(this,Dt,nD).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ht(this,Dt,qj).call(this)}},Fn=new WeakMap,wt=new WeakMap,Zm=new WeakMap,kn=new WeakMap,Kl=new WeakMap,zd=new WeakMap,hi=new WeakMap,go=new WeakMap,Jm=new WeakMap,Bd=new WeakMap,Ud=new WeakMap,Gl=new WeakMap,Yl=new WeakMap,xo=new WeakMap,Wd=new WeakMap,Dt=new WeakSet,nf=function(t){ht(this,Dt,Yj).call(this);let r=Q(this,wt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(En)),r},Wj=function(){ht(this,Dt,Kj).call(this);const t=Fo(this.options.staleTime,Q(this,wt));if(dc||Q(this,kn).isStale||!Lj(t))return;const n=Y3(Q(this,kn).dataUpdatedAt,t)+1;Re(this,Gl,Dl.setTimeout(()=>{Q(this,kn).isStale||this.updateResult()},n))},Vj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,wt)):this.options.refetchInterval)??!1},Hj=function(t){ht(this,Dt,Gj).call(this),Re(this,xo,t),!(dc||_s(this.options.enabled,Q(this,wt))===!1||!Lj(Q(this,xo))||Q(this,xo)===0)&&Re(this,Yl,Dl.setInterval(()=>{(this.options.refetchIntervalInBackground||pS.isFocused())&&ht(this,Dt,nf).call(this)},Q(this,xo)))},qj=function(){ht(this,Dt,Wj).call(this),ht(this,Dt,Hj).call(this,ht(this,Dt,Vj).call(this))},Kj=function(){Q(this,Gl)&&(Dl.clearTimeout(Q(this,Gl)),Re(this,Gl,void 0))},Gj=function(){Q(this,Yl)&&(Dl.clearInterval(Q(this,Yl)),Re(this,Yl,void 0))},Yj=function(){const t=Q(this,Fn).getQueryCache().build(Q(this,Fn),this.options);if(t===Q(this,wt))return;const r=Q(this,wt);Re(this,wt,t),Re(this,Zm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},nD=function(t){Or.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Q(this,kn))}),Q(this,Fn).getQueryCache().notify({query:Q(this,wt),type:"observerResultsUpdated"})})},y6);function pH(e,t){return _s(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function j_(e,t){return pH(e,t)||e.state.data!==void 0&&Xj(e,t,t.refetchOnMount)}function Xj(e,t,r){if(_s(t.enabled,e)!==!1&&Fo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&gS(e,t)}return!1}function N_(e,t,r,n){return(e!==t||_s(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&gS(e,r)}function gS(e,t){return _s(t.enabled,e)!==!1&&e.isStaleByTime(Fo(t.staleTime,e))}function gH(e,t){return!Ox(e.getCurrentResult(),t)}function S_(e){return{onFetch:(t,r)=>{var u,h,f,p,x;const n=t.options,a=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=Q3(t.options,t.fetchOptions),j=async(w,b,N)=>{if(m)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:b,direction:N?"backward":"forward",meta:t.options.meta};return g(k),k})(),P=await y(C),{maxPages:_}=t.options,A=N?oH:iH;return{pages:A(w.pages,P,_),pageParams:A(w.pageParams,b,_)}};if(a&&i.length){const w=a==="backward",b=w?xH:C_,N={pages:i,pageParams:o},S=b(n,N);l=await j(N,S,w)}else{const w=e??i.length;do{const b=c===0?o[0]??n.initialPageParam:C_(n,l);if(c>0&&b==null)break;l=await j(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function C_(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function xH(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ep,ka,_n,Xl,_a,Ji,v6,yH=(v6=class extends tD{constructor(t){super();Ke(this,_a);Ke(this,ep);Ke(this,ka);Ke(this,_n);Ke(this,Xl);Re(this,ep,t.client),this.mutationId=t.mutationId,Re(this,_n,t.mutationCache),Re(this,ka,[]),this.state=t.state||sD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,ka).includes(t)||(Q(this,ka).push(t),this.clearGcTimeout(),Q(this,_n).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,ka,Q(this,ka).filter(r=>r!==t)),this.scheduleGc(),Q(this,_n).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,ka).length||(this.state.status==="pending"?this.scheduleGc():Q(this,_n).remove(this))}continue(){var t;return((t=Q(this,Xl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,u,h,f,p,x,m,g,y,j,w,b,N,S,C,P,_;const r=()=>{ht(this,_a,Ji).call(this,{type:"continue"})},n={client:Q(this,ep),meta:this.options.meta,mutationKey:this.options.mutationKey};Re(this,Xl,eD({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{ht(this,_a,Ji).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{ht(this,_a,Ji).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,_n).canRun(this)}));const a=this.state.status==="pending",i=!Q(this,Xl).canStart();try{if(a)r();else{ht(this,_a,Ji).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=Q(this,_n).config).onMutate)==null?void 0:l.call(o,t,this,n));const k=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));k!==this.state.context&&ht(this,_a,Ji).call(this,{type:"pending",context:k,variables:t,isPaused:i})}const A=await Q(this,Xl).start();return await((h=(u=Q(this,_n).config).onSuccess)==null?void 0:h.call(u,A,t,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,A,t,this.state.context,n)),await((m=(x=Q(this,_n).config).onSettled)==null?void 0:m.call(x,A,null,this.state.variables,this.state.context,this,n)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,A,null,t,this.state.context,n)),ht(this,_a,Ji).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(j=Q(this,_n).config).onError)==null?void 0:w.call(j,A,t,this.state.context,this,n)),await((N=(b=this.options).onError)==null?void 0:N.call(b,A,t,this.state.context,n)),await((C=(S=Q(this,_n).config).onSettled)==null?void 0:C.call(S,void 0,A,this.state.variables,this.state.context,this,n)),await((_=(P=this.options).onSettled)==null?void 0:_.call(P,void 0,A,t,this.state.context,n)),A}finally{ht(this,_a,Ji).call(this,{type:"error",error:A})}}finally{Q(this,_n).runNext(this)}}},ep=new WeakMap,ka=new WeakMap,_n=new WeakMap,Xl=new WeakMap,_a=new WeakSet,Ji=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Or.batch(()=>{Q(this,ka).forEach(n=>{n.onMutationUpdate(t)}),Q(this,_n).notify({mutation:this,type:"updated",action:t})})},v6);function sD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fi,ea,tp,b6,vH=(b6=class extends Gu{constructor(t={}){super();Ke(this,fi);Ke(this,ea);Ke(this,tp);this.config=t,Re(this,fi,new Set),Re(this,ea,new Map),Re(this,tp,0)}build(t,r,n){const a=new yH({client:t,mutationCache:this,mutationId:++Op(this,tp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){Q(this,fi).add(t);const r=Qp(t);if(typeof r=="string"){const n=Q(this,ea).get(r);n?n.push(t):Q(this,ea).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Q(this,fi).delete(t)){const r=Qp(t);if(typeof r=="string"){const n=Q(this,ea).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&Q(this,ea).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Qp(t);if(typeof r=="string"){const n=Q(this,ea).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Qp(t);if(typeof r=="string"){const a=(n=Q(this,ea).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Or.batch(()=>{Q(this,fi).forEach(t=>{this.notify({type:"removed",mutation:t})}),Q(this,fi).clear(),Q(this,ea).clear()})}getAll(){return Array.from(Q(this,fi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>y_(r,n))}findAll(t={}){return this.getAll().filter(r=>y_(t,r))}notify(t){Or.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Or.batch(()=>Promise.all(t.map(r=>r.continue().catch(En))))}},fi=new WeakMap,ea=new WeakMap,tp=new WeakMap,b6);function Qp(e){var t;return(t=e.options.scope)==null?void 0:t.id}var mi,yo,zn,pi,_i,Xg,Qj,w6,bH=(w6=class extends Gu{constructor(r,n){super();Ke(this,_i);Ke(this,mi);Ke(this,yo);Ke(this,zn);Ke(this,pi);Re(this,mi,r),this.setOptions(n),this.bindMethods(),ht(this,_i,Xg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=Q(this,mi).defaultMutationOptions(r),Ox(this.options,n)||Q(this,mi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,zn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&uc(n.mutationKey)!==uc(this.options.mutationKey)?this.reset():((a=Q(this,zn))==null?void 0:a.state.status)==="pending"&&Q(this,zn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Q(this,zn))==null||r.removeObserver(this)}onMutationUpdate(r){ht(this,_i,Xg).call(this),ht(this,_i,Qj).call(this,r)}getCurrentResult(){return Q(this,yo)}reset(){var r;(r=Q(this,zn))==null||r.removeObserver(this),Re(this,zn,void 0),ht(this,_i,Xg).call(this),ht(this,_i,Qj).call(this)}mutate(r,n){var a;return Re(this,pi,n),(a=Q(this,zn))==null||a.removeObserver(this),Re(this,zn,Q(this,mi).getMutationCache().build(Q(this,mi),this.options)),Q(this,zn).addObserver(this),Q(this,zn).execute(r)}},mi=new WeakMap,yo=new WeakMap,zn=new WeakMap,pi=new WeakMap,_i=new WeakSet,Xg=function(){var n;const r=((n=Q(this,zn))==null?void 0:n.state)??sD();Re(this,yo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Qj=function(r){Or.batch(()=>{var n,a,i,o,l,c,d,u;if(Q(this,pi)&&this.hasListeners()){const h=Q(this,yo).variables,f=Q(this,yo).context,p={client:Q(this,mi),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=Q(this,pi)).onSuccess)==null||a.call(n,r.data,h,f,p),(o=(i=Q(this,pi)).onSettled)==null||o.call(i,r.data,null,h,f,p)):(r==null?void 0:r.type)==="error"&&((c=(l=Q(this,pi)).onError)==null||c.call(l,r.error,h,f,p),(u=(d=Q(this,pi)).onSettled)==null||u.call(d,void 0,r.error,h,f,p))}this.listeners.forEach(h=>{h(Q(this,yo))})})},w6),Aa,j6,wH=(j6=class extends Gu{constructor(t={}){super();Ke(this,Aa);this.config=t,Re(this,Aa,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??fS(a,r);let o=this.get(i);return o||(o=new fH({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Q(this,Aa).has(t.queryHash)||(Q(this,Aa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Q(this,Aa).get(t.queryHash);r&&(t.destroy(),r===t&&Q(this,Aa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Or.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,Aa).get(t)}getAll(){return[...Q(this,Aa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>x_(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>x_(t,n)):r}notify(t){Or.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Or.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Or.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Aa=new WeakMap,j6),hr,vo,bo,Vd,Hd,wo,qd,Kd,N6,jH=(N6=class{constructor(e={}){Ke(this,hr);Ke(this,vo);Ke(this,bo);Ke(this,Vd);Ke(this,Hd);Ke(this,wo);Ke(this,qd);Ke(this,Kd);Re(this,hr,e.queryCache||new wH),Re(this,vo,e.mutationCache||new vH),Re(this,bo,e.defaultOptions||{}),Re(this,Vd,new Map),Re(this,Hd,new Map),Re(this,wo,0)}mount(){Op(this,wo)._++,Q(this,wo)===1&&(Re(this,qd,pS.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,hr).onFocus())})),Re(this,Kd,Mx.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,hr).onOnline())})))}unmount(){var e,t;Op(this,wo)._--,Q(this,wo)===0&&((e=Q(this,qd))==null||e.call(this),Re(this,qd,void 0),(t=Q(this,Kd))==null||t.call(this),Re(this,Kd,void 0))}isFetching(e){return Q(this,hr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,vo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,hr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Q(this,hr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Fo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Q(this,hr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=Q(this,hr).get(n.queryHash),i=a==null?void 0:a.state.data,o=nH(t,i);if(o!==void 0)return Q(this,hr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Or.batch(()=>Q(this,hr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,hr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Q(this,hr);Or.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Q(this,hr);return Or.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Or.batch(()=>Q(this,hr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(En).catch(En)}invalidateQueries(e,t={}){return Or.batch(()=>(Q(this,hr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Or.batch(()=>Q(this,hr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(En)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(En)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Q(this,hr).build(this,t);return r.isStaleByTime(Fo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(En).catch(En)}fetchInfiniteQuery(e){return e.behavior=S_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(En).catch(En)}ensureInfiniteQueryData(e){return e.behavior=S_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mx.isOnline()?Q(this,vo).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,hr)}getMutationCache(){return Q(this,vo)}getDefaultOptions(){return Q(this,bo)}setDefaultOptions(e){Re(this,bo,e)}setQueryDefaults(e,t){Q(this,Vd).set(uc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,Vd).values()],r={};return t.forEach(n=>{Zf(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Q(this,Hd).set(uc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,Hd).values()],r={};return t.forEach(n=>{Zf(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,bo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===mS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,bo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,hr).clear(),Q(this,vo).clear()}},hr=new WeakMap,vo=new WeakMap,bo=new WeakMap,Vd=new WeakMap,Hd=new WeakMap,wo=new WeakMap,qd=new WeakMap,Kd=new WeakMap,N6),aD=v.createContext(void 0),Zt=e=>{const t=v.useContext(aD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},NH=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(aD.Provider,{value:e,children:t})),iD=v.createContext(!1),SH=()=>v.useContext(iD);iD.Provider;function CH(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var PH=v.createContext(CH()),kH=()=>v.useContext(PH),_H=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},AH=e=>{v.useEffect(()=>{e.clearReset()},[e])},EH=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Z3(r,[e.error,n])),TH=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},OH=(e,t)=>e.isLoading&&e.isFetching&&!t,MH=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,P_=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function DH(e,t,r){var h,f,p,x,m;const n=SH(),a=kH(),i=Zt(),o=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",TH(o),_H(o,a),AH(a);const l=!i.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(g=>{const y=u?c.subscribe(Or.batchCalls(g)):En;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o)},[o,c]),MH(o,d))throw P_(o,c,a);if(EH({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,o,d),o.experimental_prefetchInRender&&!dc&&OH(d,n)){const g=l?P_(o,c,a):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;g==null||g.catch(En).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ue(e,t){return DH(e,mH)}function Oe(e,t){const r=Zt(),[n]=v.useState(()=>new bH(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const a=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(Or.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(En)},[n]);if(a.error&&Z3(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function oD(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Pe(e,t,r){const n=await fetch(e,{method:t,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await oD(n),n}const xS=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await oD(r),await r.json())},IH=new jH({defaultOptions:{queries:{queryFn:xS({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),RH=1,$H=1e6;let Rb=0;function LH(){return Rb=(Rb+1)%Number.MAX_SAFE_INTEGER,Rb.toString()}const $b=new Map,k_=e=>{if($b.has(e))return;const t=setTimeout(()=>{$b.delete(e),wf({type:"REMOVE_TOAST",toastId:e})},$H);$b.set(e,t)},FH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,RH)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?k_(r):e.toasts.forEach(n=>{k_(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Qg=[];let Zg={toasts:[]};function wf(e){Zg=FH(Zg,e),Qg.forEach(t=>{t(Zg)})}function ai({...e}){const t=LH(),r=a=>wf({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>wf({type:"DISMISS_TOAST",toastId:t});return wf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Ct(){const[e,t]=v.useState(Zg);return v.useEffect(()=>(Qg.push(t),()=>{const r=Qg.indexOf(t);r>-1&&Qg.splice(r,1)}),[e]),{...e,toast:ai,dismiss:r=>wf({type:"DISMISS_TOAST",toastId:r})}}function Ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function __(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ov(...e){return t=>{let r=!1;const n=e.map(a=>{const i=__(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():__(e[a],null)}}}}function et(...e){return v.useCallback(Ov(...e),e)}function zH(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function zr(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:f,children:p,...x}=h,m=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,g=v.useMemo(()=>x,Object.values(x));return s.jsx(m.Provider,{value:g,children:p})};d.displayName=i+"Provider";function u(h,f){var m;const p=((m=f==null?void 0:f[e])==null?void 0:m[c])||l,x=v.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,BH(a,...t)]}function BH(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ko(e){const t=WH(e),r=v.forwardRef((n,a)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(VH);if(c){const d=c.props.children,u=l.map(h=>h===c?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:a,children:v.isValidElement(d)?v.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var UH=Ko("Slot");function WH(e){const t=v.forwardRef((r,n)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=qH(a),l=HH(i,a.props);return a.type!==v.Fragment&&(l.ref=n?Ov(n,o):o),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lD=Symbol("radix.slottable");function cD(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=lD,t}function VH(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lD}function HH(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function qH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Mv(e){const t=e+"CollectionProvider",[r,n]=zr(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:y}=m,j=Z.useRef(null),w=Z.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:w,collectionRef:j,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Ko(l),d=Z.forwardRef((m,g)=>{const{scope:y,children:j}=m,w=i(l,y),b=et(g,w.collectionRef);return s.jsx(c,{ref:b,children:j})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=Ko(u),p=Z.forwardRef((m,g)=>{const{scope:y,children:j,...w}=m,b=Z.useRef(null),N=et(g,b),S=i(u,y);return Z.useEffect(()=>(S.itemMap.set(b,{ref:b,...w}),()=>void S.itemMap.delete(b))),s.jsx(f,{[h]:"",ref:N,children:j})});p.displayName=u;function x(m){const g=i(e+"CollectionConsumer",m);return Z.useCallback(()=>{const j=g.collectionRef.current;if(!j)return[];const w=Array.from(j.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((S,C)=>w.indexOf(S.ref.current)-w.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},x,n]}var KH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=KH.reduce((e,t)=>{const r=Ko(`Primitive.${t}`),n=v.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yS(e,t){e&&kc.flushSync(()=>e.dispatchEvent(t))}function gr(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function GH(e,t=globalThis==null?void 0:globalThis.document){const r=gr(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var YH="DismissableLayer",Zj="dismissableLayer.update",XH="dismissableLayer.pointerDownOutside",QH="dismissableLayer.focusOutside",A_,dD=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_c=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=v.useContext(dD),[u,h]=v.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),x=et(t,C=>h(C)),m=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),j=u?m.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,b=j>=y,N=JH(C=>{const P=C.target,_=[...d.branches].some(A=>A.contains(P));!b||_||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),S=eq(C=>{const P=C.target;[...d.branches].some(A=>A.contains(P))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return GH(C=>{j===d.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),v.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(A_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),E_(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=A_)}},[u,f,r,d]),v.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),E_())},[u,d]),v.useEffect(()=>{const C=()=>p({});return document.addEventListener(Zj,C),()=>document.removeEventListener(Zj,C)},[]),s.jsx(ze.div,{...c,ref:x,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,N.onPointerDownCapture)})});_c.displayName=YH;var ZH="DismissableLayerBranch",uD=v.forwardRef((e,t)=>{const r=v.useContext(dD),n=v.useRef(null),a=et(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(ze.div,{...e,ref:a})});uD.displayName=ZH;function JH(e,t=globalThis==null?void 0:globalThis.document){const r=gr(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){hD(XH,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function eq(e,t=globalThis==null?void 0:globalThis.document){const r=gr(e),n=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!n.current&&hD(QH,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function E_(){const e=new CustomEvent(Zj);document.dispatchEvent(e)}function hD(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yS(a,i):a.dispatchEvent(i)}var tq=_c,rq=uD,jr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},nq="Portal",Yu=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=v.useState(!1);jr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?CV.createPortal(s.jsx(ze.div,{...n,ref:t}),o):null});Yu.displayName=nq;function sq(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Br=e=>{const{present:t,children:r}=e,n=aq(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=et(n.ref,iq(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:i}):null};Br.displayName="Presence";function aq(e){const[t,r]=v.useState(),n=v.useRef(null),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=sq(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=Zp(n.current);i.current=l==="mounted"?d:"none"},[l]),jr(()=>{const d=n.current,u=a.current;if(u!==e){const f=i.current,p=Zp(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),jr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const m=Zp(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},f=p=>{p.target===t&&(i.current=Zp(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Zp(e){return(e==null?void 0:e.animationName)||"none"}function iq(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var oq=y2[" useInsertionEffect ".trim().toString()]||jr;function ga({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=lq({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=v.useRef(e!==void 0);v.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=v.useCallback(u=>{var h;if(l){const f=cq(u)?u(e):u;f!==e&&((h=o.current)==null||h.call(o,f))}else i(u)},[l,e,i,o]);return[c,d]}function lq({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return oq(()=>{i.current=t},[t]),v.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function cq(e){return typeof e=="function"}var fD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dq="VisuallyHidden",Dv=v.forwardRef((e,t)=>s.jsx(ze.span,{...e,ref:t,style:{...fD,...e.style}}));Dv.displayName=dq;var uq=Dv,vS="ToastProvider",[bS,hq,fq]=Mv("Toast"),[mD]=zr("Toast",[fq]),[mq,Iv]=mD(vS),pD=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[d,u]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${vS}\`. Expected non-empty \`string\`.`),s.jsx(bS.Provider,{scope:t,children:s.jsx(mq,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>u(p=>p+1),[]),onToastRemove:v.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};pD.displayName=vS;var gD="ToastViewport",pq=["F8"],Jj="toast.viewportPause",e1="toast.viewportResume",xD=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=pq,label:a="Notifications ({hotkey})",...i}=e,o=Iv(gD,r),l=hq(r),c=v.useRef(null),d=v.useRef(null),u=v.useRef(null),h=v.useRef(null),f=et(t,h,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const g=y=>{var w;n.length!==0&&n.every(b=>y[b]||y.code===b)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),v.useEffect(()=>{const g=c.current,y=h.current;if(x&&g&&y){const j=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Jj);y.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(e1);y.dispatchEvent(S),o.isClosePausedRef.current=!1}},b=S=>{!g.contains(S.relatedTarget)&&w()},N=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",j),g.addEventListener("focusout",b),g.addEventListener("pointermove",j),g.addEventListener("pointerleave",N),window.addEventListener("blur",j),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",j),g.removeEventListener("focusout",b),g.removeEventListener("pointermove",j),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",j),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:g})=>{const j=l().map(w=>{const b=w.ref.current,N=[b,..._q(b)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?j.reverse():j).flat()},[l]);return v.useEffect(()=>{const g=h.current;if(g){const y=j=>{var N,S,C;const w=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!w){const P=document.activeElement,_=j.shiftKey;if(j.target===g&&_){(N=d.current)==null||N.focus();return}const E=m({tabbingDirection:_?"backwards":"forwards"}),L=E.findIndex(F=>F===P);Lb(E.slice(L+1))?j.preventDefault():_?(S=d.current)==null||S.focus():(C=u.current)==null||C.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[l,m]),s.jsxs(rq,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(t1,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});Lb(g)}}),s.jsx(bS.Slot,{scope:r,children:s.jsx(ze.ol,{tabIndex:-1,...i,ref:f})}),x&&s.jsx(t1,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});Lb(g)}})]})});xD.displayName=gD;var yD="ToastFocusProxy",t1=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Iv(yD,r);return s.jsx(Dv,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});t1.displayName=yD;var op="Toast",gq="toast.swipeStart",xq="toast.swipeMove",yq="toast.swipeCancel",vq="toast.swipeEnd",vD=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ga({prop:n,defaultProp:a??!0,onChange:i,caller:op});return s.jsx(Br,{present:r||l,children:s.jsx(jq,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:gr(e.onPause),onResume:gr(e.onResume),onSwipeStart:Ce(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ce(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});vD.displayName=op;var[bq,wq]=mD(op,{onClose(){}}),jq=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...x}=e,m=Iv(op,r),[g,y]=v.useState(null),j=et(t,F=>y(F)),w=v.useRef(null),b=v.useRef(null),N=a||m.duration,S=v.useRef(0),C=v.useRef(N),P=v.useRef(0),{onToastAdd:_,onToastRemove:A}=m,k=gr(()=>{var U;(g==null?void 0:g.contains(document.activeElement))&&((U=m.viewport)==null||U.focus()),o()}),E=v.useCallback(F=>{!F||F===1/0||(window.clearTimeout(P.current),S.current=new Date().getTime(),P.current=window.setTimeout(k,F))},[k]);v.useEffect(()=>{const F=m.viewport;if(F){const U=()=>{E(C.current),d==null||d()},W=()=>{const V=new Date().getTime()-S.current;C.current=C.current-V,window.clearTimeout(P.current),c==null||c()};return F.addEventListener(Jj,W),F.addEventListener(e1,U),()=>{F.removeEventListener(Jj,W),F.removeEventListener(e1,U)}}},[m.viewport,N,c,d,E]),v.useEffect(()=>{i&&!m.isClosePausedRef.current&&E(N)},[i,N,m.isClosePausedRef,E]),v.useEffect(()=>(_(),()=>A()),[_,A]);const L=v.useMemo(()=>g?PD(g):null,[g]);return m.viewport?s.jsxs(s.Fragment,{children:[L&&s.jsx(Nq,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:L}),s.jsx(bq,{scope:r,onClose:k,children:kc.createPortal(s.jsx(bS.ItemSlot,{scope:r,children:s.jsx(tq,{asChild:!0,onEscapeKeyDown:Ce(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||k(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ze.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ce(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ce(e.onPointerDown,F=>{F.button===0&&(w.current={x:F.clientX,y:F.clientY})}),onPointerMove:Ce(e.onPointerMove,F=>{if(!w.current)return;const U=F.clientX-w.current.x,W=F.clientY-w.current.y,V=!!b.current,D=["left","right"].includes(m.swipeDirection),T=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,$=D?T(0,U):0,O=D?0:T(0,W),R=F.pointerType==="touch"?10:2,I={x:$,y:O},H={originalEvent:F,delta:I};V?(b.current=I,Jp(xq,h,H,{discrete:!1})):T_(I,m.swipeDirection,R)?(b.current=I,Jp(gq,u,H,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(U)>R||Math.abs(W)>R)&&(w.current=null)}),onPointerUp:Ce(e.onPointerUp,F=>{const U=b.current,W=F.target;if(W.hasPointerCapture(F.pointerId)&&W.releasePointerCapture(F.pointerId),b.current=null,w.current=null,U){const V=F.currentTarget,D={originalEvent:F,delta:U};T_(U,m.swipeDirection,m.swipeThreshold)?Jp(vq,p,D,{discrete:!0}):Jp(yq,f,D,{discrete:!0}),V.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Nq=e=>{const{__scopeToast:t,children:r,...n}=e,a=Iv(op,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return Pq(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Yu,{asChild:!0,children:s.jsx(Dv,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Sq="ToastTitle",bD=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ze.div,{...n,ref:t})});bD.displayName=Sq;var Cq="ToastDescription",wD=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ze.div,{...n,ref:t})});wD.displayName=Cq;var jD="ToastAction",ND=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(CD,{altText:r,asChild:!0,children:s.jsx(wS,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${jD}\`. Expected non-empty \`string\`.`),null)});ND.displayName=jD;var SD="ToastClose",wS=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=wq(SD,r);return s.jsx(CD,{asChild:!0,children:s.jsx(ze.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,a.onClose)})})});wS.displayName=SD;var CD=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function PD(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),kq(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...PD(n))}}),t}function Jp(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yS(a,i):a.dispatchEvent(i)}var T_=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function Pq(e=()=>{}){const t=gr(e);jr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function kq(e){return e.nodeType===e.ELEMENT_NODE}function _q(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Lb(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Aq=pD,kD=xD,_D=vD,AD=bD,ED=wD,TD=ND,OD=wS;function MD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=MD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=MD(e))&&(n&&(n+=" "),n+=t);return n}const O_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,M_=xt,lp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return M_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const f=O_(u)||O_(h);return a[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(x=>{let[m,g]=x;return Array.isArray(g)?g.includes({...i,...l}[m]):{...i,...l}[m]===g})?[...d,h,f]:d},[]);return M_(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DD=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...Tq,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:DD("lucide",a),...l},[...o.map(([d,u])=>v.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=v.forwardRef(({className:n,...a},i)=>v.createElement(Oq,{ref:i,iconNode:t,className:DD(`lucide-${Eq(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ge("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=ge("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=ge("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=ge("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=ge("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=ge("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=ge("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=ge("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=ge("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=ge("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=ge("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=ge("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=ge("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=ge("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=ge("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ge("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=ge("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=ge("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=ge("HandHeart",[["path",{d:"M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1ifwr1"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"17abbs"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"M19.5 8.5c.7-.7 1.5-1.6 1.5-2.7A2.73 2.73 0 0 0 16 4a2.78 2.78 0 0 0-5 1.8c0 1.2.8 2 1.5 2.8L16 12Z",key:"1h3036"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=ge("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=ge("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ge("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=ge("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=ge("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=ge("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=ge("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=ge("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=ge("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=ge("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=ge("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=ge("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ge("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=ge("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=ge("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=ge("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=ge("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ge("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=ge("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=ge("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ge("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=ge("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=ge("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=ge("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=ge("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=ge("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ge("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),AS="-",hK=e=>{const t=mK(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(AS);return l[0]===""&&l.length!==1&&l.shift(),WD(l,t)||fK(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},WD=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?WD(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(AS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},L_=/^\[(.+)\]$/,fK=e=>{if(L_.test(e)){const t=L_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},mK=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return gK(Object.entries(e.classGroups),r).forEach(([i,o])=>{r1(o,n,i,t)}),n},r1=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:F_(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(pK(a)){r1(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{r1(o,F_(t,i),r,n)})})},F_=(e,t)=>{let r=e;return t.split(AS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},pK=e=>e.isThemeGetter,gK=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,xK=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},VD="!",yK=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let g=0;g<l.length;g++){let y=l[g];if(d===0){if(y===a&&(n||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(y==="/"){h=g;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(u),p=f.startsWith(VD),x=p?f.substring(1):f,m=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},vK=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},bK=e=>({cache:xK(e.cacheSize),parseClassName:yK(e),...hK(e)}),wK=/\s+/,jK=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(wK);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(d);let x=!!p,m=n(x?f.substring(0,p):f);if(!m){if(!x){l=d+(l.length>0?" "+l:l);continue}if(m=n(f),!m){l=d+(l.length>0?" "+l:l);continue}x=!1}const g=vK(u).join(":"),y=h?g+VD:g,j=y+m;if(i.includes(j))continue;i.push(j);const w=a(m,x);for(let b=0;b<w.length;++b){const N=w[b];i.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function NK(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=HD(t))&&(n&&(n+=" "),n+=r);return n}const HD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=HD(e[n]))&&(r&&(r+=" "),r+=t);return r};function SK(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=bK(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=jK(c,r);return a(c,u),u}return function(){return i(NK.apply(null,arguments))}}const Jt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},qD=/^\[(?:([a-z-]+):)?(.+)\]$/i,CK=/^\d+\/\d+$/,PK=new Set(["px","full","screen"]),kK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_K=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,EK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=e=>Pd(e)||PK.has(e)||CK.test(e),Yi=e=>Zu(e,"length",FK),Pd=e=>!!e&&!Number.isNaN(Number(e)),zb=e=>Zu(e,"number",Pd),Th=e=>!!e&&Number.isInteger(Number(e)),OK=e=>e.endsWith("%")&&Pd(e.slice(0,-1)),ot=e=>qD.test(e),Xi=e=>kK.test(e),MK=new Set(["length","size","percentage"]),DK=e=>Zu(e,MK,KD),IK=e=>Zu(e,"position",KD),RK=new Set(["image","url"]),$K=e=>Zu(e,RK,BK),LK=e=>Zu(e,"",zK),Oh=()=>!0,Zu=(e,t,r)=>{const n=qD.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},FK=e=>_K.test(e)&&!AK.test(e),KD=()=>!1,zK=e=>EK.test(e),BK=e=>TK.test(e),UK=()=>{const e=Jt("colors"),t=Jt("spacing"),r=Jt("blur"),n=Jt("brightness"),a=Jt("borderColor"),i=Jt("borderRadius"),o=Jt("borderSpacing"),l=Jt("borderWidth"),c=Jt("contrast"),d=Jt("grayscale"),u=Jt("hueRotate"),h=Jt("invert"),f=Jt("gap"),p=Jt("gradientColorStops"),x=Jt("gradientColorStopPositions"),m=Jt("inset"),g=Jt("margin"),y=Jt("opacity"),j=Jt("padding"),w=Jt("saturate"),b=Jt("scale"),N=Jt("sepia"),S=Jt("skew"),C=Jt("space"),P=Jt("translate"),_=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ot,t],E=()=>[ot,t],L=()=>["",ti,Yi],F=()=>["auto",Pd,ot],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",ot],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Pd,ot];return{cacheSize:500,separator:":",theme:{colors:[Oh],spacing:[ti,Yi],blur:["none","",Xi,ot],brightness:O(),borderColor:[e],borderRadius:["none","","full",Xi,ot],borderSpacing:E(),borderWidth:L(),contrast:O(),grayscale:T(),hueRotate:O(),invert:T(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[OK,Yi],inset:k(),margin:k(),opacity:O(),padding:E(),saturate:O(),scale:O(),sepia:T(),skew:O(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",ot]}],container:["container"],columns:[{columns:[Xi]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),ot]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Th,ot]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ot]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Th,ot]}],"grid-cols":[{"grid-cols":[Oh]}],"col-start-end":[{col:["auto",{span:["full",Th,ot]},ot]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Oh]}],"row-start-end":[{row:["auto",{span:[Th,ot]},ot]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ot]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ot,t]}],"min-w":[{"min-w":[ot,t,"min","max","fit"]}],"max-w":[{"max-w":[ot,t,"none","full","min","max","fit","prose",{screen:[Xi]},Xi]}],h:[{h:[ot,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ot,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ot,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ot,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xi,Yi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zb]}],"font-family":[{font:[Oh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ot]}],"line-clamp":[{"line-clamp":["none",Pd,zb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ti,ot]}],"list-image":[{"list-image":["none",ot]}],"list-style-type":[{list:["none","disc","decimal",ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ti,Yi]}],"underline-offset":[{"underline-offset":["auto",ti,ot]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),IK]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$K]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[ti,ot]}],"outline-w":[{outline:[ti,Yi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ti,Yi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xi,LK]}],"shadow-color":[{shadow:[Oh]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xi,ot]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ot]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",ot]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Th,ot]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ot]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ti,Yi,zb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WK=SK(UK);function De(...e){return WK(xt(e))}const VK=Aq,GD=v.forwardRef(({className:e,...t},r)=>s.jsx(kD,{ref:r,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));GD.displayName=kD.displayName;const HK=lp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),YD=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(_D,{ref:n,className:De(HK({variant:t}),e),...r}));YD.displayName=_D.displayName;const qK=v.forwardRef(({className:e,...t},r)=>s.jsx(TD,{ref:r,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));qK.displayName=TD.displayName;const XD=v.forwardRef(({className:e,...t},r)=>s.jsx(OD,{ref:r,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Lr,{className:"h-4 w-4"})}));XD.displayName=OD.displayName;const QD=v.forwardRef(({className:e,...t},r)=>s.jsx(AD,{ref:r,className:De("text-sm font-semibold",e),...t}));QD.displayName=AD.displayName;const ZD=v.forwardRef(({className:e,...t},r)=>s.jsx(ED,{ref:r,className:De("text-sm opacity-90",e),...t}));ZD.displayName=ED.displayName;function KK(){const{toasts:e}=Ct();return s.jsxs(VK,{children:[e.filter(t=>t.id).map(({id:t,title:r,description:n,action:a,...i})=>s.jsxs(YD,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(QD,{children:r}),n&&s.jsx(ZD,{children:n})]}),a,s.jsx(XD,{})]},String(t))),s.jsx(GD,{})]})}var GK=y2[" useId ".trim().toString()]||(()=>{}),YK=0;function fa(e){const[t,r]=v.useState(GK());return jr(()=>{r(n=>n??String(YK++))},[e]),t?`radix-${t}`:""}const XK=["top","right","bottom","left"],Zo=Math.min,cs=Math.max,Rx=Math.round,tg=Math.floor,za=e=>({x:e,y:e}),QK={left:"right",right:"left",bottom:"top",top:"bottom"},ZK={start:"end",end:"start"};function n1(e,t,r){return cs(e,Zo(t,r))}function Mi(e,t){return typeof e=="function"?e(t):e}function Di(e){return e.split("-")[0]}function Ju(e){return e.split("-")[1]}function ES(e){return e==="x"?"y":"x"}function TS(e){return e==="y"?"height":"width"}const JK=new Set(["top","bottom"]);function Da(e){return JK.has(Di(e))?"y":"x"}function OS(e){return ES(Da(e))}function eG(e,t,r){r===void 0&&(r=!1);const n=Ju(e),a=OS(e),i=TS(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=$x(o)),[o,$x(o)]}function tG(e){const t=$x(e);return[s1(e),t,s1(t)]}function s1(e){return e.replace(/start|end/g,t=>ZK[t])}const z_=["left","right"],B_=["right","left"],rG=["top","bottom"],nG=["bottom","top"];function sG(e,t,r){switch(e){case"top":case"bottom":return r?t?B_:z_:t?z_:B_;case"left":case"right":return t?rG:nG;default:return[]}}function aG(e,t,r,n){const a=Ju(e);let i=sG(Di(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(s1)))),i}function $x(e){return e.replace(/left|right|bottom|top/g,t=>QK[t])}function iG(e){return{top:0,right:0,bottom:0,left:0,...e}}function JD(e){return typeof e!="number"?iG(e):{top:e,right:e,bottom:e,left:e}}function Lx(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function U_(e,t,r){let{reference:n,floating:a}=e;const i=Da(t),o=OS(t),l=TS(o),c=Di(t),d=i==="y",u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,f=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-a.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Ju(t)){case"start":p[o]-=f*(r&&d?-1:1);break;case"end":p[o]+=f*(r&&d?-1:1);break}return p}const oG=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=U_(d,n,c),f=n,p={},x=0;for(let m=0;m<l.length;m++){const{name:g,fn:y}=l[m],{x:j,y:w,data:b,reset:N}=await y({x:u,y:h,initialPlacement:n,placement:f,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=j??u,h=w??h,p={...p,[g]:{...p[g],...b}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:h}=U_(d,f,c)),m=-1)}return{x:u,y:h,placement:f,strategy:a,middlewareData:p}};async function rm(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Mi(t,e),x=JD(p),g=l[f?h==="floating"?"reference":"floating":h],y=Lx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),j=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Lx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:w,strategy:c}):j);return{top:(y.top-N.top+x.top)/b.y,bottom:(N.bottom-y.bottom+x.bottom)/b.y,left:(y.left-N.left+x.left)/b.x,right:(N.right-y.right+x.right)/b.x}}const lG=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Mi(e,t)||{};if(d==null)return{};const h=JD(u),f={x:r,y:n},p=OS(a),x=TS(p),m=await o.getDimensions(d),g=p==="y",y=g?"top":"left",j=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=i.reference[x]+i.reference[p]-f[p]-i.floating[x],N=f[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=S?S[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[w]||i.floating[x]);const P=b/2-N/2,_=C/2-m[x]/2-1,A=Zo(h[y],_),k=Zo(h[j],_),E=A,L=C-m[x]-k,F=C/2-m[x]/2+P,U=n1(E,F,L),W=!c.arrow&&Ju(a)!=null&&F!==U&&i.reference[x]/2-(F<E?A:k)-m[x]/2<0,V=W?F<E?F-E:F-L:0;return{[p]:f[p]+V,data:{[p]:U,centerOffset:F-U-V,...W&&{alignmentOffset:V}},reset:W}}}),cG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...g}=Mi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Di(a),j=Da(l),w=Di(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=f||(w||!m?[$x(l)]:tG(l)),S=x!=="none";!f&&S&&N.push(...aG(l,m,x,b));const C=[l,...N],P=await rm(t,g),_=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&_.push(P[y]),h){const F=eG(a,o,b);_.push(P[F[0]],P[F[1]])}if(A=[...A,{placement:a,overflows:_}],!_.every(F=>F<=0)){var k,E;const F=(((k=i.flip)==null?void 0:k.index)||0)+1,U=C[F];if(U&&(!(h==="alignment"?j!==Da(U):!1)||A.every(D=>Da(D.placement)===j?D.overflows[0]>0:!0)))return{data:{index:F,overflows:A},reset:{placement:U}};let W=(E=A.filter(V=>V.overflows[0]<=0).sort((V,D)=>V.overflows[1]-D.overflows[1])[0])==null?void 0:E.placement;if(!W)switch(p){case"bestFit":{var L;const V=(L=A.filter(D=>{if(S){const T=Da(D.placement);return T===j||T==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(T=>T>0).reduce((T,$)=>T+$,0)]).sort((D,T)=>D[1]-T[1])[0])==null?void 0:L[0];V&&(W=V);break}case"initialPlacement":W=l;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function W_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function V_(e){return XK.some(t=>e[t]>=0)}const dG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Mi(e,t);switch(n){case"referenceHidden":{const i=await rm(t,{...a,elementContext:"reference"}),o=W_(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:V_(o)}}}case"escaped":{const i=await rm(t,{...a,altBoundary:!0}),o=W_(i,r.floating);return{data:{escapedOffsets:o,escaped:V_(o)}}}default:return{}}}}},eI=new Set(["left","top"]);async function uG(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Di(r),l=Ju(r),c=Da(r)==="y",d=eI.has(o)?-1:1,u=i&&c?-1:1,h=Mi(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*u,y:f*d}:{x:f*d,y:p*u}}const hG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await uG(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},fG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:y,y:j}=g;return{x:y,y:j}}},...c}=Mi(e,t),d={x:r,y:n},u=await rm(t,c),h=Da(Di(a)),f=ES(h);let p=d[f],x=d[h];if(i){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",j=p+u[g],w=p-u[y];p=n1(j,p,w)}if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",j=x+u[g],w=x-u[y];x=n1(j,x,w)}const m=l.fn({...t,[f]:p,[h]:x});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:i,[h]:o}}}}}},mG=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Mi(e,t),u={x:r,y:n},h=Da(a),f=ES(h);let p=u[f],x=u[h];const m=Mi(l,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=f==="y"?"height":"width",b=i.reference[f]-i.floating[w]+g.mainAxis,N=i.reference[f]+i.reference[w]-g.mainAxis;p<b?p=b:p>N&&(p=N)}if(d){var y,j;const w=f==="y"?"width":"height",b=eI.has(Di(a)),N=i.reference[h]-i.floating[w]+(b&&((y=o.offset)==null?void 0:y[h])||0)+(b?0:g.crossAxis),S=i.reference[h]+i.reference[w]+(b?0:((j=o.offset)==null?void 0:j[h])||0)-(b?g.crossAxis:0);x<N?x=N:x>S&&(x=S)}return{[f]:p,[h]:x}}}},pG=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Mi(e,t),u=await rm(t,d),h=Di(a),f=Ju(a),p=Da(a)==="y",{width:x,height:m}=i.floating;let g,y;h==="top"||h==="bottom"?(g=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,g=f==="end"?"top":"bottom");const j=m-u.top-u.bottom,w=x-u.left-u.right,b=Zo(m-u[g],j),N=Zo(x-u[y],w),S=!t.middlewareData.shift;let C=b,P=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=j),S&&!f){const A=cs(u.left,0),k=cs(u.right,0),E=cs(u.top,0),L=cs(u.bottom,0);p?P=x-2*(A!==0||k!==0?A+k:cs(u.left,u.right)):C=m-2*(E!==0||L!==0?E+L:cs(u.top,u.bottom))}await c({...t,availableWidth:P,availableHeight:C});const _=await o.getDimensions(l.floating);return x!==_.width||m!==_.height?{reset:{rects:!0}}:{}}}};function Rv(){return typeof window<"u"}function eh(e){return tI(e)?(e.nodeName||"").toLowerCase():"#document"}function ps(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xa(e){var t;return(t=(tI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tI(e){return Rv()?e instanceof Node||e instanceof ps(e).Node:!1}function xa(e){return Rv()?e instanceof Element||e instanceof ps(e).Element:!1}function Ka(e){return Rv()?e instanceof HTMLElement||e instanceof ps(e).HTMLElement:!1}function H_(e){return!Rv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ps(e).ShadowRoot}const gG=new Set(["inline","contents"]);function hp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ya(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!gG.has(a)}const xG=new Set(["table","td","th"]);function yG(e){return xG.has(eh(e))}const vG=[":popover-open",":modal"];function $v(e){return vG.some(t=>{try{return e.matches(t)}catch{return!1}})}const bG=["transform","translate","scale","rotate","perspective"],wG=["transform","translate","scale","rotate","perspective","filter"],jG=["paint","layout","strict","content"];function MS(e){const t=DS(),r=xa(e)?ya(e):e;return bG.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||wG.some(n=>(r.willChange||"").includes(n))||jG.some(n=>(r.contain||"").includes(n))}function NG(e){let t=Jo(e);for(;Ka(t)&&!su(t);){if(MS(t))return t;if($v(t))return null;t=Jo(t)}return null}function DS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const SG=new Set(["html","body","#document"]);function su(e){return SG.has(eh(e))}function ya(e){return ps(e).getComputedStyle(e)}function Lv(e){return xa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jo(e){if(eh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||H_(e)&&e.host||Xa(e);return H_(t)?t.host:t}function rI(e){const t=Jo(e);return su(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ka(t)&&hp(t)?t:rI(t)}function nm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=rI(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=ps(a);if(i){const l=a1(o);return t.concat(o,o.visualViewport||[],hp(a)?a:[],l&&r?nm(l):[])}return t.concat(a,nm(a,[],r))}function a1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nI(e){const t=ya(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ka(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Rx(r)!==i||Rx(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function IS(e){return xa(e)?e:e.contextElement}function kd(e){const t=IS(e);if(!Ka(t))return za(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=nI(t);let o=(i?Rx(r.width):r.width)/n,l=(i?Rx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const CG=za(0);function sI(e){const t=ps(e);return!DS()||!t.visualViewport?CG:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PG(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ps(e)?!1:t}function mc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=IS(e);let o=za(1);t&&(n?xa(n)&&(o=kd(n)):o=kd(e));const l=PG(i,r,n)?sI(i):za(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const f=ps(i),p=n&&xa(n)?ps(n):n;let x=f,m=a1(x);for(;m&&n&&p!==x;){const g=kd(m),y=m.getBoundingClientRect(),j=ya(m),w=y.left+(m.clientLeft+parseFloat(j.paddingLeft))*g.x,b=y.top+(m.clientTop+parseFloat(j.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,h*=g.y,c+=w,d+=b,x=ps(m),m=a1(x)}}return Lx({width:u,height:h,x:c,y:d})}function Fv(e,t){const r=Lv(e).scrollLeft;return t?t.left+r:mc(Xa(e)).left+r}function aI(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Fv(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function kG(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Xa(n),l=t?$v(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=za(1);const u=za(0),h=Ka(n);if((h||!h&&!i)&&((eh(n)!=="body"||hp(o))&&(c=Lv(n)),Ka(n))){const p=mc(n);d=kd(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=o&&!h&&!i?aI(o,c):za(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function _G(e){return Array.from(e.getClientRects())}function AG(e){const t=Xa(e),r=Lv(e),n=e.ownerDocument.body,a=cs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=cs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Fv(e);const l=-r.scrollTop;return ya(n).direction==="rtl"&&(o+=cs(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const q_=25;function EG(e,t){const r=ps(e),n=Xa(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=DS();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Fv(n);if(d<=0){const u=n.ownerDocument,h=u.body,f=getComputedStyle(h),p=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,x=Math.abs(n.clientWidth-h.clientWidth-p);x<=q_&&(i-=x)}else d<=q_&&(i+=d);return{width:i,height:o,x:l,y:c}}const TG=new Set(["absolute","fixed"]);function OG(e,t){const r=mc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ka(e)?kd(e):za(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function K_(e,t,r){let n;if(t==="viewport")n=EG(e,r);else if(t==="document")n=AG(Xa(e));else if(xa(t))n=OG(t,r);else{const a=sI(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Lx(n)}function iI(e,t){const r=Jo(e);return r===t||!xa(r)||su(r)?!1:ya(r).position==="fixed"||iI(r,t)}function MG(e,t){const r=t.get(e);if(r)return r;let n=nm(e,[],!1).filter(l=>xa(l)&&eh(l)!=="body"),a=null;const i=ya(e).position==="fixed";let o=i?Jo(e):e;for(;xa(o)&&!su(o);){const l=ya(o),c=MS(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&TG.has(a.position)||hp(o)&&!c&&iI(e,o))?n=n.filter(u=>u!==o):a=l,o=Jo(o)}return t.set(e,n),n}function DG(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?$v(t)?[]:MG(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=K_(t,u,a);return d.top=cs(h.top,d.top),d.right=Zo(h.right,d.right),d.bottom=Zo(h.bottom,d.bottom),d.left=cs(h.left,d.left),d},K_(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function IG(e){const{width:t,height:r}=nI(e);return{width:t,height:r}}function RG(e,t,r){const n=Ka(t),a=Xa(t),i=r==="fixed",o=mc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=za(0);function d(){c.x=Fv(a)}if(n||!n&&!i)if((eh(t)!=="body"||hp(a))&&(l=Lv(t)),n){const p=mc(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?aI(a,l):za(0),h=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function Bb(e){return ya(e).position==="static"}function G_(e,t){if(!Ka(e)||ya(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xa(e)===r&&(r=r.ownerDocument.body),r}function oI(e,t){const r=ps(e);if($v(e))return r;if(!Ka(e)){let a=Jo(e);for(;a&&!su(a);){if(xa(a)&&!Bb(a))return a;a=Jo(a)}return r}let n=G_(e,t);for(;n&&yG(n)&&Bb(n);)n=G_(n,t);return n&&su(n)&&Bb(n)&&!MS(n)?r:n||NG(e)||r}const $G=async function(e){const t=this.getOffsetParent||oI,r=this.getDimensions,n=await r(e.floating);return{reference:RG(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function LG(e){return ya(e).direction==="rtl"}const FG={convertOffsetParentRelativeRectToViewportRelativeRect:kG,getDocumentElement:Xa,getClippingRect:DG,getOffsetParent:oI,getElementRects:$G,getClientRects:_G,getDimensions:IG,getScale:kd,isElement:xa,isRTL:LG};function lI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zG(e,t){let r=null,n;const a=Xa(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=d;if(l||t(),!f||!p)return;const x=tg(h),m=tg(a.clientWidth-(u+f)),g=tg(a.clientHeight-(h+p)),y=tg(u),w={rootMargin:-x+"px "+-m+"px "+-g+"px "+-y+"px",threshold:cs(0,Zo(1,c))||1};let b=!0;function N(S){const C=S[0].intersectionRatio;if(C!==c){if(!b)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!lI(d,e.getBoundingClientRect())&&o(),b=!1}try{r=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return o(!0),i}function BG(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=IS(e),u=a||i?[...d?nm(d):[],...nm(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=d&&l?zG(d,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[j]=y;j&&j.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let x,m=c?mc(e):null;c&&g();function g(){const y=mc(e);m&&!lI(m,y)&&r(),m=y,x=requestAnimationFrame(g)}return r(),()=>{var y;u.forEach(j=>{a&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const UG=hG,WG=fG,VG=cG,HG=pG,qG=dG,Y_=lG,KG=mG,GG=(e,t,r)=>{const n=new Map,a={platform:FG,...r},i={...a.platform,_c:n};return oG(e,t,{...a,platform:i})};var YG=typeof document<"u",XG=function(){},Jg=YG?v.useLayoutEffect:XG;function Fx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Fx(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Fx(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function cI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function X_(e,t){const r=cI(e);return Math.round(t*r)/r}function Ub(e){const t=v.useRef(e);return Jg(()=>{t.current=e}),t}function QG(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=v.useState(n);Fx(f,n)||p(n);const[x,m]=v.useState(null),[g,y]=v.useState(null),j=v.useCallback(D=>{D!==S.current&&(S.current=D,m(D))},[]),w=v.useCallback(D=>{D!==C.current&&(C.current=D,y(D))},[]),b=i||x,N=o||g,S=v.useRef(null),C=v.useRef(null),P=v.useRef(u),_=c!=null,A=Ub(c),k=Ub(a),E=Ub(d),L=v.useCallback(()=>{if(!S.current||!C.current)return;const D={placement:t,strategy:r,middleware:f};k.current&&(D.platform=k.current),GG(S.current,C.current,D).then(T=>{const $={...T,isPositioned:E.current!==!1};F.current&&!Fx(P.current,$)&&(P.current=$,kc.flushSync(()=>{h($)}))})},[f,t,r,k,E]);Jg(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[d]);const F=v.useRef(!1);Jg(()=>(F.current=!0,()=>{F.current=!1}),[]),Jg(()=>{if(b&&(S.current=b),N&&(C.current=N),b&&N){if(A.current)return A.current(b,N,L);L()}},[b,N,L,A,_]);const U=v.useMemo(()=>({reference:S,floating:C,setReference:j,setFloating:w}),[j,w]),W=v.useMemo(()=>({reference:b,floating:N}),[b,N]),V=v.useMemo(()=>{const D={position:r,left:0,top:0};if(!W.floating)return D;const T=X_(W.floating,u.x),$=X_(W.floating,u.y);return l?{...D,transform:"translate("+T+"px, "+$+"px)",...cI(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:$}},[r,l,W.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:L,refs:U,elements:W,floatingStyles:V}),[u,L,U,W,V])}const ZG=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Y_({element:n.current,padding:a}).fn(r):{}:n?Y_({element:n,padding:a}).fn(r):{}}}},JG=(e,t)=>({...UG(e),options:[e,t]}),eY=(e,t)=>({...WG(e),options:[e,t]}),tY=(e,t)=>({...KG(e),options:[e,t]}),rY=(e,t)=>({...VG(e),options:[e,t]}),nY=(e,t)=>({...HG(e),options:[e,t]}),sY=(e,t)=>({...qG(e),options:[e,t]}),aY=(e,t)=>({...ZG(e),options:[e,t]});var iY="Arrow",dI=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(ze.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});dI.displayName=iY;var oY=dI;function zv(e){const[t,r]=v.useState(void 0);return jr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var RS="Popper",[uI,ol]=zr(RS),[lY,hI]=uI(RS),fI=e=>{const{__scopePopper:t,children:r}=e,[n,a]=v.useState(null);return s.jsx(lY,{scope:t,anchor:n,onAnchorChange:a,children:r})};fI.displayName=RS;var mI="PopperAnchor",pI=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=hI(mI,r),o=v.useRef(null),l=et(t,o),c=v.useRef(null);return v.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(ze.div,{...a,ref:l})});pI.displayName=mI;var $S="PopperContent",[cY,dY]=uI($S),gI=v.forwardRef((e,t)=>{var je,xe,pe,ye,X,B;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:x,...m}=e,g=hI($S,r),[y,j]=v.useState(null),w=et(t,ce=>j(ce)),[b,N]=v.useState(null),S=zv(b),C=(S==null?void 0:S.width)??0,P=(S==null?void 0:S.height)??0,_=n+(i!=="center"?"-"+i:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(d)?d:[d],E=k.length>0,L={padding:A,boundary:k.filter(hY),altBoundary:E},{refs:F,floatingStyles:U,placement:W,isPositioned:V,middlewareData:D}=QG({strategy:"fixed",placement:_,whileElementsMounted:(...ce)=>BG(...ce,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[JG({mainAxis:a+P,alignmentAxis:o}),c&&eY({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?tY():void 0,...L}),c&&rY({...L}),nY({...L,apply:({elements:ce,rects:ve,availableWidth:q,availableHeight:oe})=>{const{width:le,height:Ne}=ve.reference,Me=ce.floating.style;Me.setProperty("--radix-popper-available-width",`${q}px`),Me.setProperty("--radix-popper-available-height",`${oe}px`),Me.setProperty("--radix-popper-anchor-width",`${le}px`),Me.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),b&&aY({element:b,padding:l}),fY({arrowWidth:C,arrowHeight:P}),f&&sY({strategy:"referenceHidden",...L})]}),[T,$]=vI(W),O=gr(x);jr(()=>{V&&(O==null||O())},[V,O]);const R=(je=D.arrow)==null?void 0:je.x,I=(xe=D.arrow)==null?void 0:xe.y,H=((pe=D.arrow)==null?void 0:pe.centerOffset)!==0,[he,ie]=v.useState();return jr(()=>{y&&ie(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:V?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(ye=D.transformOrigin)==null?void 0:ye.x,(X=D.transformOrigin)==null?void 0:X.y].join(" "),...((B=D.hide)==null?void 0:B.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(cY,{scope:r,placedSide:T,onArrowChange:N,arrowX:R,arrowY:I,shouldHideArrow:H,children:s.jsx(ze.div,{"data-side":T,"data-align":$,...m,ref:w,style:{...m.style,animation:V?void 0:"none"}})})})});gI.displayName=$S;var xI="PopperArrow",uY={top:"bottom",right:"left",bottom:"top",left:"right"},yI=v.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=dY(xI,n),o=uY[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(oY,{...a,ref:r,style:{...a.style,display:"block"}})})});yI.displayName=xI;function hY(e){return e!==null}var fY=e=>({name:"transformOrigin",options:e,fn(t){var g,y,j;const{placement:r,rects:n,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=vI(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((j=a.arrow)==null?void 0:j.y)??0)+c/2;let x="",m="";return d==="bottom"?(x=o?h:`${f}px`,m=`${-c}px`):d==="top"?(x=o?h:`${f}px`,m=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,m=o?h:`${p}px`):d==="left"&&(x=`${n.floating.width+c}px`,m=o?h:`${p}px`),{data:{x,y:m}}}});function vI(e){const[t,r="center"]=e.split("-");return[t,r]}var LS=fI,fp=pI,Bv=gI,Uv=yI,[Wv]=zr("Tooltip",[ol]),FS=ol(),bI="TooltipProvider",mY=700,Q_="tooltip.open",[pY,wI]=Wv(bI),jI=e=>{const{__scopeTooltip:t,delayDuration:r=mY,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(pY,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};jI.displayName=bI;var NI="Tooltip",[IOe,Vv]=Wv(NI),i1="TooltipTrigger",gY=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Vv(i1,r),i=wI(i1,r),o=FS(r),l=v.useRef(null),c=et(t,l,a.onTriggerChange),d=v.useRef(!1),u=v.useRef(!1),h=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(fp,{asChild:!0,...o,children:s.jsx(ze.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ce(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ce(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Ce(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ce(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Ce(e.onBlur,a.onClose),onClick:Ce(e.onClick,a.onClose)})})});gY.displayName=i1;var xY="TooltipPortal",[ROe,yY]=Wv(xY,{forceMount:void 0}),au="TooltipContent",SI=v.forwardRef((e,t)=>{const r=yY(au,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Vv(au,e.__scopeTooltip);return s.jsx(Br,{present:n||o.open,children:o.disableHoverableContent?s.jsx(CI,{side:a,...i,ref:t}):s.jsx(vY,{side:a,...i,ref:t})})}),vY=v.forwardRef((e,t)=>{const r=Vv(au,e.__scopeTooltip),n=wI(au,e.__scopeTooltip),a=v.useRef(null),i=et(t,a),[o,l]=v.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:h}=n,f=v.useCallback(()=>{l(null),h(!1)},[h]),p=v.useCallback((x,m)=>{const g=x.currentTarget,y={x:x.clientX,y:x.clientY},j=SY(y,g.getBoundingClientRect()),w=CY(y,j),b=PY(m.getBoundingClientRect()),N=_Y([...w,...b]);l(N),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(c&&u){const x=g=>p(g,u),m=g=>p(g,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",m)}}},[c,u,p,f]),v.useEffect(()=>{if(o){const x=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},j=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),w=!kY(y,o);j?f():w&&(f(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,f]),s.jsx(CI,{...e,ref:i})}),[bY,wY]=Wv(NI,{isInside:!1}),jY=cD("TooltipContent"),CI=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Vv(au,r),d=FS(r),{onClose:u}=c;return v.useEffect(()=>(document.addEventListener(Q_,u),()=>document.removeEventListener(Q_,u)),[u]),v.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(_c,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(Bv,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(jY,{children:n}),s.jsx(bY,{scope:r,isInside:!0,children:s.jsx(uq,{id:c.contentId,role:"tooltip",children:a||n})})]})})});SI.displayName=au;var PI="TooltipArrow",NY=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=FS(r);return wY(PI,r).isInside?null:s.jsx(Uv,{...a,...n,ref:t})});NY.displayName=PI;function SY(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function CY(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function PY(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function kY(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,f=c.y;u>n!=f>n&&r<(h-d)*(n-u)/(f-u)+d&&(a=!a)}return a}function _Y(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),AY(t)}function AY(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var EY=jI,kI=SI;const TY=EY,OY=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(kI,{ref:n,sideOffset:t,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));OY.displayName=kI.displayName;function ft(){const[e,t]=ua("/:domain/user"),[r,n]=ua("/:domain/affiliate"),[a,i]=ua("/:domain"),o=(t==null?void 0:t.domain)||(n==null?void 0:n.domain)||(i==null?void 0:i.domain),l=o?decodeURIComponent(o).split("?")[0]:void 0,{data:c,isLoading:d}=ue({queryKey:["/api/auth/user",l],queryFn:l?()=>fetch(`/api/auth/user?domain=${l}`).then(u=>u.ok?u.json():null):xS({on401:"returnNull"}),retry:!1});return{user:c,isLoading:d,isAuthenticated:!!c,domain:l}}function _I(){const{user:e,isAuthenticated:t}=ft(),r=ue({queryKey:["/api/preferences"],queryFn:xS({on401:"returnNull"}),enabled:t&&!!e,retry:!1});return console.log("useUserPreferences Debug:",{user:e,isAuthenticated:t,queryData:r.data,queryError:r.error,queryStatus:r.status}),r}const MY=v.createContext(void 0);function DY({children:e}){const[t,r]=v.useState("light"),{data:n}=_I();v.useEffect(()=>{if(n!=null&&n.theme){r(n.theme);const i=window.document.documentElement;if(i.classList.remove("light","dark"),n.theme==="system"){const o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i.classList.add(o)}else i.classList.add(n.theme)}},[n==null?void 0:n.theme]),v.useEffect(()=>{if(n){const i=window.document.documentElement;if(n.primaryColor&&n.primaryColor!=="#2563EB"){const o=IY(n.primaryColor);i.style.setProperty("--primary",o),i.style.setProperty("--sidebar-primary",o)}else i.style.removeProperty("--primary"),i.style.removeProperty("--sidebar-primary")}},[n==null?void 0:n.primaryColor,n==null?void 0:n.secondaryColor,n==null?void 0:n.logoUrl]);const a={theme:t,setTheme:r,preferences:n};return s.jsx(MY.Provider,{value:a,children:e})}function IY(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return e;const r=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,a=parseInt(t[3],16)/255,i=Math.max(r,n,a),o=Math.min(r,n,a);let l=0,c=0,d=(i+o)/2;if(i!==o){const u=i-o;switch(c=d>.5?u/(2-i-o):u/(i+o),i){case r:l=(n-a)/u+(n<a?6:0);break;case n:l=(a-r)/u+2;break;case a:l=(r-n)/u+4;break}l/=6}return`${Math.round(l*360)} ${Math.round(c*100)}% ${Math.round(d*100)}%`}const AI=v.createContext(void 0);function RY({children:e}){const{user:t}=ft(),r=(t==null?void 0:t.role)||"end_user",n=r==="super_admin",a=r==="super_admin",i=r==="super_admin",o=["super_admin","white_label_client"].includes(r),l={currentRole:r,canCreatePlans:n,canViewAllClients:a,canViewAllAffiliates:i,canManageUsers:o};return s.jsx(AI.Provider,{value:l,children:e})}function $Y(){const e=v.useContext(AI);if(e===void 0)throw new Error("useRoleContext must be used within a RoleProvider");return e}var Wb="focusScope.autoFocusOnMount",Vb="focusScope.autoFocusOnUnmount",Z_={bubbles:!1,cancelable:!0},LY="FocusScope",mp=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=gr(a),u=gr(i),h=v.useRef(null),f=et(t,m=>c(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const b=w.target;l.contains(b)?h.current=b:eo(h.current,{select:!0})},g=function(w){if(p.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||eo(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&eo(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const j=new MutationObserver(y);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),j.disconnect()}}},[n,l,p.paused]),v.useEffect(()=>{if(l){e4.add(p);const m=document.activeElement;if(!l.contains(m)){const y=new CustomEvent(Wb,Z_);l.addEventListener(Wb,d),l.dispatchEvent(y),y.defaultPrevented||(FY(VY(EI(l)),{select:!0}),document.activeElement===m&&eo(l))}return()=>{l.removeEventListener(Wb,d),setTimeout(()=>{const y=new CustomEvent(Vb,Z_);l.addEventListener(Vb,u),l.dispatchEvent(y),y.defaultPrevented||eo(m??document.body,{select:!0}),l.removeEventListener(Vb,u),e4.remove(p)},0)}}},[l,d,u,p]);const x=v.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const j=m.currentTarget,[w,b]=zY(j);w&&b?!m.shiftKey&&y===b?(m.preventDefault(),r&&eo(w,{select:!0})):m.shiftKey&&y===w&&(m.preventDefault(),r&&eo(b,{select:!0})):y===j&&m.preventDefault()}},[r,n,p.paused]);return s.jsx(ze.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});mp.displayName=LY;function FY(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(eo(n,{select:t}),document.activeElement!==r)return}function zY(e){const t=EI(e),r=J_(t,e),n=J_(t.reverse(),e);return[r,n]}function EI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function J_(e,t){for(const r of e)if(!BY(r,{upTo:t}))return r}function BY(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function UY(e){return e instanceof HTMLInputElement&&"select"in e}function eo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&UY(e)&&t&&e.select()}}var e4=WY();function WY(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=t4(e,t),e.unshift(t)},remove(t){var r;e=t4(e,t),(r=e[0])==null||r.resume()}}}function t4(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function VY(e){return e.filter(t=>t.tagName!=="A")}var Hb=0;function Hv(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??r4()),document.body.insertAdjacentElement("beforeend",e[1]??r4()),Hb++,()=>{Hb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Hb--}},[])}function r4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ma=function(){return Ma=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ma.apply(this,arguments)};function TI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function HY(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var ex="right-scroll-bar-position",tx="width-before-scroll-bar",qY="with-scroll-bars-hidden",KY="--removed-body-scroll-bar-size";function qb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function GY(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var YY=typeof window<"u"?v.useLayoutEffect:v.useEffect,n4=new WeakMap;function XY(e,t){var r=GY(null,function(n){return e.forEach(function(a){return qb(a,n)})});return YY(function(){var n=n4.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||qb(l,null)}),i.forEach(function(l){a.has(l)||qb(l,o)})}n4.set(r,e)},[e]),r}function QY(e){return e}function ZY(e,t){t===void 0&&(t=QY);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function JY(e){e===void 0&&(e={});var t=ZY(null);return t.options=Ma({async:!0,ssr:!1},e),t}var OI=function(e){var t=e.sideCar,r=TI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Ma({},r))};OI.isSideCarExport=!0;function eX(e,t){return e.useMedium(t),OI}var MI=JY(),Kb=function(){},qv=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Kb,onWheelCapture:Kb,onTouchMoveCapture:Kb}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,x=e.noIsolation,m=e.inert,g=e.allowPinchZoom,y=e.as,j=y===void 0?"div":y,w=e.gapMode,b=TI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,S=XY([r,t]),C=Ma(Ma({},b),a);return v.createElement(v.Fragment,null,u&&v.createElement(N,{sideCar:MI,removeScrollBar:d,shards:h,noRelative:p,noIsolation:x,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:w}),o?v.cloneElement(v.Children.only(l),Ma(Ma({},C),{ref:S})):v.createElement(j,Ma({},C,{className:c,ref:S}),l))});qv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qv.classNames={fullWidth:tx,zeroRight:ex};var tX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rX(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tX();return t&&e.setAttribute("nonce",t),e}function nX(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sX(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var aX=function(){var e=0,t=null;return{add:function(r){e==0&&(t=rX())&&(nX(t,r),sX(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iX=function(){var e=aX();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},DI=function(){var e=iX(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},oX={left:0,top:0,right:0,gap:0},Gb=function(e){return parseInt(e||"",10)||0},lX=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Gb(r),Gb(n),Gb(a)]},cX=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oX;var t=lX(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},dX=DI(),_d="data-scroll-locked",uX=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(qY,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(_d,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ex,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(tx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ex," .").concat(ex,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(tx," .").concat(tx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_d,`] {
    `).concat(KY,": ").concat(l,`px;
  }
`)},s4=function(){var e=parseInt(document.body.getAttribute(_d)||"0",10);return isFinite(e)?e:0},hX=function(){v.useEffect(function(){return document.body.setAttribute(_d,(s4()+1).toString()),function(){var e=s4()-1;e<=0?document.body.removeAttribute(_d):document.body.setAttribute(_d,e.toString())}},[])},fX=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;hX();var i=v.useMemo(function(){return cX(a)},[a]);return v.createElement(dX,{styles:uX(i,!t,a,r?"":"!important")})},o1=!1;if(typeof window<"u")try{var rg=Object.defineProperty({},"passive",{get:function(){return o1=!0,!0}});window.addEventListener("test",rg,rg),window.removeEventListener("test",rg,rg)}catch{o1=!1}var Bc=o1?{passive:!1}:!1,mX=function(e){return e.tagName==="TEXTAREA"},II=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!mX(e)&&r[t]==="visible")},pX=function(e){return II(e,"overflowY")},gX=function(e){return II(e,"overflowX")},a4=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=RI(e,n);if(a){var i=$I(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},xX=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},yX=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},RI=function(e,t){return e==="v"?pX(t):gX(t)},$I=function(e,t){return e==="v"?xX(t):yX(t)},vX=function(e,t){return e==="h"&&t==="rtl"?-1:1},bX=function(e,t,r,n,a){var i=vX(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{if(!l)break;var p=$I(e,l),x=p[0],m=p[1],g=p[2],y=m-g-i*x;(x||y)&&RI(e,l)&&(h+=y,f+=x);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(d=!0),d},ng=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},i4=function(e){return[e.deltaX,e.deltaY]},o4=function(e){return e&&"current"in e?e.current:e},wX=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jX=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},NX=0,Uc=[];function SX(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(NX++)[0],i=v.useState(DI)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=HY([e.lockRef.current],(e.shards||[]).map(o4),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=ng(m),j=r.current,w="deltaX"in m?m.deltaX:j[0]-y[0],b="deltaY"in m?m.deltaY:j[1]-y[1],N,S=m.target,C=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in m&&C==="h"&&S.type==="range")return!1;var P=a4(C,S);if(!P)return!0;if(P?N=C:(N=C==="v"?"h":"v",P=a4(C,S)),!P)return!1;if(!n.current&&"changedTouches"in m&&(w||b)&&(n.current=N),!N)return!0;var _=n.current||N;return bX(_,g,m,_==="h"?w:b)},[]),c=v.useCallback(function(m){var g=m;if(!(!Uc.length||Uc[Uc.length-1]!==i)){var y="deltaY"in g?i4(g):ng(g),j=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&wX(N.delta,y)})[0];if(j&&j.should){g.cancelable&&g.preventDefault();return}if(!j){var w=(o.current.shards||[]).map(o4).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(m,g,y,j){var w={name:m,delta:g,target:y,should:j,shadowParent:CX(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=v.useCallback(function(m){r.current=ng(m),n.current=void 0},[]),h=v.useCallback(function(m){d(m.type,i4(m),m.target,l(m,e.lockRef.current))},[]),f=v.useCallback(function(m){d(m.type,ng(m),m.target,l(m,e.lockRef.current))},[]);v.useEffect(function(){return Uc.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Bc),document.addEventListener("touchmove",c,Bc),document.addEventListener("touchstart",u,Bc),function(){Uc=Uc.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Bc),document.removeEventListener("touchmove",c,Bc),document.removeEventListener("touchstart",u,Bc)}},[]);var p=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:jX(a)}):null,p?v.createElement(fX,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function CX(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const PX=eX(MI,SX);var pp=v.forwardRef(function(e,t){return v.createElement(qv,Ma({},e,{ref:t,sideCar:PX}))});pp.classNames=qv.classNames;var kX=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wc=new WeakMap,sg=new WeakMap,ag={},Yb=0,LI=function(e){return e&&(e.host||LI(e.parentNode))},_X=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=LI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},AX=function(e,t,r,n){var a=_X(t,Array.isArray(e)?e:[e]);ag[r]||(ag[r]=new WeakMap);var i=ag[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var p=f.getAttribute(n),x=p!==null&&p!=="false",m=(Wc.get(f)||0)+1,g=(i.get(f)||0)+1;Wc.set(f,m),i.set(f,g),o.push(f),m===1&&x&&sg.set(f,!0),g===1&&f.setAttribute(r,"true"),x||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),l.clear(),Yb++,function(){o.forEach(function(h){var f=Wc.get(h)-1,p=i.get(h)-1;Wc.set(h,f),i.set(h,p),f||(sg.has(h)||h.removeAttribute(n),sg.delete(h)),p||h.removeAttribute(r)}),Yb--,Yb||(Wc=new WeakMap,Wc=new WeakMap,sg=new WeakMap,ag={})}},Kv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=kX(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),AX(n,a,r,"aria-hidden")):function(){return null}},Gv="Dialog",[FI,zI]=zr(Gv),[EX,va]=FI(Gv),BI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d,u]=ga({prop:n,defaultProp:a??!1,onChange:i,caller:Gv});return s.jsx(EX,{scope:t,triggerRef:l,contentRef:c,contentId:fa(),titleId:fa(),descriptionId:fa(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};BI.displayName=Gv;var UI="DialogTrigger",WI=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=va(UI,r),i=et(t,a.triggerRef);return s.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":US(a.open),...n,ref:i,onClick:Ce(e.onClick,a.onOpenToggle)})});WI.displayName=UI;var zS="DialogPortal",[TX,VI]=FI(zS,{forceMount:void 0}),HI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=va(zS,t);return s.jsx(TX,{scope:t,forceMount:r,children:v.Children.map(n,o=>s.jsx(Br,{present:r||i.open,children:s.jsx(Yu,{asChild:!0,container:a,children:o})}))})};HI.displayName=zS;var zx="DialogOverlay",qI=v.forwardRef((e,t)=>{const r=VI(zx,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=va(zx,e.__scopeDialog);return i.modal?s.jsx(Br,{present:n||i.open,children:s.jsx(MX,{...a,ref:t})}):null});qI.displayName=zx;var OX=Ko("DialogOverlay.RemoveScroll"),MX=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=va(zx,r);return s.jsx(pp,{as:OX,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(ze.div,{"data-state":US(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),pc="DialogContent",KI=v.forwardRef((e,t)=>{const r=VI(pc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=va(pc,e.__scopeDialog);return s.jsx(Br,{present:n||i.open,children:i.modal?s.jsx(DX,{...a,ref:t}):s.jsx(IX,{...a,ref:t})})});KI.displayName=pc;var DX=v.forwardRef((e,t)=>{const r=va(pc,e.__scopeDialog),n=v.useRef(null),a=et(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return Kv(i)},[]),s.jsx(GI,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,i=>i.preventDefault())})}),IX=v.forwardRef((e,t)=>{const r=va(pc,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return s.jsx(GI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),GI=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=va(pc,r),c=v.useRef(null),d=et(t,c);return Hv(),s.jsxs(s.Fragment,{children:[s.jsx(mp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(_c,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":US(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx($X,{titleId:l.titleId}),s.jsx(FX,{contentRef:c,descriptionId:l.descriptionId})]})]})}),BS="DialogTitle",YI=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=va(BS,r);return s.jsx(ze.h2,{id:a.titleId,...n,ref:t})});YI.displayName=BS;var XI="DialogDescription",QI=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=va(XI,r);return s.jsx(ze.p,{id:a.descriptionId,...n,ref:t})});QI.displayName=XI;var ZI="DialogClose",JI=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=va(ZI,r);return s.jsx(ze.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,()=>a.onOpenChange(!1))})});JI.displayName=ZI;function US(e){return e?"open":"closed"}var eR="DialogTitleWarning",[RX,tR]=zH(eR,{contentName:pc,titleName:BS,docsSlug:"dialog"}),$X=({titleId:e})=>{const t=tR(eR),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},LX="DialogDescriptionWarning",FX=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tR(LX).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},rR=BI,nR=WI,sR=HI,WS=qI,VS=KI,HS=YI,qS=QI,KS=JI;const ar=rR,Yv=nR,zX=sR,aR=v.forwardRef(({className:e,...t},r)=>s.jsx(WS,{ref:r,className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aR.displayName=WS.displayName;const Yt=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(zX,{children:[s.jsx(aR,{}),s.jsxs(VS,{ref:n,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(KS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Lr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yt.displayName=VS.displayName;const Xt=({className:e,...t})=>s.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xt.displayName="DialogHeader";const iR=({className:e,...t})=>s.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});iR.displayName="DialogFooter";const Qt=v.forwardRef(({className:e,...t},r)=>s.jsx(HS,{ref:r,className:De("text-lg font-semibold leading-none tracking-tight",e),...t}));Qt.displayName=HS.displayName;const gs=v.forwardRef(({className:e,...t},r)=>s.jsx(qS,{ref:r,className:De("text-sm text-muted-foreground",e),...t}));gs.displayName=qS.displayName;const GS=lp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 shadow-lg hover:shadow-xl transform hover:scale-105",success:"bg-gradient-to-r from-emerald-500 to-teal-600 text-white hover:from-emerald-600 hover:to-teal-700 shadow-lg hover:shadow-xl transform hover:scale-105",warning:"bg-gradient-to-r from-amber-500 to-orange-600 text-white hover:from-amber-600 hover:to-orange-700 shadow-lg hover:shadow-xl transform hover:scale-105",info:"bg-gradient-to-r from-cyan-500 to-blue-600 text-white hover:from-cyan-600 hover:to-blue-700 shadow-lg hover:shadow-xl transform hover:scale-105",rainbow:"bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 text-white hover:from-pink-600 hover:via-purple-600 hover:to-indigo-600 shadow-lg hover:shadow-xl transform hover:scale-105"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?UH:"button";return s.jsx(o,{className:De(GS({variant:t,size:r,className:e})),ref:i,...a})});M.displayName="Button";const J=v.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));J.displayName="Input";var BX="Label",oR=v.forwardRef((e,t)=>s.jsx(ze.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));oR.displayName=BX;var lR=oR;const UX=lp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=v.forwardRef(({className:e,...t},r)=>s.jsx(lR,{ref:r,className:De(UX(),e),...t}));Y.displayName=lR.displayName;const K=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));K.displayName="Card";const re=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("flex flex-col space-y-1.5 p-6",e),...t}));re.displayName="CardHeader";const ne=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("text-2xl font-semibold leading-none tracking-tight",e),...t}));ne.displayName="CardTitle";const tt=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("text-sm text-muted-foreground",e),...t}));tt.displayName="CardDescription";const G=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("p-6 pt-0",e),...t}));G.displayName="CardContent";const l1=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("flex items-center p-6 pt-0",e),...t}));l1.displayName="CardFooter";function WX({isOpen:e,onClose:t,plan:r,domainPath:n,referralCode:a}){const{toast:i}=Ct(),[o,l]=v.useState(!1),[c,d]=v.useState(null),[u,h]=v.useState({cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",email:"",address:"",city:"",state:"",zipCode:""});v.useEffect(()=>{console.log("DomainCheckoutModal useEffect triggered:",{isOpen:e,plan:r}),e&&r&&(async()=>{try{console.log("Creating payment intent for plan:",r);const S=await(await Pe("POST","/api/create-payment-intent",{planId:parseInt(r.id),amount:parseFloat(r.price)||0})).json();console.log("Payment intent created:",S),d(S)}catch(N){console.error("Error creating payment intent:",N),i({title:"Error",description:"Failed to initialize payment. Please try again.",variant:"destructive"})}})()},[e,r,i]);const f=b=>{const{name:N,value:S}=b.target;h(C=>({...C,[N]:S}))},p=b=>{const N=b.replace(/\s+/g,"").replace(/[^0-9]/gi,""),S=N.match(/\d{4,16}/g),C=S&&S[0]||"",P=[];for(let _=0,A=C.length;_<A;_+=4)P.push(C.substring(_,_+4));return P.length?P.join(" "):N},x=b=>{const S=b.replace(/\D/g,"").substring(0,4);return S.length>=2?S.substring(0,2)+"/"+S.substring(2):S},m=b=>{const N=p(b.target.value);h(S=>({...S,cardNumber:N}))},g=b=>{const N=x(b.target.value);h(S=>({...S,expiryDate:N}))},y=async b=>{if(b.preventDefault(),!r){i({title:"Error",description:"Plan not found. Please refresh and try again.",variant:"destructive"});return}const S=[{field:"email",value:u.email,label:"Email"},{field:"nameOnCard",value:u.nameOnCard,label:"Name on Card"},{field:"cardNumber",value:u.cardNumber.replace(/\s/g,""),label:"Card Number"},{field:"expiryDate",value:u.expiryDate,label:"Expiry Date"},{field:"cvv",value:u.cvv,label:"CVV"},{field:"address",value:u.address,label:"Address"},{field:"city",value:u.city,label:"City"},{field:"state",value:u.state,label:"State"},{field:"zipCode",value:u.zipCode,label:"ZIP Code"}].filter(_=>{var A;return!((A=_.value)!=null&&A.trim())});if(S.length>0){i({title:"Missing Required Fields",description:`Please fill in the following fields: ${S.map(_=>_.label).join(", ")}`,variant:"destructive"});return}const C=u.cardNumber.replace(/\s/g,"");if(C.length<13||C.length>19){i({title:"Invalid Card Number",description:"Please enter a valid card number.",variant:"destructive"});return}if(u.cvv.length<3||u.cvv.length>4){i({title:"Invalid CVV",description:"Please enter a valid CVV (3-4 digits).",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)){i({title:"Invalid Email",description:"Please enter a valid email address.",variant:"destructive"});return}l(!0);try{console.log(" CLIENT: Starting payment process",{planId:r.id,planName:r.name,amount:r.price,domainPath:n,referralCode:a,timestamp:new Date().toISOString()});const _={planId:r.id,amount:r.price,cardNumber:C,expirationDate:u.expiryDate.replace("/",""),cvv:u.cvv,firstName:u.nameOnCard.split(" ")[0]||u.nameOnCard,lastName:u.nameOnCard.split(" ").slice(1).join(" ")||"",email:u.email,referralCode:a||""};console.log(" CLIENT: Payment payload prepared",{planId:_.planId,amount:_.amount,cardNumberMasked:_.cardNumber.replace(/\d(?=\d{4})/g,"*"),expirationDate:_.expirationDate,firstName:_.firstName,lastName:_.lastName,email:_.email,hasReferralCode:!!_.referralCode,timestamp:new Date().toISOString()}),console.log(" CLIENT: Sending payment request to server...");const A=await Pe("/api/confirm-nmi-payment","POST",_);console.log(" CLIENT: Received response from server",{status:A.status,statusText:A.statusText,ok:A.ok,timestamp:new Date().toISOString()});const k=await A.json();if(console.log(" CLIENT: Parsed response data",{success:k.success,transactionId:k.transactionId,error:k.error,message:k.message,details:k.details,timestamp:new Date().toISOString()}),k.success)console.log(" CLIENT: Payment successful!",{transactionId:k.transactionId,planName:r.name,timestamp:new Date().toISOString()}),i({title:"Payment Successful!",description:`You have successfully purchased ${r.name}. Transaction ID: ${k.transactionId}`}),h({cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",email:"",address:"",city:"",state:"",zipCode:""}),setTimeout(()=>{t()},2e3);else throw console.error(" CLIENT: Payment failed from server",{error:k.error,message:k.message,details:k.details,planId:r.id,amount:r.price,timestamp:new Date().toISOString()}),new Error(k.message||k.error||"Payment failed")}catch(_){console.error(" CLIENT: Payment processing error",{error:_.message,stack:_.stack,planId:r.id,planName:r.name,amount:r.price,domainPath:n,timestamp:new Date().toISOString()}),i({title:"Payment Failed",description:_.message||"There was an error processing your payment. Please try again.",variant:"destructive"})}finally{l(!1),console.log(" CLIENT: Payment process completed",{timestamp:new Date().toISOString()})}},j=parseFloat(r.price)||0,w=j>0?`$${j.toFixed(2)}`:"Free";return s.jsx(ar,{open:e,onOpenChange:t,children:s.jsxs(Yt,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[s.jsx(Xt,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(oK,{className:"h-5 w-5 text-green-600"}),"Complete Your Purchase"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(K,{children:s.jsxs(G,{className:"pt-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:r.name}),s.jsx("p",{className:"text-sm text-gray-600",children:r.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:w}),s.jsx("div",{className:"text-sm text-gray-500",children:"one-time"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[s.jsx("strong",{children:"Domain:"})," ",n]})]})}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email",children:"Email Address"}),s.jsx(J,{id:"email",type:"email",placeholder:"john@example.com",value:u.email,onChange:f,name:"email",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"nameOnCard",children:"Name on Card"}),s.jsx(J,{id:"nameOnCard",placeholder:"John Doe",value:u.nameOnCard,onChange:f,name:"nameOnCard",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"cardNumber",children:"Card Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:u.cardNumber,onChange:m,maxLength:19,required:!0}),s.jsx(Ht,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"expiryDate",children:"Expiry Date"}),s.jsx(J,{id:"expiryDate",placeholder:"MM/YY",value:u.expiryDate,onChange:g,maxLength:5,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"cvv",children:"CVV"}),s.jsx(J,{id:"cvv",placeholder:"123",value:u.cvv,onChange:f,name:"cvv",maxLength:4,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"address",children:"Address"}),s.jsx(J,{id:"address",placeholder:"123 Main Street",value:u.address,onChange:f,name:"address",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"city",children:"City"}),s.jsx(J,{id:"city",placeholder:"New York",value:u.city,onChange:f,name:"city",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"state",children:"State"}),s.jsx(J,{id:"state",placeholder:"NY",value:u.state,onChange:f,name:"state",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"zipCode",children:"ZIP Code"}),s.jsx(J,{id:"zipCode",placeholder:"10001",value:u.zipCode,onChange:f,name:"zipCode",required:!0})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[s.jsx(cp,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-primary",children:"Your payment information is secure and encrypted"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:t,disabled:o,className:"flex-1",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:o,className:"flex-1 bg-primary hover:bg-primary/90",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_t,{className:"h-4 w-4 mr-2"}),"Complete Purchase ",w]})})]})]})]})]})})}function VX({children:e}){const[t,r]=v.useState(!1),[n,a]=v.useState(null);v.useEffect(()=>{console.log("DomainPageWrapper mounted, setting up event listeners");const o=c=>{console.log("Checkout modal event received:",c.detail),a(c.detail),r(!0)};window.addEventListener("openCheckoutModal",o),window.initializeCheckoutModal&&window.initializeCheckoutModal(),setTimeout(()=>{console.log("Testing event system...");const c=new CustomEvent("test-event",{detail:"test"});window.dispatchEvent(c)},1e3);const l=c=>console.log("Test event received:",c.detail);return window.addEventListener("test-event",l),console.log("Event listener setup complete"),()=>{console.log("DomainPageWrapper unmounting, removing event listeners"),window.removeEventListener("openCheckoutModal",o),window.removeEventListener("test-event",l)}},[]);const i=()=>{r(!1),a(null)};return s.jsxs(s.Fragment,{children:[e,n&&s.jsx(WX,{isOpen:t,onClose:i,plan:n.plan,domainPath:n.domainPath})]})}function HX({children:e}){const{user:t}=ft();return(t==null?void 0:t.role)!=="super_admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-24 w-24 text-red-400",children:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.732 15.5c-.77.833-.73 2.5 1.732 2.5z"})})}),s.jsx("h1",{className:"mt-4 text-3xl font-bold tracking-tight text-gray-900",children:"Access Denied"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"This feature is only available to Super Administrators."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary/90",children:"Go Back"})})]})}):s.jsx(s.Fragment,{children:e})}function ig(){const[e,t]=v.useState(!1),r=v.useRef(null);return v.useEffect(()=>{const n=new IntersectionObserver(([a])=>{a.isIntersecting&&t(!0)},{threshold:.1,rootMargin:"0px 0px -100px 0px"});return r.current&&n.observe(r.current),()=>{r.current&&n.unobserve(r.current)}},[]),[r,e]}function qX(){const[e,t]=v.useState(0);return v.useEffect(()=>{const r=()=>t(window.pageYOffset);return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),e}const KX=lp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-gradient-to-r from-emerald-500 to-teal-600 text-white hover:from-emerald-600 hover:to-teal-700",warning:"border-transparent bg-gradient-to-r from-amber-500 to-orange-600 text-white hover:from-amber-600 hover:to-orange-700",info:"border-transparent bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:from-blue-600 hover:to-indigo-700",purple:"border-transparent bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700",rainbow:"border-transparent bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 text-white hover:from-pink-600 hover:via-purple-600 hover:to-indigo-600"}},defaultVariants:{variant:"default"}});function be({className:e,variant:t,...r}){return s.jsx("div",{className:De(KX({variant:t}),e),...r})}function YS(){const e=window.location.pathname.split("/")[1]||"",r=["users","dashboard","settings","plans","affiliates","admin","login","register","profile","billing","api","uploads","assets","static"].includes(e.toLowerCase())||!e,{data:n,isLoading:a,error:i}=ue({queryKey:["/api/white-labels/by-domain",e],queryFn:async()=>{if(!e||r)return null;const o=await fetch(`/api/white-labels/by-domain/${e}`);if(!o.ok){if(o.status===401||o.status===403||o.status===404)return null;throw new Error("Failed to fetch white label data")}return o.json()},retry:!1,enabled:!!e&&!r});return console.log("useWhiteLabel Debug:",{domain:e,isSystemRoute:r,whiteLabel:n,isLoading:a,error:i}),{whiteLabel:n,isLoading:a,error:i,hasWhiteLabel:!!n}}function Ur(){const{data:e,isLoading:t}=_I();v.useEffect(()=>{if(!e)return;const n=document.documentElement;if(n.classList.remove("light","dark"),e.theme==="system"){const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";n.classList.add(a)}else n.classList.add(e.theme);if(e.primaryColor){const a=l4(e.primaryColor);n.style.setProperty("--primary",a),n.style.setProperty("--sidebar-primary",a),n.style.setProperty("--ring",a);const o=c4(e.primaryColor)>60?"0 0% 0%":"0 0% 100%";n.style.setProperty("--primary-foreground",o)}if(e.secondaryColor){const a=l4(e.secondaryColor);n.style.setProperty("--secondary",a),n.style.setProperty("--muted",a);const o=c4(e.secondaryColor)>60?"0 0% 0%":"0 0% 100%";n.style.setProperty("--secondary-foreground",o)}},[e]);const r={theme:(e==null?void 0:e.theme)||"system",primaryColor:e==null?void 0:e.primaryColor,secondaryColor:e==null?void 0:e.secondaryColor,logoUrl:e==null?void 0:e.logoUrl,isLoading:t};return console.log(" useTheme Enhanced Debug:",{"Raw preferences from API":e,"Extracted logoUrl":e==null?void 0:e.logoUrl,"Final result":r,"Expected logo":"/uploads/profile_1758573914115-879455885.png","Logo found":!!(e!=null&&e.logoUrl),isLoading:t}),r}function l4(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return e;const r=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,a=parseInt(t[3],16)/255,i=Math.max(r,n,a),o=Math.min(r,n,a);let l=0,c=0,d=(i+o)/2;if(i!==o){const u=i-o;switch(c=d>.5?u/(2-i-o):u/(i+o),i){case r:l=(n-a)/u+(n<a?6:0);break;case n:l=(a-r)/u+2;break;case a:l=(r-n)/u+4;break}l/=6}return`${Math.round(l*360)} ${Math.round(c*100)}% ${Math.round(d*100)}%`}function c4(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return 50;const r=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,a=parseInt(t[3],16)/255,i=Math.max(r,n,a),o=Math.min(r,n,a);return(i+o)/2*100}function XS({size:e="md",iconPosition:t="right",showIcon:r=!0,className:n=""}){const{whiteLabel:a,isLoading:i}=YS(),{logoUrl:o,isLoading:l}=Ur(),c=i||l,d=(a==null?void 0:a.businessName)||"Your Brand",u=o||"/uploads/logo.png";console.log(" BrandLogo Enhanced Debug:",{whiteLabel:a,preferencesLogoUrl:o,logoUrl:u,brandName:d,isLoading:{whiteLoading:i,themeLoading:l},"Will show":"logo image","Using default logo":!o&&u==="/uploads/logo.png"});const h={sm:"h-8",md:"h-10",lg:"h-12"},f={sm:"text-lg",md:"text-xl",lg:"text-2xl"};return c?s.jsx("div",{className:`${h[e]} w-24 bg-gray-200 animate-pulse rounded ${n}`}):s.jsxs("div",{className:n,children:[s.jsx("img",{src:u,alt:`${d} Logo`,className:`${h[e]} w-auto object-contain`,onLoad:()=>{console.log(" Logo loaded successfully:",u)},onError:p=>{if(console.error(" Logo failed to load:",u),u==="/uploads/logo.png"){p.currentTarget.style.display="none";const x=p.currentTarget.nextElementSibling;x&&(x.style.display="flex")}}}),s.jsxs("div",{className:"flex items-center space-x-2",style:{display:"none"},children:[r&&t==="left"&&s.jsx(Fa,{className:`${h[e]} w-auto text-primary`}),s.jsx("span",{className:`font-bold text-primary ${f[e]}`,children:d}),r&&t==="right"&&s.jsx(Fa,{className:`${h[e]} w-auto text-primary`})]})]})}function GX(){const[e,t]=v.useState(0),[r,n]=ig(),[a,i]=ig(),[o,l]=ig();ig();const c=qX(),[d,u]=v.useState(!1),h=[{title:"Transform Your Business Multi-Tier Affiliate Networks",subtitle:"Build, manage, and scale white-label platforms with comprehensive role-based dashboards",image:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",cta:"Start Your Journey"},{title:"Powerful Revenue Sharing & Commission Tracking",subtitle:"Automated calculations, transparent distribution, and real-time analytics for every stakeholder",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",cta:"Explore Analytics"},{title:"Complete White-Label Customization",subtitle:"Brand every portal with custom themes, templates, and user experiences",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=2015&q=80",cta:"Customize Now"}],f=[{icon:I_,title:"Multi-Tier Architecture",description:"Support for multiple user roles and hierarchical affiliate structures",color:"bg-blue-500"},{icon:ct,title:"White-Label Solutions",description:"Complete branding customization for your clients' portals",color:"bg-purple-500"},{icon:qq,title:"Affiliate Management",description:"Advanced commission tracking and affiliate relationship management",color:"bg-green-500"},{icon:Tt,title:"Revenue Sharing",description:"Automated commission calculations and transparent revenue distribution",color:"bg-yellow-500"},{icon:Xr,title:"Advanced Analytics",description:"Comprehensive dashboards with real-time performance metrics",color:"bg-red-500"},{icon:Zr,title:"Role-Based Access",description:"Granular permissions and access controls for different user types",color:"bg-indigo-500"}],p=[{name:"Sarah Johnson",role:"CEO, TechCorp",content:"WhiteLabel Pro transformed our affiliate program. Revenue increased by 300% in just 6 months.",rating:5,avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b890?ixlib=rb-4.0.3&auto=format&fit=crop&w=256&q=80"},{name:"Michael Chen",role:"Marketing Director",content:"The multi-tier structure and analytics dashboard gave us insights we never had before.",rating:5,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=256&q=80"},{name:"Emma Davis",role:"Affiliate Manager",content:"Managing hundreds of affiliates is now effortless. The automation saves us 20+ hours weekly.",rating:5,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=256&q=80"}],x=[{number:"50K+",label:"Active Affiliates"},{number:"$2.4B",label:"Revenue Generated"},{number:"99.9%",label:"Uptime"},{number:"24/7",label:"Support"}];v.useEffect(()=>{const y=setInterval(()=>{t(j=>(j+1)%h.length)},5e3);return()=>clearInterval(y)},[]);const m=()=>t(y=>(y+1)%h.length),g=()=>t(y=>(y-1+h.length)%h.length);return s.jsxs("div",{className:"min-h-screen",children:[s.jsx("header",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx(XS,{size:"md",className:"flex items-center space-x-3"})}),s.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[s.jsx(M,{variant:"ghost",onClick:()=>window.location.href="/pricing",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Pricing"}),s.jsx(M,{variant:"ghost",onClick:()=>window.location.href="/become-affiliate",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Become Affiliate"}),s.jsx(M,{variant:"ghost",onClick:()=>window.location.href="/white-label",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"White Label"}),s.jsx(M,{variant:"ghost",onClick:()=>window.location.href="/contact",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Contact"}),s.jsx(M,{onClick:()=>{const y=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${y}`},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:"Get Started"})]}),s.jsx("div",{className:"md:hidden",children:s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>u(!d),className:"text-gray-700",children:d?s.jsx(Lr,{className:"h-6 w-6"}):s.jsx($r,{className:"h-6 w-6"})})})]}),d&&s.jsx("div",{className:"md:hidden",children:s.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white border-t border-gray-200",children:[s.jsx(M,{variant:"ghost",onClick:()=>{window.location.href="/pricing",u(!1)},className:"w-full text-left justify-start text-gray-700 hover:text-blue-600 transition-colors",children:"Pricing"}),s.jsx(M,{variant:"ghost",onClick:()=>{window.location.href="/become-affiliate",u(!1)},className:"w-full text-left justify-start text-gray-700 hover:text-blue-600 transition-colors",children:"Become Affiliate"}),s.jsx(M,{variant:"ghost",onClick:()=>{window.location.href="/white-label",u(!1)},className:"w-full text-left justify-start text-gray-700 hover:text-blue-600 transition-colors",children:"White Label"}),s.jsx(M,{variant:"ghost",onClick:()=>{window.location.href="/contact",u(!1)},className:"w-full text-left justify-start text-gray-700 hover:text-blue-600 transition-colors",children:"Contact"}),s.jsx(M,{onClick:()=>{const y=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${y}`},className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 mt-2",children:"Get Started"})]})})]})}),s.jsxs("section",{className:"relative h-screen overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0",children:h.map((y,j)=>s.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${j===e?"opacity-100":"opacity-0"}`,children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${y.image})`}}),s.jsx("div",{className:"absolute inset-0 bg-black/50"})]},j))}),s.jsx("div",{className:"relative z-10 h-full flex items-center justify-center text-center text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(be,{variant:"secondary",className:"mb-6 bg-white/20 text-white border-white/30",children:[s.jsx(Qo,{className:"mr-2 h-4 w-4"}),"Next-Generation B2B2C Platform"]}),s.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:h[e].title}),s.jsx("p",{className:"text-xl md:text-2xl mb-8 text-gray-200 max-w-3xl mx-auto leading-relaxed",children:h[e].subtitle}),s.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:s.jsxs(M,{size:"lg",onClick:()=>{const y=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${y}`},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white text-lg px-8 py-4 shadow-2xl hover:shadow-blue-500/25 transition-all duration-300 transform hover:scale-105",children:[h[e].cta,s.jsx(Os,{className:"ml-2 h-5 w-5"})]})}),s.jsxs("div",{className:"mt-8 pt-8 border-t border-white/20",children:[s.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Or continue with social accounts"}),s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx(M,{onClick:()=>{const y=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${y}`},className:"bg-white/10 hover:bg-white/20 text-white border border-white/30 p-3 rounded-lg transition-all duration-300",children:s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),s.jsx(M,{onClick:()=>{const y=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${y}`},className:"bg-white/10 hover:bg-white/20 text-white border border-white/30 p-3 rounded-lg transition-all duration-300",children:s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),s.jsx(M,{onClick:()=>{const y=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${y}`},className:"bg-white/10 hover:bg-white/20 text-white border border-white/30 p-3 rounded-lg transition-all duration-300",children:s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),s.jsx(M,{onClick:()=>{const y=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${y}`},className:"bg-white/10 hover:bg-white/20 text-white border border-white/30 p-3 rounded-lg transition-all duration-300",children:s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})]})]})]})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-2",children:h.map((y,j)=>s.jsx("button",{onClick:()=>t(j),className:`w-3 h-3 rounded-full transition-all duration-300 ${j===e?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`},j))}),s.jsx("button",{onClick:g,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-all duration-300",children:s.jsx(Rq,{className:"h-6 w-6"})}),s.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-all duration-300",children:s.jsx(Bi,{className:"h-6 w-6"})})]}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600 overflow-hidden",children:s.jsx("div",{ref:r,className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",style:{transform:`translateY(${c*.1}px)`},children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center text-white",children:x.map((y,j)=>s.jsxs("div",{className:`transform transition-all duration-1000 ${n?"translate-y-0 opacity-100":"translate-y-10 opacity-0"} hover:scale-110`,style:{transitionDelay:`${j*150}ms`},children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2 animate-pulse",children:y.number}),s.jsx("div",{className:"text-lg text-blue-100",children:y.label})]},j))})})}),s.jsx("section",{className:"py-20 bg-gray-50 overflow-hidden",children:s.jsxs("div",{ref:a,className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:`text-center mb-16 transition-all duration-1000 ${i?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Everything You Need to Scale"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Powerful features designed for complex affiliate ecosystems and white-label solutions."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map((y,j)=>{const w=y.icon;return s.jsx(K,{className:`border-0 shadow-lg hover:shadow-xl transition-all duration-1000 transform hover:-translate-y-2 bg-white ${i?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,style:{transitionDelay:`${j*200}ms`},children:s.jsxs(G,{className:"p-8",children:[s.jsx("div",{className:`w-16 h-16 ${y.color} rounded-2xl flex items-center justify-center mb-6 shadow-lg transform transition-transform duration-500 hover:scale-110 hover:rotate-6`,children:s.jsx(w,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:y.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:y.description})]})},j)})})]})}),s.jsx("section",{className:"py-20 bg-white overflow-hidden",children:s.jsxs("div",{ref:o,className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:`text-center mb-16 transition-all duration-1000 ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Trusted by Industry Leaders"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"See what our customers say about transforming their affiliate programs."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:p.map((y,j)=>s.jsx(K,{className:`border-0 shadow-lg hover:shadow-xl transition-all duration-1000 bg-gradient-to-br from-blue-50 to-purple-50 transform ${l?"translate-y-0 opacity-100":"translate-y-20 opacity-0"} hover:-translate-y-2`,style:{transitionDelay:`${j*250}ms`},children:s.jsxs(G,{className:"p-8",children:[s.jsx("div",{className:"flex items-center mb-4",children:[...Array(y.rating)].map((w,b)=>s.jsx(ru,{className:"h-5 w-5 text-yellow-400 fill-current animate-pulse"},b))}),s.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed italic",children:['"',y.content,'"']}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:y.avatar,alt:y.name,className:"w-12 h-12 rounded-full mr-4 object-cover transform transition-transform duration-300 hover:scale-110"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:y.name}),s.jsx("p",{className:"text-gray-600 text-sm",children:y.role})]})]})]})},j))})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 overflow-hidden",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"Ready to Get Started?"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed mb-8",children:"Join thousands of businesses already using our white-label platform to grow their reach and revenue."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(M,{onClick:()=>window.location.href="/become-affiliate",className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-4 px-8 text-lg shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:["Become an Affiliate",s.jsx(Os,{className:"ml-2 h-5 w-5"})]}),s.jsx(M,{onClick:()=>{const y=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${y}`},className:"bg-white/20 backdrop-blur-sm border-2 border-white text-white hover:bg-white hover:text-gray-900 font-semibold py-4 px-8 text-lg shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:"Start Your Platform"})]})]})})}),s.jsxs("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Business?"}),s.jsx("p",{className:"text-xl text-blue-100 mb-10 max-w-3xl mx-auto leading-relaxed",children:"Join thousands of businesses already using WhiteLabel Pro to manage complex affiliate networks and drive exponential growth."}),s.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:s.jsxs(M,{size:"lg",onClick:()=>{const y=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${y}`},className:"bg-white text-blue-600 hover:bg-gray-100 text-lg px-10 py-4 shadow-2xl hover:shadow-white/25 transition-all duration-300 transform hover:scale-105 font-semibold",children:["Start Your Free Trial",s.jsx(Os,{className:"ml-2 h-5 w-5"})]})})]})]}),s.jsx("footer",{className:"bg-gray-900 py-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:s.jsx(I_,{className:"text-white text-lg"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"WhiteLabel Pro"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Multi-Tier Platform"})]})]}),s.jsx("p",{className:"text-gray-400 leading-relaxed max-w-md",children:"The ultimate B2B2C white-label platform for building and managing complex affiliate networks with role-based dashboards and revenue sharing."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Documentation"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Support"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"})})]})]})]}),s.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row items-center justify-between",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 WhiteLabel Pro. All rights reserved."}),s.jsxs("div",{className:"flex items-center space-x-6 mt-4 md:mt-0",children:[s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(vn,{className:"h-5 w-5"})}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(xr,{className:"h-5 w-5"})}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Xr,{className:"h-5 w-5"})})]})]})]})})]})}function YX(){return F3.useSyncExternalStore(XX,()=>!0,()=>!1)}function XX(){return()=>{}}var QS="Avatar",[QX]=zr(QS),[ZX,cR]=QX(QS),dR=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=v.useState("idle");return s.jsx(ZX,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(ze.span,{...n,ref:t})})});dR.displayName=QS;var uR="AvatarImage",hR=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=cR(uR,r),l=JX(n,i),c=gr(d=>{a(d),o.onImageLoadingStatusChange(d)});return jr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(ze.img,{...i,ref:t,src:n}):null});hR.displayName=uR;var fR="AvatarFallback",mR=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=cR(fR,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(ze.span,{...a,ref:t}):null});mR.displayName=fR;function d4(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function JX(e,{referrerPolicy:t,crossOrigin:r}){const n=YX(),a=v.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=v.useState(()=>d4(i,e));return jr(()=>{l(d4(i,e))},[i,e]),jr(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}var pR=dR,gR=hR,xR=mR;const lo=v.forwardRef(({className:e,...t},r)=>s.jsx(pR,{ref:r,className:De("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));lo.displayName=pR.displayName;const co=v.forwardRef(({className:e,...t},r)=>s.jsx(gR,{ref:r,className:De("aspect-square h-full w-full",e),...t}));co.displayName=gR.displayName;const uo=v.forwardRef(({className:e,...t},r)=>s.jsx(xR,{ref:r,className:De("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));uo.displayName=xR.displayName;function kr({isMobileOpen:e=!1,onMobileToggle:t}={}){var u,h,f,p;const[r]=Pn(),{user:n}=ft(),{logoUrl:a}=Ur();YS();const i=n==null?void 0:n.role,l=[{name:"Dashboard",items:[{name:"Overview",href:"/",icon:Xr},{name:"Analytics",href:"/analytics",icon:Xr}]},{name:"Management",items:[{name:"Subscriptions",href:"/subscriptions",icon:Ot},{name:"Products",href:"/products",icon:Ot},{name:"Collections",href:"/categories",icon:Qn},...i==="super_admin"?[{name:"Organization",href:"/clients",icon:ct}]:[],...i==="white_label_client"?[{name:"Users",href:"/users",icon:ct}]:[],{name:"Affiliates",href:"/affiliates",icon:Kq}]},{name:"Communication",items:[{name:"News Feed",href:"/news",icon:Jq}]},{name:"Platform",items:[{name:"AI Content Studio",href:"/ai-content",icon:BD},{name:"Landing Page Builder",href:"/landing-builder",icon:tK},{name:"Platform Settings",href:"/settings",icon:Zr}]}],c=()=>{window.location.href="/api/logout"},d=n;return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:t}),s.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-72 bg-sidebar border-r border-sidebar-border
        flex flex-col transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        shadow-2xl lg:shadow-none
      `,children:[s.jsx("div",{className:"p-6 border-b border-sidebar-border/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center justify-center w-full px-2",children:a?s.jsx("div",{className:"w-full h-16 rounded-xl overflow-hidden shadow-lg",children:s.jsx("img",{src:a,alt:"Custom Logo",className:"w-full h-full object-cover"})}):s.jsx("div",{className:"w-full h-16 bg-primary rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(xr,{className:"text-primary-foreground text-2xl"})})}),s.jsx(M,{variant:"ghost",size:"sm",onClick:t,className:"lg:hidden text-muted-foreground hover:bg-sidebar-accent",children:s.jsx(Lr,{className:"h-5 w-5"})})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto scrollbar-thin py-6",children:s.jsx("div",{className:"px-4 space-y-1",children:l.map(x=>s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-4 px-3",children:x.name}),s.jsx("div",{className:"space-y-2",children:x.items.map(m=>{const g=r===m.href||m.href!=="/"&&r.startsWith(m.href);return s.jsx(K3,{href:m.href,children:s.jsxs(M,{variant:"ghost",className:`w-full justify-start px-4 py-3 h-auto rounded-xl transition-all duration-200 ${g?"bg-primary text-primary-foreground shadow-lg scale-[1.02]":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:scale-[1.01]"}`,onClick:()=>t&&t(),children:[s.jsx(m.icon,{className:`mr-4 h-5 w-5 ${g?"text-primary-foreground":"text-muted-foreground"}`}),s.jsx("span",{className:"text-sm font-medium",children:m.name})]})},m.name)})})]},x.name))})}),s.jsx("div",{className:"p-4 border-t border-sidebar-border bg-sidebar-accent/50",children:s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-sidebar-accent transition-colors",children:[s.jsxs(lo,{className:"w-12 h-12 ring-2 ring-primary/20",children:[s.jsx(co,{src:(d==null?void 0:d.profileImageUrl)||"",alt:"Profile"}),s.jsxs(uo,{className:"bg-primary text-primary-foreground font-semibold",children:[((u=d==null?void 0:d.firstName)==null?void 0:u[0])||((h=d==null?void 0:d.email)==null?void 0:h[0])||"U",((f=d==null?void 0:d.lastName)==null?void 0:f[0])||""]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:d!=null&&d.firstName&&(d!=null&&d.lastName)?`${d.firstName} ${d.lastName}`:(d==null?void 0:d.email)||"User"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate capitalize",children:sessionStorage.getItem("selectedRole")||((p=d==null?void 0:d.role)==null?void 0:p.replace("_"," "))||"Super Admin"})]}),s.jsx(M,{variant:"ghost",size:"sm",onClick:c,className:"text-muted-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent rounded-lg",title:"Logout",children:s.jsx(hc,{className:"h-4 w-4"})})]})})]})]})}function Fr({title:e="Dashboard",subtitle:t,showCreatePlan:r=!1,onMobileMenuToggle:n}){const[,a]=Pn(),{user:i}=ft(),o=Zt(),l=sessionStorage.getItem("selectedRole")||(i==null?void 0:i.role)||"Super Admin",c=(i==null?void 0:i.isImpersonating)||!1,d=i==null?void 0:i.originalAdminRole,u=Oe({mutationFn:async()=>{const x=await fetch("/api/admin/stop-impersonation",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!x.ok){const m=await x.text();throw new Error(`Failed to stop impersonation: ${m}`)}return x.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/auth/user"]}),window.location.href="/clients"}}),h=()=>{confirm("Are you sure you want to stop impersonation and return to your admin account?")&&u.mutate()},f=()=>{a("/plans")},p=r&&l==="Super Admin";return s.jsxs("header",{className:"bg-card shadow-sm border-b border-border px-6 py-4",children:[c&&s.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-3 mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jn,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-primary",children:"You are impersonating a white-label client"}),s.jsxs("span",{className:"text-xs text-primary/80",children:["(Original: ",d,")"]})]}),s.jsxs(M,{size:"sm",variant:"outline",onClick:h,disabled:u.isPending,className:"border-primary/30 text-primary hover:bg-primary/10",children:[s.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Back to Admin"]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[n&&s.jsx(M,{variant:"ghost",size:"sm",onClick:n,className:"lg:hidden p-2",children:s.jsx($r,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:e}),t&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(M,{variant:"ghost",size:"sm",className:"relative p-2",children:[s.jsx(ms,{className:"h-5 w-5"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-danger rounded-full"})]}),p&&s.jsxs(M,{onClick:f,className:"bg-primary hover:bg-primary/90 text-white",children:[s.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Create Plan"]})]})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function gp(e){return e+.5|0}const So=(e,t,r)=>Math.max(Math.min(e,r),t);function sf(e){return So(gp(e*2.55),0,255)}function zo(e){return So(gp(e*255),0,255)}function ui(e){return So(gp(e/2.55)/100,0,1)}function u4(e){return So(gp(e*100),0,100)}const Ns={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},c1=[..."0123456789ABCDEF"],eQ=e=>c1[e&15],tQ=e=>c1[(e&240)>>4]+c1[e&15],og=e=>(e&240)>>4===(e&15),rQ=e=>og(e.r)&&og(e.g)&&og(e.b)&&og(e.a);function nQ(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&Ns[e[1]]*17,g:255&Ns[e[2]]*17,b:255&Ns[e[3]]*17,a:t===5?Ns[e[4]]*17:255}:(t===7||t===9)&&(r={r:Ns[e[1]]<<4|Ns[e[2]],g:Ns[e[3]]<<4|Ns[e[4]],b:Ns[e[5]]<<4|Ns[e[6]],a:t===9?Ns[e[7]]<<4|Ns[e[8]]:255})),r}const sQ=(e,t)=>e<255?t(e):"";function aQ(e){var t=rQ(e)?eQ:tQ;return e?"#"+t(e.r)+t(e.g)+t(e.b)+sQ(e.a,t):void 0}const iQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yR(e,t,r){const n=t*Math.min(r,1-r),a=(i,o=(i+e/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function oQ(e,t,r){const n=(a,i=(a+e/60)%6)=>r-r*t*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function lQ(e,t,r){const n=yR(e,1,.5);let a;for(t+r>1&&(a=1/(t+r),t*=a,r*=a),a=0;a<3;a++)n[a]*=1-t-r,n[a]+=t;return n}function cQ(e,t,r,n,a){return e===a?(t-r)/n+(t<r?6:0):t===a?(r-e)/n+2:(e-t)/n+4}function ZS(e){const r=e.r/255,n=e.g/255,a=e.b/255,i=Math.max(r,n,a),o=Math.min(r,n,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=cQ(r,n,a,u,i),c=c*60+.5),[c|0,d||0,l]}function JS(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(zo)}function eC(e,t,r){return JS(yR,e,t,r)}function dQ(e,t,r){return JS(lQ,e,t,r)}function uQ(e,t,r){return JS(oQ,e,t,r)}function vR(e){return(e%360+360)%360}function hQ(e){const t=iQ.exec(e);let r=255,n;if(!t)return;t[5]!==n&&(r=t[6]?sf(+t[5]):zo(+t[5]));const a=vR(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=dQ(a,i,o):t[1]==="hsv"?n=uQ(a,i,o):n=eC(a,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function fQ(e,t){var r=ZS(e);r[0]=vR(r[0]+t),r=eC(r),e.r=r[0],e.g=r[1],e.b=r[2]}function mQ(e){if(!e)return;const t=ZS(e),r=t[0],n=u4(t[1]),a=u4(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${a}%, ${ui(e.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const h4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},f4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pQ(){const e={},t=Object.keys(f4),r=Object.keys(h4);let n,a,i,o,l;for(n=0;n<t.length;n++){for(o=l=t[n],a=0;a<r.length;a++)i=r[a],l=l.replace(i,h4[i]);i=parseInt(f4[o],16),e[l]=[i>>16&255,i>>8&255,i&255]}return e}let lg;function gQ(e){lg||(lg=pQ(),lg.transparent=[0,0,0,0]);const t=lg[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const xQ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function yQ(e){const t=xQ.exec(e);let r=255,n,a,i;if(t){if(t[7]!==n){const o=+t[7];r=t[8]?sf(o):So(o*255,0,255)}return n=+t[1],a=+t[3],i=+t[5],n=255&(t[2]?sf(n):So(n,0,255)),a=255&(t[4]?sf(a):So(a,0,255)),i=255&(t[6]?sf(i):So(i,0,255)),{r:n,g:a,b:i,a:r}}}function vQ(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ui(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Xb=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Vc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function bQ(e,t,r){const n=Vc(ui(e.r)),a=Vc(ui(e.g)),i=Vc(ui(e.b));return{r:zo(Xb(n+r*(Vc(ui(t.r))-n))),g:zo(Xb(a+r*(Vc(ui(t.g))-a))),b:zo(Xb(i+r*(Vc(ui(t.b))-i))),a:e.a+r*(t.a-e.a)}}function cg(e,t,r){if(e){let n=ZS(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,t===0?360:1)),n=eC(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function bR(e,t){return e&&Object.assign(t||{},e)}function m4(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=zo(e[3]))):(t=bR(e,{r:0,g:0,b:0,a:1}),t.a=zo(t.a)),t}function wQ(e){return e.charAt(0)==="r"?yQ(e):hQ(e)}let wR=class d1{constructor(t){if(t instanceof d1)return t;const r=typeof t;let n;r==="object"?n=m4(t):r==="string"&&(n=nQ(t)||gQ(t)||wQ(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=bR(this._rgb);return t&&(t.a=ui(t.a)),t}set rgb(t){this._rgb=m4(t)}rgbString(){return this._valid?vQ(this._rgb):void 0}hexString(){return this._valid?aQ(this._rgb):void 0}hslString(){return this._valid?mQ(this._rgb):void 0}mix(t,r){if(t){const n=this.rgb,a=t.rgb;let i;const o=r===i?.5:r,l=2*o-1,c=n.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,n.r=255&d*n.r+i*a.r+.5,n.g=255&d*n.g+i*a.g+.5,n.b=255&d*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(t,r){return t&&(this._rgb=bQ(this._rgb,t._rgb,r)),this}clone(){return new d1(this.rgb)}alpha(t){return this._rgb.a=zo(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=gp(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return cg(this._rgb,2,t),this}darken(t){return cg(this._rgb,2,-t),this}saturate(t){return cg(this._rgb,1,t),this}desaturate(t){return cg(this._rgb,1,-t),this}rotate(t){return fQ(this._rgb,t),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ri(){}const jQ=(()=>{let e=0;return()=>e++})();function Kt(e){return e==null}function Mr(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function St(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Cn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ja(e,t){return Cn(e)?e:t}function jt(e,t){return typeof e>"u"?t:e}const NQ=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function rr(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function Rt(e,t,r,n){let a,i,o;if(Mr(e))for(i=e.length,a=0;a<i;a++)t.call(r,e[a],a);else if(St(e))for(o=Object.keys(e),i=o.length,a=0;a<i;a++)t.call(r,e[o[a]],o[a])}function Bx(e,t){let r,n,a,i;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(a=e[r],i=t[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Ux(e){if(Mr(e))return e.map(Ux);if(St(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let a=0;for(;a<n;++a)t[r[a]]=Ux(e[r[a]]);return t}return e}function jR(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function SQ(e,t,r,n){if(!jR(e))return;const a=t[e],i=r[e];St(a)&&St(i)?sm(a,i,n):t[e]=Ux(i)}function sm(e,t,r){const n=Mr(t)?t:[t],a=n.length;if(!St(e))return e;r=r||{};const i=r.merger||SQ;let o;for(let l=0;l<a;++l){if(o=n[l],!St(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],e,o,r)}return e}function jf(e,t){return sm(e,t,{merger:CQ})}function CQ(e,t,r){if(!jR(e))return;const n=t[e],a=r[e];St(n)&&St(a)?jf(n,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ux(a))}const p4={"":e=>e,x:e=>e.x,y:e=>e.y};function PQ(e){const t=e.split("."),r=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function kQ(e){const t=PQ(e);return r=>{for(const n of t){if(n==="")break;r=r&&r[n]}return r}}function Wx(e,t){return(p4[t]||(p4[t]=kQ(t)))(e)}function tC(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Vx=e=>typeof e<"u",el=e=>typeof e=="function",g4=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function _Q(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const tn=Math.PI,ma=2*tn,AQ=ma+tn,Hx=Number.POSITIVE_INFINITY,EQ=tn/180,oa=tn/2,xl=tn/4,x4=tn*2/3,NR=Math.log10,iu=Math.sign;function Nf(e,t,r){return Math.abs(e-t)<r}function y4(e){const t=Math.round(e);e=Nf(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(NR(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function TQ(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(r|0)&&t.push(r),t.sort((a,i)=>a-i).pop(),t}function OQ(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function am(e){return!OQ(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function MQ(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function DQ(e,t,r){let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n][r],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function Il(e){return e*(tn/180)}function IQ(e){return e*(180/tn)}function v4(e){if(!Cn(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function RQ(e,t){const r=t.x-e.x,n=t.y-e.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*tn&&(i+=ma),{angle:i,distance:a}}function u1(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $Q(e,t){return(e-t+AQ)%ma-tn}function Pa(e){return(e%ma+ma)%ma}function SR(e,t,r,n){const a=Pa(e),i=Pa(t),o=Pa(r),l=Pa(i-a),c=Pa(o-a),d=Pa(a-i),u=Pa(a-o);return a===i||a===o||n&&i===o||l>c&&d<u}function Ds(e,t,r){return Math.max(t,Math.min(r,e))}function LQ(e){return Ds(e,-32768,32767)}function fd(e,t,r,n=1e-6){return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function rC(e,t,r){r=r||(o=>e[o]<t);let n=e.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const Rl=(e,t,r,n)=>rC(e,r,n?a=>{const i=e[a][t];return i<r||i===r&&e[a+1][t]===r}:a=>e[a][t]<r),FQ=(e,t,r)=>rC(e,r,n=>e[n][t]>=r);function zQ(e,t,r){let n=0,a=e.length;for(;n<a&&e[n]<t;)n++;for(;a>n&&e[a-1]>r;)a--;return n>0||a<e.length?e.slice(n,a):e}const CR=["push","pop","shift","splice","unshift"];function BQ(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),CR.forEach(r=>{const n="_onData"+tC(r),a=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return e._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function b4(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(t);a!==-1&&n.splice(a,1),!(n.length>0)&&(CR.forEach(i=>{delete e[i]}),delete e._chartjs)}function UQ(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const PR=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function kR(e,t){let r=[],n=!1;return function(...a){r=a,n||(n=!0,PR.call(window,()=>{n=!1,e.apply(t,r)}))}}function WQ(e,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(e,t,n)):e.apply(this,n),t}}const nC=e=>e==="start"?"left":e==="end"?"right":"center",mn=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,VQ=(e,t,r,n)=>e===(n?"left":"right")?r:e==="center"?(t+r)/2:t;function HQ(e,t,r){const n=t.length;let a=0,i=n;if(e._sorted){const{iScale:o,vScale:l,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:x}=o.getUserBounds();if(p){if(a=Math.min(Rl(c,u,h).lo,r?n:Rl(t,u,o.getPixelForValue(h)).lo),d){const m=c.slice(0,a+1).reverse().findIndex(g=>!Kt(g[l.axis]));a-=Math.max(0,m)}a=Ds(a,0,n-1)}if(x){let m=Math.max(Rl(c,o.axis,f,!0).hi+1,r?0:Rl(t,u,o.getPixelForValue(f),!0).hi+1);if(d){const g=c.slice(m-1).findIndex(y=>!Kt(y[l.axis]));m+=Math.max(0,g)}i=Ds(m,a,n)-a}else i=n-a}return{start:a,count:i}}function qQ(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,a={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=a,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const dg=e=>e===0||e===1,w4=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ma/r)),j4=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*ma/r)+1,Sf={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*oa)+1,easeOutSine:e=>Math.sin(e*oa),easeInOutSine:e=>-.5*(Math.cos(tn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>dg(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>dg(e)?e:w4(e,.075,.3),easeOutElastic:e=>dg(e)?e:j4(e,.075,.3),easeInOutElastic(e){return dg(e)?e:e<.5?.5*w4(e*2,.1125,.45):.5+.5*j4(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Sf.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Sf.easeInBounce(e*2)*.5:Sf.easeOutBounce(e*2-1)*.5+.5};function sC(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function N4(e){return sC(e)?e:new wR(e)}function Qb(e){return sC(e)?e:new wR(e).saturate(.5).darken(.1).hexString()}const KQ=["x","y","borderWidth","radius","tension"],GQ=["color","borderColor","backgroundColor"];function YQ(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:GQ},numbers:{type:"number",properties:KQ}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function XQ(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const S4=new Map;function QQ(e,t){t=t||{};const r=e+JSON.stringify(t);let n=S4.get(r);return n||(n=new Intl.NumberFormat(e,t),S4.set(r,n)),n}function _R(e,t,r){return QQ(t,r).format(e)}const ZQ={values(e){return Mr(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const n=this.chart.options.locale;let a,i=e;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=JQ(e,r)}const o=NR(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),_R(e,n,c)}};function JQ(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var AR={formatters:ZQ};function eZ(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:AR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const gc=Object.create(null),h1=Object.create(null);function Cf(e,t){if(!t)return e;const r=t.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];e=e[i]||(e[i]=Object.create(null))}return e}function Zb(e,t,r){return typeof t=="string"?sm(Cf(e,t),r):sm(Cf(e,""),t)}class tZ{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>Qb(a.backgroundColor),this.hoverBorderColor=(n,a)=>Qb(a.borderColor),this.hoverColor=(n,a)=>Qb(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return Zb(this,t,r)}get(t){return Cf(this,t)}describe(t,r){return Zb(h1,t,r)}override(t,r){return Zb(gc,t,r)}route(t,r,n,a){const i=Cf(this,t),o=Cf(this,n),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],d=o[a];return St(c)?Object.assign({},d,c):jt(c,d)},set(c){this[l]=c}}})}apply(t){t.forEach(r=>r(this))}}var wr=new tZ({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[YQ,XQ,eZ]);function rZ(e){return!e||Kt(e.size)||Kt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function C4(e,t,r,n,a){let i=t[a];return i||(i=t[a]=e.measureText(a).width,r.push(a)),i>n&&(n=i),n}function yl(e,t,r){const n=e.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((t-a)*n)/n+a}function P4(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function f1(e,t,r,n){ER(e,t,r,n,null)}function ER(e,t,r,n,a){let i,o,l,c,d,u,h,f;const p=t.pointStyle,x=t.rotation,m=t.radius;let g=(x||0)*EQ;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(r,n),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:a?e.ellipse(r,n,a/2,m,0,0,ma):e.arc(r,n,m,0,ma),e.closePath();break;case"triangle":u=a?a/2:m,e.moveTo(r+Math.sin(g)*u,n-Math.cos(g)*m),g+=x4,e.lineTo(r+Math.sin(g)*u,n-Math.cos(g)*m),g+=x4,e.lineTo(r+Math.sin(g)*u,n-Math.cos(g)*m),e.closePath();break;case"rectRounded":d=m*.516,c=m-d,o=Math.cos(g+xl)*c,h=Math.cos(g+xl)*(a?a/2-d:c),l=Math.sin(g+xl)*c,f=Math.sin(g+xl)*(a?a/2-d:c),e.arc(r-h,n-l,d,g-tn,g-oa),e.arc(r+f,n-o,d,g-oa,g),e.arc(r+h,n+l,d,g,g+oa),e.arc(r-f,n+o,d,g+oa,g+tn),e.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*m,u=a?a/2:c,e.rect(r-u,n-c,2*u,2*c);break}g+=xl;case"rectRot":h=Math.cos(g)*(a?a/2:m),o=Math.cos(g)*m,l=Math.sin(g)*m,f=Math.sin(g)*(a?a/2:m),e.moveTo(r-h,n-l),e.lineTo(r+f,n-o),e.lineTo(r+h,n+l),e.lineTo(r-f,n+o),e.closePath();break;case"crossRot":g+=xl;case"cross":h=Math.cos(g)*(a?a/2:m),o=Math.cos(g)*m,l=Math.sin(g)*m,f=Math.sin(g)*(a?a/2:m),e.moveTo(r-h,n-l),e.lineTo(r+h,n+l),e.moveTo(r+f,n-o),e.lineTo(r-f,n+o);break;case"star":h=Math.cos(g)*(a?a/2:m),o=Math.cos(g)*m,l=Math.sin(g)*m,f=Math.sin(g)*(a?a/2:m),e.moveTo(r-h,n-l),e.lineTo(r+h,n+l),e.moveTo(r+f,n-o),e.lineTo(r-f,n+o),g+=xl,h=Math.cos(g)*(a?a/2:m),o=Math.cos(g)*m,l=Math.sin(g)*m,f=Math.sin(g)*(a?a/2:m),e.moveTo(r-h,n-l),e.lineTo(r+h,n+l),e.moveTo(r+f,n-o),e.lineTo(r-f,n+o);break;case"line":o=a?a/2:Math.cos(g)*m,l=Math.sin(g)*m,e.moveTo(r-o,n-l),e.lineTo(r+o,n+l);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(g)*(a?a/2:m),n+Math.sin(g)*m);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function im(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function Xv(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Qv(e){e.restore()}function nZ(e,t,r,n,a){if(!t)return e.lineTo(r.x,r.y);if(a==="middle"){const i=(t.x+r.x)/2;e.lineTo(i,t.y),e.lineTo(i,r.y)}else a==="after"!=!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function sZ(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function aZ(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Kt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function iZ(e,t,r,n,a){if(a.strikethrough||a.underline){const i=e.measureText(n),o=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,d=r+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(o,u),e.lineTo(l,u),e.stroke()}}function oZ(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function om(e,t,r,n,a,i={}){const o=Mr(t)?t:[t],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(e.save(),e.font=a.string,aZ(e,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&oZ(e,i.backdrop),l&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Kt(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(d,r,n,i.maxWidth)),e.fillText(d,r,n,i.maxWidth),iZ(e,r,n,d,i),n+=Number(a.lineHeight);e.restore()}function m1(e,t){const{x:r,y:n,w:a,h:i,radius:o}=t;e.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*tn,tn,!0),e.lineTo(r,n+i-o.bottomLeft),e.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,tn,oa,!0),e.lineTo(r+a-o.bottomRight,n+i),e.arc(r+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,oa,0,!0),e.lineTo(r+a,n+o.topRight),e.arc(r+a-o.topRight,n+o.topRight,o.topRight,0,-oa,!0),e.lineTo(r+o.topLeft,n)}const lZ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cZ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dZ(e,t){const r=(""+e).match(lZ);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const uZ=e=>+e||0;function TR(e,t){const r={},n=St(t),a=n?Object.keys(t):t,i=St(e)?n?o=>jt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of a)r[o]=uZ(i(o));return r}function hZ(e){return TR(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Pf(e){return TR(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ws(e){const t=hZ(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function bn(e,t){e=e||{},t=t||wr.font;let r=jt(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let n=jt(e.style,t.style);n&&!(""+n).match(cZ)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:jt(e.family,t.family),lineHeight:dZ(jt(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:jt(e.weight,t.weight),string:""};return a.string=rZ(a),a}function ug(e,t,r,n){let a,i,o;for(a=0,i=e.length;a<i;++a)if(o=e[a],o!==void 0&&o!==void 0)return o}function fZ(e,t,r){const{min:n,max:a}=e,i=NQ(t,(a-n)/2),o=(l,c)=>r&&l===0?0:l+c;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function Ec(e,t){return Object.assign(Object.create(e),t)}function aC(e,t=[""],r,n,a=()=>e[0]){const i=r||e;typeof n>"u"&&(n=IR("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:a,override:l=>aC([l,...e],t,i,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return MR(l,c,()=>wZ(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return _4(l).includes(c)},ownKeys(l){return _4(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function ou(e,t,r,n){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:OR(e,n),setContext:i=>ou(e,i,r,n),override:i=>ou(e.override(i),t,r,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,l){return MR(i,o,()=>pZ(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,l){return e[o]=l,delete i[o],!0}})}function OR(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:r,indexable:n,isScriptable:el(r)?r:()=>r,isIndexable:el(n)?n:()=>n}}const mZ=(e,t)=>e?e+tC(t):t,iC=(e,t)=>St(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function MR(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=r();return e[t]=n,n}function pZ(e,t,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=e;let l=n[t];return el(l)&&o.isScriptable(t)&&(l=gZ(t,l,e,r)),Mr(l)&&l.length&&(l=xZ(t,l,e,o.isIndexable)),iC(t,l)&&(l=ou(l,a,i&&i[t],o)),l}function gZ(e,t,r,n){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=r;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(i,o||n);return l.delete(e),iC(e,c)&&(c=oC(a._scopes,a,e,c)),c}function xZ(e,t,r,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&n(e))return t[i.index%t.length];if(St(t[0])){const c=t,d=a._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=oC(d,a,e,u);t.push(ou(h,i,o&&o[e],l))}}return t}function DR(e,t,r){return el(e)?e(t,r):e}const yZ=(e,t)=>e===!0?t:typeof e=="string"?Wx(t,e):void 0;function vZ(e,t,r,n,a){for(const i of t){const o=yZ(r,i);if(o){e.add(o);const l=DR(o._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function oC(e,t,r,n){const a=t._rootScopes,i=DR(t._fallback,r,n),o=[...e,...a],l=new Set;l.add(n);let c=k4(l,o,r,i||r,n);return c===null||typeof i<"u"&&i!==r&&(c=k4(l,o,i,c,n),c===null)?!1:aC(Array.from(l),[""],a,i,()=>bZ(t,r,n))}function k4(e,t,r,n,a){for(;r;)r=vZ(e,t,r,n,a);return r}function bZ(e,t,r){const n=e._getTarget();t in n||(n[t]={});const a=n[t];return Mr(a)&&St(r)?r:a||{}}function wZ(e,t,r,n){let a;for(const i of t)if(a=IR(mZ(i,e),r),typeof a<"u")return iC(e,a)?oC(r,n,e,a):a}function IR(e,t){for(const r of t){if(!r)continue;const n=r[e];if(typeof n<"u")return n}}function _4(e){let t=e._keys;return t||(t=e._keys=jZ(e._scopes)),t}function jZ(e){const t=new Set;for(const r of e)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))t.add(n);return Array.from(t)}const NZ=Number.EPSILON||1e-14,lu=(e,t)=>t<e.length&&!e[t].skip&&e[t],RR=e=>e==="x"?"y":"x";function SZ(e,t,r,n){const a=e.skip?t:e,i=t,o=r.skip?t:r,l=u1(i,a),c=u1(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,f=n*u;return{previous:{x:i.x-h*(o.x-a.x),y:i.y-h*(o.y-a.y)},next:{x:i.x+f*(o.x-a.x),y:i.y+f*(o.y-a.y)}}}function CZ(e,t,r){const n=e.length;let a,i,o,l,c,d=lu(e,0);for(let u=0;u<n-1;++u)if(c=d,d=lu(e,u+1),!(!c||!d)){if(Nf(t[u],0,NZ)){r[u]=r[u+1]=0;continue}a=r[u]/t[u],i=r[u+1]/t[u],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),r[u]=a*o*t[u],r[u+1]=i*o*t[u])}}function PZ(e,t,r="x"){const n=RR(r),a=e.length;let i,o,l,c=lu(e,0);for(let d=0;d<a;++d){if(o=l,l=c,c=lu(e,d+1),!l)continue;const u=l[r],h=l[n];o&&(i=(u-o[r])/3,l[`cp1${r}`]=u-i,l[`cp1${n}`]=h-i*t[d]),c&&(i=(c[r]-u)/3,l[`cp2${r}`]=u+i,l[`cp2${n}`]=h+i*t[d])}}function kZ(e,t="x"){const r=RR(t),n=e.length,a=Array(n).fill(0),i=Array(n);let o,l,c,d=lu(e,0);for(o=0;o<n;++o)if(l=c,c=d,d=lu(e,o+1),!!c){if(d){const u=d[t]-c[t];a[o]=u!==0?(d[r]-c[r])/u:0}i[o]=l?d?iu(a[o-1])!==iu(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}CZ(e,a,i),PZ(e,i,t)}function hg(e,t,r){return Math.max(Math.min(e,r),t)}function _Z(e,t){let r,n,a,i,o,l=im(e[0],t);for(r=0,n=e.length;r<n;++r)o=i,i=l,l=r<n-1&&im(e[r+1],t),i&&(a=e[r],o&&(a.cp1x=hg(a.cp1x,t.left,t.right),a.cp1y=hg(a.cp1y,t.top,t.bottom)),l&&(a.cp2x=hg(a.cp2x,t.left,t.right),a.cp2y=hg(a.cp2y,t.top,t.bottom)))}function AZ(e,t,r,n,a){let i,o,l,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")kZ(e,a);else{let d=n?e[e.length-1]:e[0];for(i=0,o=e.length;i<o;++i)l=e[i],c=SZ(d,l,e[Math.min(i+1,o-(n?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}t.capBezierPoints&&_Z(e,r)}function lC(){return typeof window<"u"&&typeof document<"u"}function cC(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function qx(e,t,r){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}const Zv=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function EZ(e,t){return Zv(e).getPropertyValue(t)}const TZ=["top","right","bottom","left"];function tc(e,t,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=TZ[a];n[i]=parseFloat(e[t+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const OZ=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function MZ(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:a,offsetY:i}=n;let o=!1,l,c;if(OZ(a,i,e.target))l=a,c=i;else{const d=t.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Nl(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,a=Zv(r),i=a.boxSizing==="border-box",o=tc(a,"padding"),l=tc(a,"border","width"),{x:c,y:d,box:u}=MZ(e,r),h=o.left+(u&&l.left),f=o.top+(u&&l.top);let{width:p,height:x}=t;return i&&(p-=o.width+l.width,x-=o.height+l.height),{x:Math.round((c-h)/p*r.width/n),y:Math.round((d-f)/x*r.height/n)}}function DZ(e,t,r){let n,a;if(t===void 0||r===void 0){const i=e&&cC(e);if(!i)t=e.clientWidth,r=e.clientHeight;else{const o=i.getBoundingClientRect(),l=Zv(i),c=tc(l,"border","width"),d=tc(l,"padding");t=o.width-d.width-c.width,r=o.height-d.height-c.height,n=qx(l.maxWidth,i,"clientWidth"),a=qx(l.maxHeight,i,"clientHeight")}}return{width:t,height:r,maxWidth:n||Hx,maxHeight:a||Hx}}const Co=e=>Math.round(e*10)/10;function IZ(e,t,r,n){const a=Zv(e),i=tc(a,"margin"),o=qx(a.maxWidth,e,"clientWidth")||Hx,l=qx(a.maxHeight,e,"clientHeight")||Hx,c=DZ(e,t,r);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const f=tc(a,"border","width"),p=tc(a,"padding");d-=p.width+f.width,u-=p.height+f.height}return d=Math.max(0,d-i.width),u=Math.max(0,n?d/n:u-i.height),d=Co(Math.min(d,o,c.maxWidth)),u=Co(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Co(d/2)),(t!==void 0||r!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Co(Math.floor(u*n))),{width:d,height:u}}function A4(e,t,r){const n=t||1,a=Co(e.height*n),i=Co(e.width*n);e.height=Co(e.height),e.width=Co(e.width);const o=e.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(e.currentDevicePixelRatio=n,o.height=a,o.width=i,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const RZ=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};lC()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function E4(e,t){const r=EZ(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Sl(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function $Z(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:n==="middle"?r<.5?e.y:t.y:n==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function LZ(e,t,r,n){const a={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},o=Sl(e,a,r),l=Sl(a,i,r),c=Sl(i,t,r),d=Sl(o,l,r),u=Sl(l,c,r);return Sl(d,u,r)}const FZ=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},zZ=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ad(e,t,r){return e?FZ(t,r):zZ()}function $R(e,t){let r,n;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function LR(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function FR(e){return e==="angle"?{between:SR,compare:$Q,normalize:Pa}:{between:fd,compare:(t,r)=>t-r,normalize:t=>t}}function T4({start:e,end:t,count:r,loop:n,style:a}){return{start:e%r,end:t%r,loop:n&&(t-e+1)%r===0,style:a}}function BZ(e,t,r){const{property:n,start:a,end:i}=r,{between:o,normalize:l}=FR(n),c=t.length;let{start:d,end:u,loop:h}=e,f,p;if(h){for(d+=c,u+=c,f=0,p=c;f<p&&o(l(t[d%c][n]),a,i);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:e.style}}function zR(e,t,r){if(!r)return[e];const{property:n,start:a,end:i}=r,o=t.length,{compare:l,between:c,normalize:d}=FR(n),{start:u,end:h,loop:f,style:p}=BZ(e,t,r),x=[];let m=!1,g=null,y,j,w;const b=()=>c(a,w,y)&&l(a,w)!==0,N=()=>l(i,y)===0||c(i,w,y),S=()=>m||b(),C=()=>!m||N();for(let P=u,_=u;P<=h;++P)j=t[P%o],!j.skip&&(y=d(j[n]),y!==w&&(m=c(y,a,i),g===null&&S()&&(g=l(y,a)===0?P:_),g!==null&&C()&&(x.push(T4({start:g,end:P,loop:f,count:o,style:p})),g=null),_=P,w=y));return g!==null&&x.push(T4({start:g,end:h,loop:f,count:o,style:p})),x}function BR(e,t){const r=[],n=e.segments;for(let a=0;a<n.length;a++){const i=zR(n[a],e.points,t);i.length&&r.push(...i)}return r}function UZ(e,t,r,n){let a=0,i=t-1;if(r&&!n)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,r&&(i+=a);i>a&&e[i%t].skip;)i--;return i%=t,{start:a,end:i}}function WZ(e,t,r,n){const a=e.length,i=[];let o=t,l=e[t],c;for(c=t+1;c<=r;++c){const d=e[c%a];d.skip||d.stop?l.skip||(n=!1,i.push({start:t%a,end:(c-1)%a,loop:n}),t=o=d.stop?c:null):(o=c,l.skip&&(t=c)),l=d}return o!==null&&i.push({start:t%a,end:o%a,loop:n}),i}function VZ(e,t){const r=e.points,n=e.options.spanGaps,a=r.length;if(!a)return[];const i=!!e._loop,{start:o,end:l}=UZ(r,a,i,n);if(n===!0)return O4(e,[{start:o,end:l,loop:i}],r,t);const c=l<o?l+a:l,d=!!e._fullLoop&&o===0&&l===a-1;return O4(e,WZ(r,o,c,d),r,t)}function O4(e,t,r,n){return!n||!n.setContext||!r?t:HZ(e,t,r,n)}function HZ(e,t,r,n){const a=e._chart.getContext(),i=M4(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=r.length,d=[];let u=i,h=t[0].start,f=h;function p(x,m,g,y){const j=l?-1:1;if(x!==m){for(x+=c;r[x%c].skip;)x-=j;for(;r[m%c].skip;)m+=j;x%c!==m%c&&(d.push({start:x%c,end:m%c,loop:g,style:y}),u=y,h=m%c)}}for(const x of t){h=l?h:x.start;let m=r[h%c],g;for(f=h+1;f<=x.end;f++){const y=r[f%c];g=M4(n.setContext(Ec(a,{type:"segment",p0:m,p1:y,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),qZ(g,u)&&p(h,f-1,x.loop,u),m=y,u=g}h<f-1&&p(h,f-1,x.loop,u)}return d}function M4(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function qZ(e,t){if(!t)return!1;const r=[],n=function(a,i){return sC(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function fg(e,t,r){return e.options.clip?e[r]:t[r]}function KZ(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:fg(r,t,"left"),right:fg(r,t,"right"),top:fg(n,t,"top"),bottom:fg(n,t,"bottom")}:t}function UR(e,t){const r=t._clip;if(r.disabled)return!1;const n=KZ(t,e.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?e.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?e.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class GZ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,n,a){const i=r.listeners[a],o=r.duration;i.forEach(l=>l({chart:t,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=PR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,n,t,"progress")),i.length||(n.running=!1,this._notify(a,n,t,"complete"),n.initial=!1),r+=i.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let n=r.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,n)),n}listen(t,r,n){this._getAnims(t).listeners[r].push(n)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ii=new GZ;const D4="transparent",YZ={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const n=N4(e||D4),a=n.valid&&N4(t||D4);return a&&a.valid?a.mix(n,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class XZ{constructor(t,r,n,a){const i=r[n];a=ug([t.to,a,i,t.from]);const o=ug([t.from,i,a]);this._active=!0,this._fn=t.fn||YZ[t.type||typeof o],this._easing=Sf[t.easing]||Sf.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(t,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=ug([t.to,r,a,t.from]),this._from=ug([t.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=i;return}c=r/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,n)=>{t.push({res:r,rej:n})})}_notify(t){const r=t?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class WR{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!St(t))return;const r=Object.keys(wr.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!St(i))return;const o={};for(const l of r)o[l]=i[l];(Mr(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,r){const n=r.options,a=ZZ(t,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&QZ(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,r){const n=this._properties,a=[],i=t.$animations||(t.$animations={}),o=Object.keys(r),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(t,r));continue}const u=r[d];let h=i[d];const f=n.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){t[d]=u;continue}i[d]=h=new XZ(f,t,d,u),a.push(h)}return a}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const n=this._createAnimations(t,r);if(n.length)return ii.add(this._chart,n),!0}}function QZ(e,t){const r=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const i=e[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function ZZ(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function I4(e,t){const r=e&&e.options||{},n=r.reverse,a=r.min===void 0?t:0,i=r.max===void 0?t:0;return{start:n?i:a,end:n?a:i}}function JZ(e,t,r){if(r===!1)return!1;const n=I4(e,r),a=I4(t,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function eJ(e){let t,r,n,a;return St(e)?(t=e.top,r=e.right,n=e.bottom,a=e.left):t=r=n=a=e,{top:t,right:r,bottom:n,left:a,disabled:e===!1}}function VR(e,t){const r=[],n=e._getSortedDatasetMetas(t);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function R4(e,t,r,n={}){const a=e.keys,i=n.mode==="single";let o,l,c,d;if(t===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===r){if(u=!0,n.all)continue;break}d=e.values[c],Cn(d)&&(i||t===0||iu(t)===iu(d))&&(t+=d)}return!u&&!n.all?0:t}function tJ(e,t){const{iScale:r,vScale:n}=t,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:e[u]};return l}function Jb(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function rJ(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function nJ(e){const{min:t,max:r,minDefined:n,maxDefined:a}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function sJ(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function $4(e,t,r,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const i=e[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function L4(e,t){const{chart:r,_cachedMeta:n}=e,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=n,c=i.axis,d=o.axis,u=rJ(i,o,n),h=t.length;let f;for(let p=0;p<h;++p){const x=t[p],{[c]:m,[d]:g}=x,y=x._stacks||(x._stacks={});f=y[d]=sJ(a,u,m),f[l]=g,f._top=$4(f,o,!0,n.type),f._bottom=$4(f,o,!1,n.type);const j=f._visualValues||(f._visualValues={});j[l]=g}}function ew(e,t){const r=e.scales;return Object.keys(r).filter(n=>r[n].axis===t).shift()}function aJ(e,t){return Ec(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function iJ(e,t,r){return Ec(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function Mh(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const a of t){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const tw=e=>e==="reset"||e==="none",F4=(e,t)=>t?e:Object.assign({},e),oJ=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:VR(r,!0),values:null};class kf{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Jb(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Mh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(h,f,p,x)=>h==="x"?f:h==="r"?x:p,i=r.xAxisID=jt(n.xAxisID,ew(t,"x")),o=r.yAxisID=jt(n.yAxisID,ew(t,"y")),l=r.rAxisID=jt(n.rAxisID,ew(t,"r")),c=r.indexAxis,d=r.iAxisID=a(c,i,o,l),u=r.vAxisID=a(c,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&b4(this._data,this),t._stacked&&Mh(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),n=this._data;if(St(r)){const a=this._cachedMeta;this._data=tJ(r,a)}else if(n!==r){if(n){b4(n,this);const a=this._cachedMeta;Mh(a),a._parsed=[]}r&&Object.isExtensible(r)&&BQ(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=Jb(r.vScale,r),r.stack!==n.stack&&(a=!0,Mh(r),r.stack=n.stack),this._resyncElements(t),(a||i!==r._stacked)&&(L4(this,r._parsed),r._stacked=Jb(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,l=i.axis;let c=t===0&&r===a.length?!0:n._sorted,d=t>0&&n._parsed[t-1],u,h,f;if(this._parsing===!1)n._parsed=a,n._sorted=!0,f=a;else{Mr(a[t])?f=this.parseArrayData(n,a,t,r):St(a[t])?f=this.parseObjectData(n,a,t,r):f=this.parsePrimitiveData(n,a,t,r);const p=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<r;++u)n._parsed[u+t]=h=f[u],c&&(p()&&(c=!1),d=h);n._sorted=c}o&&L4(this,f)}parsePrimitiveData(t,r,n,a){const{iScale:i,vScale:o}=t,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(a);let f,p,x;for(f=0,p=a;f<p;++f)x=f+n,h[f]={[l]:u||i.parse(d[x],x),[c]:o.parse(r[x],x)};return h}parseArrayData(t,r,n,a){const{xScale:i,yScale:o}=t,l=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+n,h=r[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(t,r,n,a){const{xScale:i,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,h,f,p;for(u=0,h=a;u<h;++u)f=u+n,p=r[f],d[u]={x:i.parse(Wx(p,l),f),y:o.parse(Wx(p,c),f)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,n){const a=this.chart,i=this._cachedMeta,o=r[t.axis],l={keys:VR(a,!0),values:r._stacks[t.axis]._visualValues};return R4(l,o,i.index,{mode:n})}updateRangeFromParsed(t,r,n,a){const i=n[r.axis];let o=i===null?NaN:i;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,o=R4(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&t===n.iScale,o=a.length,l=this._getOtherScale(t),c=oJ(r,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=nJ(l);let f,p;function x(){p=a[f];const m=p[l.axis];return!Cn(p[t.axis])||u>m||h<m}for(f=0;f<o&&!(!x()&&(this.updateRangeFromParsed(d,t,p,c),i));++f);if(i){for(f=o-1;f>=0;--f)if(!x()){this.updateRangeFromParsed(d,t,p,c);break}}return d}getAllParsedValues(t){const r=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][t.axis],Cn(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=eJ(jt(this.options.clip,JZ(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,i,l,c),u=l;u<l+c;++u){const h=a[u];h.hidden||(h.active&&d?o.push(h):h.draw(t,i))}for(u=0;u<o.length;++u)o[u].draw(t,i)}getStyle(t,r){const n=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,r,n){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=iJ(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=aJ(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",n){const a=r==="active",i=this._cachedDataOpts,o=t+"-"+r,l=i[o],c=this.enableOptionSharing&&Vx(n);if(l)return F4(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=a?[`${t}Hover`,"hover",t,""]:[t,""],f=d.getOptionScopes(this.getDataset(),u),p=Object.keys(wr.elements[t]),x=()=>this.getContext(n,a,r),m=d.resolveNamedOptions(f,p,x,h);return m.$shared&&(m.$shared=c,i[o]=Object.freeze(F4(m,c))),m}_resolveAnimations(t,r,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(t,n,r))}const d=new WR(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||tw(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const n=this.resolveDataElementOptions(t,r),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(t,r,n,a){tw(a)?Object.assign(t,n):this._resolveAnimations(r,a).update(t,n)}updateSharedOptions(t,r,n){t&&!tw(r)&&this._resolveAnimations(void 0,r).update(t,n)}_setStyle(t,r,n,a){t.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,r,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,r,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=n.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,r,n=!0){const a=this._cachedMeta,i=a.data,o=t+r;let l;const c=d=>{for(d.length+=r,l=d.length-1;l>=o;l--)d[l]=d[l-r]};for(c(i),l=t;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(t,r),n&&this.updateElements(i,t,r,"reset")}updateElements(t,r,n,a){}_removeElements(t,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(t,r);n._stacked&&Mh(n,a)}n.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,n,a]=t;this[r](n,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ut(kf,"defaults",{}),ut(kf,"datasetElementType",null),ut(kf,"dataElementType",null);class rx extends kf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:l,count:c}=HQ(r,a,o);this._drawStart=l,this._drawCount=c,qQ(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},t),this.updateElements(a,l,c,t)}updateElements(t,r,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(r,a),f=o.axis,p=l.axis,{spanGaps:x,segment:m}=this.options,g=am(x)?x:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||a==="none",j=r+n,w=t.length;let b=r>0&&this.getParsed(r-1);for(let N=0;N<w;++N){const S=t[N],C=y?S:{};if(N<r||N>=j){C.skip=!0;continue}const P=this.getParsed(N),_=Kt(P[p]),A=C[f]=o.getPixelForValue(P[f],N),k=C[p]=i||_?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,P,c):P[p],N);C.skip=isNaN(A)||isNaN(k)||_,C.stop=N>0&&Math.abs(P[f]-b[f])>g,m&&(C.parsed=P,C.raw=d.data[N]),h&&(C.options=u||this.resolveDataElementOptions(N,S.active?"active":a)),y||this.updateElement(S,N,C,a),b=P}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,n=r.options&&r.options.borderWidth||0,a=t.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ut(rx,"id","line"),ut(rx,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ut(rx,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function vl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dC{constructor(t){ut(this,"options");this.options=t||{}}static override(t){Object.assign(dC.prototype,t)}init(){}formats(){return vl()}parse(){return vl()}format(){return vl()}add(){return vl()}diff(){return vl()}startOf(){return vl()}endOf(){return vl()}}var lJ={_date:dC};function cJ(e,t,r,n){const{controller:a,data:i,_sorted:o}=e,l=a._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&i.length){const d=l._reversePixels?FQ:Rl;if(n){if(a._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const f=d(i,t,r-h),p=d(i,t,r+h);return{lo:f.lo,hi:p.hi}}}}else{const u=d(i,t,r);if(c){const{vScale:h}=a._cachedMeta,{_parsed:f}=e,p=f.slice(0,u.lo+1).reverse().findIndex(m=>!Kt(m[h.axis]));u.lo-=Math.max(0,p);const x=f.slice(u.hi).findIndex(m=>!Kt(m[h.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:i.length-1}}function Jv(e,t,r,n,a){const i=e.getSortedVisibleDatasetMetas(),o=r[t];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:f}=cJ(i[l],t,o,a);for(let p=h;p<=f;++p){const x=u[p];x.skip||n(x,d,p)}}}function dJ(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(n,a){const i=t?Math.abs(n.x-a.x):0,o=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function rw(e,t,r,n,a){const i=[];return!a&&!e.isPointInArea(t)||Jv(e,r,t,function(l,c,d){!a&&!im(l,e.chartArea,0)||l.inRange(t.x,t.y,n)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function uJ(e,t,r,n){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=RQ(o,{x:t.x,y:t.y});SR(h,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return Jv(e,r,t,i),a}function hJ(e,t,r,n,a,i){let o=[];const l=dJ(r);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const p=u.inRange(t.x,t.y,a);if(n&&!p)return;const x=u.getCenterPoint(a);if(!(!!i||e.isPointInArea(x))&&!p)return;const g=l(t,x);g<c?(o=[{element:u,datasetIndex:h,index:f}],c=g):g===c&&o.push({element:u,datasetIndex:h,index:f})}return Jv(e,r,t,d),o}function nw(e,t,r,n,a,i){return!i&&!e.isPointInArea(t)?[]:r==="r"&&!n?uJ(e,t,r,a):hJ(e,t,r,n,a,i)}function z4(e,t,r,n,a){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return Jv(e,r,t,(c,d,u)=>{c[o]&&c[o](t[r],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(t.x,t.y,a))}),n&&!l?[]:i}var fJ={modes:{index(e,t,r,n){const a=Nl(t,e),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?rw(e,a,i,n,o):nw(e,a,i,!1,n,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,r,n){const a=Nl(t,e),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?rw(e,a,i,n,o):nw(e,a,i,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(e,t,r,n){const a=Nl(t,e),i=r.axis||"xy",o=r.includeInvisible||!1;return rw(e,a,i,n,o)},nearest(e,t,r,n){const a=Nl(t,e),i=r.axis||"xy",o=r.includeInvisible||!1;return nw(e,a,i,r.intersect,n,o)},x(e,t,r,n){const a=Nl(t,e);return z4(e,a,"x",r.intersect,n)},y(e,t,r,n){const a=Nl(t,e);return z4(e,a,"y",r.intersect,n)}}};const HR=["left","top","right","bottom"];function Dh(e,t){return e.filter(r=>r.pos===t)}function B4(e,t){return e.filter(r=>HR.indexOf(r.pos)===-1&&r.box.axis===t)}function Ih(e,t){return e.sort((r,n)=>{const a=t?n:r,i=t?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function mJ(e){const t=[];let r,n,a,i,o,l;for(r=0,n=(e||[]).length;r<n;++r)a=e[r],{position:i,options:{stack:o,stackWeight:l=1}}=a,t.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return t}function pJ(e){const t={};for(const r of e){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!HR.includes(a))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function gJ(e,t){const r=pJ(e),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let i,o,l;for(i=0,o=e.length;i<o;++i){l=e[i];const{fullSize:c}=l.box,d=r[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&t.availableWidth,l.height=a):(l.width=n,l.height=u?u*a:c&&t.availableHeight)}return r}function xJ(e){const t=mJ(e),r=Ih(t.filter(d=>d.box.fullSize),!0),n=Ih(Dh(t,"left"),!0),a=Ih(Dh(t,"right")),i=Ih(Dh(t,"top"),!0),o=Ih(Dh(t,"bottom")),l=B4(t,"x"),c=B4(t,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:Dh(t,"chartArea"),vertical:n.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function U4(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function qR(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function yJ(e,t,r,n){const{pos:a,box:i}=r,o=e.maxPadding;if(!St(a)){r.size&&(e[a]-=r.size);const h=n[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?i.height:i.width),r.size=h.size/h.count,e[a]+=r.size}i.getPadding&&qR(o,i.getPadding());const l=Math.max(0,t.outerWidth-U4(o,e,"left","right")),c=Math.max(0,t.outerHeight-U4(o,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function vJ(e){const t=e.maxPadding;function r(n){const a=Math.max(t[n]-e[n],0);return e[n]+=a,a}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function bJ(e,t){const r=t.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(t[o],r[o])}),i}return n(e?["left","right"]:["top","bottom"])}function af(e,t,r,n){const a=[];let i,o,l,c,d,u;for(i=0,o=e.length,d=0;i<o;++i){l=e[i],c=l.box,c.update(l.width||t.w,l.height||t.h,bJ(l.horizontal,t));const{same:h,other:f}=yJ(t,r,l,n);d|=h&&a.length,u=u||f,c.fullSize||a.push(l)}return d&&af(a,t,r,n)||u}function mg(e,t,r,n,a){e.top=r,e.left=t,e.right=t+n,e.bottom=r+a,e.width=n,e.height=a}function W4(e,t,r,n){const a=r.padding;let{x:i,y:o}=t;for(const l of e){const c=l.box,d=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=t.w*u,f=d.size||c.height;Vx(d.start)&&(o=d.start),c.fullSize?mg(c,a.left,o,r.outerWidth-a.right-a.left,f):mg(c,t.left+d.placed,o,h,f),d.start=o,d.placed+=h,o=c.bottom}else{const h=t.h*u,f=d.size||c.width;Vx(d.start)&&(i=d.start),c.fullSize?mg(c,i,a.top,f,r.outerHeight-a.bottom-a.top):mg(c,i,t.top+d.placed,f,h),d.start=i,d.placed+=h,i=c.right}}t.x=i,t.y=o}var Is={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const a=Ws(e.options.layout.padding),i=Math.max(t-a.width,0),o=Math.max(r-a.height,0),l=xJ(e.boxes),c=l.vertical,d=l.horizontal;Rt(e.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=c.reduce((m,g)=>g.box.options&&g.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},a);qR(f,Ws(n));const p=Object.assign({maxPadding:f,w:i,h:o,x:a.left,y:a.top},a),x=gJ(c.concat(d),h);af(l.fullSize,p,h,x),af(c,p,h,x),af(d,p,h,x)&&af(c,p,h,x),vJ(p),W4(l.leftAndTop,p,h,x),p.x+=p.w,p.y+=p.h,W4(l.rightAndBottom,p,h,x),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Rt(l.chartArea,m=>{const g=m.box;Object.assign(g,e.chartArea),g.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class KR{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,n){}removeEventListener(t,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,n,a){return r=Math.max(0,r||t.width),n=n||t.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(t){return!0}updateConfig(t){}}class wJ extends KR{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nx="$chartjs",jJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},V4=e=>e===null||e==="";function NJ(e,t){const r=e.style,n=e.getAttribute("height"),a=e.getAttribute("width");if(e[nx]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",V4(a)){const i=E4(e,"width");i!==void 0&&(e.width=i)}if(V4(n))if(e.style.height==="")e.height=e.width/(t||2);else{const i=E4(e,"height");i!==void 0&&(e.height=i)}return e}const GR=RZ?{passive:!0}:!1;function SJ(e,t,r){e&&e.addEventListener(t,r,GR)}function CJ(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,GR)}function PJ(e,t){const r=jJ[e.type]||e.type,{x:n,y:a}=Nl(e,t);return{type:r,chart:t,native:e,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Kx(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function kJ(e,t,r){const n=e.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Kx(l.addedNodes,n),o=o&&!Kx(l.removedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function _J(e,t,r){const n=e.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Kx(l.removedNodes,n),o=o&&!Kx(l.addedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const lm=new Map;let H4=0;function YR(){const e=window.devicePixelRatio;e!==H4&&(H4=e,lm.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function AJ(e,t){lm.size||window.addEventListener("resize",YR),lm.set(e,t)}function EJ(e){lm.delete(e),lm.size||window.removeEventListener("resize",YR)}function TJ(e,t,r){const n=e.canvas,a=n&&cC(n);if(!a)return;const i=kR((l,c)=>{const d=a.clientWidth;r(l,c),d<a.clientWidth&&r()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),AJ(e,i),o}function sw(e,t,r){r&&r.disconnect(),t==="resize"&&EJ(e)}function OJ(e,t,r){const n=e.canvas,a=kR(i=>{e.ctx!==null&&r(PJ(i,e))},e);return SJ(n,t,a),a}class MJ extends KR{acquireContext(t,r){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(NJ(t,r),n):null}releaseContext(t){const r=t.canvas;if(!r[nx])return!1;const n=r[nx].initial;["height","width"].forEach(i=>{const o=n[i];Kt(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[nx],!0}addEventListener(t,r,n){this.removeEventListener(t,r);const a=t.$proxies||(t.$proxies={}),o={attach:kJ,detach:_J,resize:TJ}[r]||OJ;a[r]=o(t,r,n)}removeEventListener(t,r){const n=t.$proxies||(t.$proxies={}),a=n[r];if(!a)return;({attach:sw,detach:sw,resize:sw}[r]||CJ)(t,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,n,a){return IZ(t,r,n,a)}isAttached(t){const r=t&&cC(t);return!!(r&&r.isConnected)}}function DJ(e){return!lC()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?wJ:MJ}var $g;let Tc=($g=class{constructor(){ut(this,"x");ut(this,"y");ut(this,"active",!1);ut(this,"options");ut(this,"$animations")}tooltipPosition(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}hasValue(){return am(this.x)&&am(this.y)}getProps(t,r){const n=this.$animations;if(!r||!n)return this;const a={};return t.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}},ut($g,"defaults",{}),ut($g,"defaultRoutes"),$g);function IJ(e,t){const r=e.options.ticks,n=RJ(e),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?LJ(t):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return FJ(t,d,i,o/a),d;const u=$J(i,t,a);if(o>0){let h,f;const p=o>1?Math.round((c-l)/(o-1)):null;for(pg(t,d,u,Kt(p)?0:l-p,l),h=0,f=o-1;h<f;h++)pg(t,d,u,i[h],i[h+1]);return pg(t,d,u,c,Kt(p)?t.length:c+p),d}return pg(t,d,u),d}function RJ(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),a=e._maxLength/r;return Math.floor(Math.min(n,a))}function $J(e,t,r){const n=zJ(e),a=t.length/r;if(!n)return Math.max(a,1);const i=TQ(n);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function LJ(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}function FJ(e,t,r,n){let a=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<e.length;o++)o===i&&(t.push(e[o]),a++,i=r[a*n])}function pg(e,t,r,n,a){const i=jt(n,0),o=Math.min(jt(a,e.length),e.length);let l=0,c,d,u;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),u=i;u<0;)l++,u=Math.round(i+l*r);for(d=Math.max(i,0);d<o;d++)d===u&&(t.push(e[d]),l++,u=Math.round(i+l*r))}function zJ(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}const BJ=e=>e==="left"?"right":e==="right"?"left":e,q4=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,K4=(e,t)=>Math.min(t||e,e);function G4(e,t){const r=[],n=e.length/t,a=e.length;let i=0;for(;i<a;i+=n)r.push(e[Math.floor(i)]);return r}function UJ(e,t,r){const n=e.ticks.length,a=Math.min(t,n-1),i=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(a),d;if(!(r&&(n===1?d=Math.max(c-i,o-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(a-1))/2,c+=a<t?d:-d,c<i-l||c>o+l)))return c}function WJ(e,t){Rt(e,r=>{const n=r.gc,a=n.length/2;let i;if(a>t){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function Rh(e){return e.drawTicks?e.tickLength:0}function Y4(e,t){if(!e.display)return 0;const r=bn(e.font,t),n=Ws(e.padding);return(Mr(e.text)?e.text.length:1)*r.lineHeight+n.height}function VJ(e,t){return Ec(e,{scale:t,type:"scale"})}function HJ(e,t,r){return Ec(e,{tick:r,index:t,type:"tick"})}function qJ(e,t,r){let n=nC(e);return(r&&t!=="right"||!r&&t==="right")&&(n=BJ(n)),n}function KJ(e,t,r,n){const{top:a,left:i,bottom:o,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let h=0,f,p,x;const m=o-a,g=l-i;if(e.isHorizontal()){if(p=mn(n,i,l),St(r)){const y=Object.keys(r)[0],j=r[y];x=u[y].getPixelForValue(j)+m-t}else r==="center"?x=(d.bottom+d.top)/2+m-t:x=q4(e,r,t);f=l-i}else{if(St(r)){const y=Object.keys(r)[0],j=r[y];p=u[y].getPixelForValue(j)-g+t}else r==="center"?p=(d.left+d.right)/2-g+t:p=q4(e,r,t);x=mn(n,o,a),h=r==="left"?-oa:oa}return{titleX:p,titleY:x,maxWidth:f,rotation:h}}class th extends Tc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return t=ja(t,Number.POSITIVE_INFINITY),r=ja(r,Number.NEGATIVE_INFINITY),n=ja(n,Number.POSITIVE_INFINITY),a=ja(a,Number.NEGATIVE_INFINITY),{min:ja(t,n),max:ja(r,a),minDefined:Cn(t),maxDefined:Cn(r)}}getMinMax(t){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,t),a||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:ja(r,ja(n,r)),max:ja(n,ja(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rr(this.options.beforeUpdate,[this])}update(t,r,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fZ(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?G4(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=IJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,t=!t),this._startPixel=r,this._endPixel=n,this._reversePixels=t,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rr(this.options.afterUpdate,[this])}beforeSetDimensions(){rr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rr(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),rr(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n],i.label=rr(r.callback,[i.value,n,t],this)}afterTickToLabelConversion(){rr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,n=K4(this.ticks.length,t.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=Ds(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/n:p/(n-1),h+6>l&&(l=p/(n-(t.offset?.5:1)),c=this.maxHeight-Rh(t.grid)-r.padding-Y4(t.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),o=IQ(Math.min(Math.asin(Ds((u.highest.height+6)/l,-1,1)),Math.asin(Ds(c/d,-1,1))-Math.asin(Ds(f/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){rr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rr(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=Y4(a,r.options.font);if(l?(t.width=this.maxWidth,t.height=Rh(i)+c):(t.height=this.maxHeight,t.width=Rh(i)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,x=Il(this.labelRotation),m=Math.cos(x),g=Math.sin(x);if(l){const y=n.mirror?0:g*h.width+m*f.height;t.height=Math.min(this.maxHeight,t.height+y+p)}else{const y=n.mirror?0:m*h.width+g*f.height;t.width=Math.min(this.maxWidth,t.width+y+p)}this._calculatePadding(d,u,g,m)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,n,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?d?(f=a*t.width,p=n*r.height):(f=n*t.height,p=a*r.width):i==="start"?p=r.width:i==="end"?f=t.width:i!=="inner"&&(f=t.width/2,p=r.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=r.height/2,h=t.height/2;i==="start"?(u=0,h=t.height):i==="end"&&(u=r.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rr(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,n;for(r=0,n=t.length;r<n;r++)Kt(t[r].label)&&(t.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=G4(n,r)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,n){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(r/K4(r,n));let d=0,u=0,h,f,p,x,m,g,y,j,w,b,N;for(h=0;h<r;h+=c){if(x=t[h].label,m=this._resolveTickFontOptions(h),a.font=g=m.string,y=i[g]=i[g]||{data:{},gc:[]},j=m.lineHeight,w=b=0,!Kt(x)&&!Mr(x))w=C4(a,y.data,y.gc,w,x),b=j;else if(Mr(x))for(f=0,p=x.length;f<p;++f)N=x[f],!Kt(N)&&!Mr(N)&&(w=C4(a,y.data,y.gc,w,N),b+=j);o.push(w),l.push(b),d=Math.max(w,d),u=Math.max(b,u)}WJ(i,r);const S=o.indexOf(d),C=l.indexOf(u),P=_=>({width:o[_]||0,height:l[_]||0});return{first:P(0),last:P(r-1),widest:P(S),highest:P(C),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return LQ(this._alignToPixels?yl(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const n=r[t];return n.$context||(n.$context=HJ(this.getContext(),t,n))}return this.$context||(this.$context=VJ(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=Il(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Rh(i),p=[],x=l.setContext(this.getContext()),m=x.display?x.width:0,g=m/2,y=function(W){return yl(n,W,m)};let j,w,b,N,S,C,P,_,A,k,E,L;if(o==="top")j=y(this.bottom),C=this.bottom-f,_=j-g,k=y(t.top)+g,L=t.bottom;else if(o==="bottom")j=y(this.top),k=t.top,L=y(t.bottom)-g,C=j+g,_=this.top+f;else if(o==="left")j=y(this.right),S=this.right-f,P=j-g,A=y(t.left)+g,E=t.right;else if(o==="right")j=y(this.left),A=t.left,E=y(t.right)-g,S=j+g,P=this.left+f;else if(r==="x"){if(o==="center")j=y((t.top+t.bottom)/2+.5);else if(St(o)){const W=Object.keys(o)[0],V=o[W];j=y(this.chart.scales[W].getPixelForValue(V))}k=t.top,L=t.bottom,C=j+g,_=C+f}else if(r==="y"){if(o==="center")j=y((t.left+t.right)/2);else if(St(o)){const W=Object.keys(o)[0],V=o[W];j=y(this.chart.scales[W].getPixelForValue(V))}S=j-g,P=S-f,A=t.left,E=t.right}const F=jt(a.ticks.maxTicksLimit,h),U=Math.max(1,Math.ceil(h/F));for(w=0;w<h;w+=U){const W=this.getContext(w),V=i.setContext(W),D=l.setContext(W),T=V.lineWidth,$=V.color,O=D.dash||[],R=D.dashOffset,I=V.tickWidth,H=V.tickColor,he=V.tickBorderDash||[],ie=V.tickBorderDashOffset;b=UJ(this,w,c),b!==void 0&&(N=yl(n,b,T),d?S=P=A=E=N:C=_=k=L=N,p.push({tx1:S,ty1:C,tx2:P,ty2:_,x1:A,y1:k,x2:E,y2:L,width:T,color:$,borderDash:O,borderDashOffset:R,tickWidth:I,tickColor:H,tickBorderDash:he,tickBorderDashOffset:ie}))}return this._ticksLength=h,this._borderValue=j,p}_computeLabelItems(t){const r=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,f=Rh(n.grid),p=f+u,x=h?-u:p,m=-Il(this.labelRotation),g=[];let y,j,w,b,N,S,C,P,_,A,k,E,L="middle";if(a==="top")S=this.bottom-x,C=this._getXAxisLabelAlignment();else if(a==="bottom")S=this.top+x,C=this._getXAxisLabelAlignment();else if(a==="left"){const U=this._getYAxisLabelAlignment(f);C=U.textAlign,N=U.x}else if(a==="right"){const U=this._getYAxisLabelAlignment(f);C=U.textAlign,N=U.x}else if(r==="x"){if(a==="center")S=(t.top+t.bottom)/2+p;else if(St(a)){const U=Object.keys(a)[0],W=a[U];S=this.chart.scales[U].getPixelForValue(W)+p}C=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")N=(t.left+t.right)/2-p;else if(St(a)){const U=Object.keys(a)[0],W=a[U];N=this.chart.scales[U].getPixelForValue(W)}C=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(c==="start"?L="top":c==="end"&&(L="bottom"));const F=this._getLabelSizes();for(y=0,j=l.length;y<j;++y){w=l[y],b=w.label;const U=i.setContext(this.getContext(y));P=this.getPixelForTick(y)+i.labelOffset,_=this._resolveTickFontOptions(y),A=_.lineHeight,k=Mr(b)?b.length:1;const W=k/2,V=U.color,D=U.textStrokeColor,T=U.textStrokeWidth;let $=C;o?(N=P,C==="inner"&&(y===j-1?$=this.options.reverse?"left":"right":y===0?$=this.options.reverse?"right":"left":$="center"),a==="top"?d==="near"||m!==0?E=-k*A+A/2:d==="center"?E=-F.highest.height/2-W*A+A:E=-F.highest.height+A/2:d==="near"||m!==0?E=A/2:d==="center"?E=F.highest.height/2-W*A:E=F.highest.height-k*A,h&&(E*=-1),m!==0&&!U.showLabelBackdrop&&(N+=A/2*Math.sin(m))):(S=P,E=(1-k)*A/2);let O;if(U.showLabelBackdrop){const R=Ws(U.backdropPadding),I=F.heights[y],H=F.widths[y];let he=E-R.top,ie=0-R.left;switch(L){case"middle":he-=I/2;break;case"bottom":he-=I;break}switch(C){case"center":ie-=H/2;break;case"right":ie-=H;break;case"inner":y===j-1?ie-=H:y>0&&(ie-=H/2);break}O={left:ie,top:he,width:H+R.width,height:I+R.height,color:U.backdropColor}}g.push({label:b,font:_,textOffset:E,options:{rotation:m,color:V,strokeColor:D,strokeWidth:T,textAlign:$,textBaseline:L,translation:[N,S],backdrop:O}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-Il(this.labelRotation))return t==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=t+i,c=o.widest.width;let d,u;return r==="left"?a?(u=this.right+i,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?a?(u=this.left+i,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:n,top:a,width:i,height:o}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(n,a,i,o),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const c=a[i];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=yl(t,this.left,o)-o/2,u=yl(t,this.right,l)+l/2,h=f=c):(h=yl(t,this.top,o)-o/2,f=yl(t,this.bottom,l)+l/2,d=u=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(d,h),r.lineTo(u,f),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&Xv(n,a);const i=this.getLabelItems(t);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;om(n,d,0,u,c,l)}a&&Qv(n)}drawTitle(){const{ctx:t,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=bn(n.font),o=Ws(n.padding),l=n.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||St(r)?(c+=o.bottom,Mr(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=KJ(this,c,r,l);om(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:qJ(l,r,a),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,n=jt(t.grid&&t.grid.z,-1),a=jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==th.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[n]===this.id&&(!t||l.type===t)&&a.push(l)}return a}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return bn(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class gg{constructor(t,r,n){this.type=t,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let n;XJ(r)&&(n=this.register(r));const a=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,GJ(t,o,n),this.override&&wr.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const r=this.items,n=t.id,a=this.scope;n in r&&delete r[n],a&&n in wr[a]&&(delete wr[a][n],this.override&&delete gc[n])}}function GJ(e,t,r){const n=sm(Object.create(null),[r?wr.get(r):{},wr.get(t),e.defaults]);wr.set(t,n),e.defaultRoutes&&YJ(t,e.defaultRoutes),e.descriptors&&wr.describe(t,e.descriptors)}function YJ(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),a=n.pop(),i=[e].concat(n).join("."),o=t[r].split("."),l=o.pop(),c=o.join(".");wr.route(i,a,c,l)})}function XJ(e){return"id"in e&&"defaults"in e}class QJ{constructor(){this.controllers=new gg(kf,"datasets",!0),this.elements=new gg(Tc,"elements"),this.plugins=new gg(Object,"plugins"),this.scales=new gg(th,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):Rt(a,o=>{const l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,r,n){const a=tC(t);rr(n["before"+a],[],n),r[t](n),rr(n["after"+a],[],n)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(t))return n}return this.plugins}_get(t,r,n){const a=r.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return a}}var Ca=new QJ;class ZJ{constructor(){this._init=void 0}notify(t,r,n,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const i=a?this._descriptors(t).filter(a):this._descriptors(t),o=this._notify(i,t,r,n);return r==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,r,n,a){a=a||{};for(const i of t){const o=i.plugin,l=o[n],c=[r,a,i.options];if(rr(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){Kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const n=t&&t.config,a=jt(n.options&&n.options.plugins,{}),i=JJ(n);return a===!1&&!r?[]:tee(t,i,a,r)}_notifyStateChanges(t){const r=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),t,"stop"),this._notify(a(n,r),t,"start")}}function JJ(e){const t={},r=[],n=Object.keys(Ca.plugins.items);for(let i=0;i<n.length;i++)r.push(Ca.getPlugin(n[i]));const a=e.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),t[o.id]=!0)}return{plugins:r,localIds:t}}function eee(e,t){return!t&&e===!1?null:e===!0?{}:e}function tee(e,{plugins:t,localIds:r},n,a){const i=[],o=e.getContext();for(const l of t){const c=l.id,d=eee(n[c],a);d!==null&&i.push({plugin:l,options:ree(e.config,{plugin:l,local:r[c]},d,o)})}return i}function ree(e,{plugin:t,local:r},n,a){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(n,i);return r&&t.defaults&&o.push(t.defaults),e.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function p1(e,t){const r=wr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function nee(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function see(e,t){return e===t?"_index_":"_value_"}function X4(e){if(e==="x"||e==="y"||e==="r")return e}function aee(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function g1(e,...t){if(X4(e))return e;for(const r of t){const n=r.axis||aee(r.position)||e.length>1&&X4(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Q4(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function iee(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(r.length)return Q4(e,"x",r[0])||Q4(e,"y",r[0])}return{}}function oee(e,t){const r=gc[e.type]||{scales:{}},n=t.scales||{},a=p1(e.type,t),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!St(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=g1(o,l,iee(o,e),wr.scales[l.type]),d=see(c,a),u=r.scales||{};i[o]=jf(Object.create(null),[{axis:c},l,u[c],u[d]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||p1(l,t),u=(gc[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=nee(h,c),p=o[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),jf(i[p],[{axis:f},n[p],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];jf(l,[wr.scales[l.type],wr.scale])}),i}function XR(e){const t=e.options||(e.options={});t.plugins=jt(t.plugins,{}),t.scales=oee(e,t)}function QR(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function lee(e){return e=e||{},e.data=QR(e.data),XR(e),e}const Z4=new Map,ZR=new Set;function xg(e,t){let r=Z4.get(e);return r||(r=t(),Z4.set(e,r),ZR.add(r)),r}const $h=(e,t,r)=>{const n=Wx(t,r);n!==void 0&&e.add(n)};class cee{constructor(t){this._config=lee(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=QR(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),XR(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return xg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return xg(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return xg(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,n=this.type;return xg(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const n=this._scopeCache;let a=n.get(t);return(!a||r)&&(a=new Map,n.set(t,a)),a}getOptionScopes(t,r,n){const{options:a,type:i}=this,o=this._cachedScopes(t,n),l=o.get(r);if(l)return l;const c=new Set;r.forEach(u=>{t&&(c.add(t),u.forEach(h=>$h(c,t,h))),u.forEach(h=>$h(c,a,h)),u.forEach(h=>$h(c,gc[i]||{},h)),u.forEach(h=>$h(c,wr,h)),u.forEach(h=>$h(c,h1,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),ZR.has(r)&&o.set(r,d),d}chartOptionScopes(){const{options:t,type:r}=this;return[t,gc[r]||{},wr.datasets[r]||{},{type:r},wr,h1]}resolveNamedOptions(t,r,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=J4(this._resolverCache,t,a);let c=o;if(uee(o,r)){i.$shared=!1,n=el(n)?n():n;const d=this.createResolver(t,n,l);c=ou(o,n,d)}for(const d of r)i[d]=c[d];return i}createResolver(t,r,n=[""],a){const{resolver:i}=J4(this._resolverCache,t,n);return St(r)?ou(i,r,void 0,a):i}}function J4(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const a=r.join();let i=n.get(a);return i||(i={resolver:aC(t,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,i)),i}const dee=e=>St(e)&&Object.getOwnPropertyNames(e).some(t=>el(e[t]));function uee(e,t){const{isScriptable:r,isIndexable:n}=OR(e);for(const a of t){const i=r(a),o=n(a),l=(o||i)&&e[a];if(i&&(el(l)||dee(l))||o&&Mr(l))return!0}return!1}var hee="4.5.1";const fee=["top","bottom","left","right","chartArea"];function eA(e,t){return e==="top"||e==="bottom"||fee.indexOf(e)===-1&&t==="x"}function tA(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function rA(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),rr(r&&r.onComplete,[e],t)}function mee(e){const t=e.chart,r=t.options.animation;rr(r&&r.onProgress,[e],t)}function JR(e){return lC()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const sx={},nA=e=>{const t=JR(e);return Object.values(sx).filter(r=>r.canvas===t).pop()};function pee(e,t,r){const n=Object.keys(e);for(const a of n){const i=+a;if(i>=t){const o=e[a];delete e[a],(r>0||i>t)&&(e[i+r]=o)}}}function gee(e,t,r,n){return!r||e.type==="mouseout"?null:n?t:e}var Zi;let e0=(Zi=class{static register(...t){Ca.add(...t),sA()}static unregister(...t){Ca.remove(...t),sA()}constructor(t,r){const n=this.config=new cee(r),a=JR(t),i=nA(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||DJ(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=jQ(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ZJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=WQ(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],sx[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ii.listen(this,"complete",rA),ii.listen(this,"progress",mee),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return Kt(t)?r&&i?i:a?n/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ca}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():A4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return P4(this.canvas,this.ctx),this}stop(){return ii.stop(this),this}resize(t,r){ii.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,t,r,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,A4(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),rr(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Rt(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const t=this.options,r=t.scales,n=this.scales,a=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],c=g1(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Rt(i,o=>{const l=o.options,c=l.id,d=g1(c,l),u=jt(l.type,o.dtype);(l.position===void 0||eA(l.position,d)!==eA(o.dposition))&&(l.position=o.dposition),a[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const f=Ca.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,t)}),Rt(a,(o,l)=>{o||delete n[l]}),Rt(n,o=>{Is.configure(this,o,o.options),Is.addBox(this,o)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,n=t.length;if(t.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);t.splice(r,n-r)}this._sortedMetasets=t.slice(0).sort(tA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||p1(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=Ca.getController(l),{datasetElementType:d,dataElementType:u}=wr.datasets[l];Object.assign(c,{dataElementType:Ca.getElement(u),datasetElementType:d&&Ca.getElement(d)}),o.controller=new c(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Rt(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!a&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||Rt(i,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(tA("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Rt(this.scales,t=>{Is.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!g4(r,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const o=n==="_removeElements"?-i:i;pee(t,a,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(t.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!g4(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Is.update(this,this.width,this.height,t);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Rt(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,el(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const n=this.getDatasetMeta(t),a={meta:n,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ii.has(this)?this.attached&&!ii.running(this)&&ii.start(this):(this.draw(),rA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,n={meta:t,index:t.index,cancelable:!0},a=UR(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&Xv(r,a),t.controller.draw(),a&&Qv(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return im(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,n,a){const i=fJ.modes[r];return typeof i=="function"?i(this,t,n,a):[]}getDatasetMeta(t){const r=this.data.datasets[t],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Ec(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(t,r){const n=this.getDatasetMeta(t);n.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,a);Vx(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===t?a:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),ii.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),P4(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete sx[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),t[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Rt(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,n=(c,d)=>{r.addEventListener(this,c,d),t[c]=d},a=(c,d)=>{t[c]&&(r.removeEventListener(this,c,d),delete t[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){Rt(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},Rt(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,n){const a=n?"set":"remove";let i,o,l,c;for(r==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],n=t.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!Bx(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(t,r,n){return this._plugins.notify(this,t,r,n)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,n){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(r,t),l=n?t:i(t,r);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(t,r){const n={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},a=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(t,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(t,r,n){const{_active:a=[],options:i}=this,o=r,l=this._getActiveElements(t,a,n,o),c=_Q(t),d=gee(t,this._lastEvent,n,c);n&&(this._lastEvent=null,rr(i.onHover,[t,l,this],this),c&&rr(i.onClick,[t,l,this],this));const u=!Bx(l,a);return(u||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=d,u}_getActiveElements(t,r,n,a){if(t.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}},ut(Zi,"defaults",wr),ut(Zi,"instances",sx),ut(Zi,"overrides",gc),ut(Zi,"registry",Ca),ut(Zi,"version",hee),ut(Zi,"getChart",nA),Zi);function sA(){return Rt(e0.instances,e=>e._plugins.invalidate())}function e$(e,t,r=t){e.lineCap=jt(r.borderCapStyle,t.borderCapStyle),e.setLineDash(jt(r.borderDash,t.borderDash)),e.lineDashOffset=jt(r.borderDashOffset,t.borderDashOffset),e.lineJoin=jt(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=jt(r.borderWidth,t.borderWidth),e.strokeStyle=jt(r.borderColor,t.borderColor)}function xee(e,t,r){e.lineTo(r.x,r.y)}function yee(e){return e.stepped?nZ:e.tension||e.cubicInterpolationMode==="monotone"?sZ:xee}function t$(e,t,r={}){const n=e.length,{start:a=0,end:i=n-1}=r,{start:o,end:l}=t,c=Math.max(a,o),d=Math.min(i,l),u=a<o&&i<o||a>l&&i>l;return{count:n,start:c,loop:t.loop,ilen:d<c&&!u?n+d-c:d-c}}function vee(e,t,r,n){const{points:a,options:i}=t,{count:o,start:l,loop:c,ilen:d}=t$(a,r,n),u=yee(i);let{move:h=!0,reverse:f}=n||{},p,x,m;for(p=0;p<=d;++p)x=a[(l+(f?d-p:p))%o],!x.skip&&(h?(e.moveTo(x.x,x.y),h=!1):u(e,m,x,f,i.stepped),m=x);return c&&(x=a[(l+(f?d:0))%o],u(e,m,x,f,i.stepped)),!!c}function bee(e,t,r,n){const a=t.points,{count:i,start:o,ilen:l}=t$(a,r,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,f,p,x,m,g,y;const j=b=>(o+(d?l-b:b))%i,w=()=>{m!==g&&(e.lineTo(u,g),e.lineTo(u,m),e.lineTo(u,y))};for(c&&(p=a[j(0)],e.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=a[j(f)],p.skip)continue;const b=p.x,N=p.y,S=b|0;S===x?(N<m?m=N:N>g&&(g=N),u=(h*u+b)/++h):(w(),e.lineTo(b,N),x=S,h=0,m=g=N),y=N}w()}function x1(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?bee:vee}function wee(e){return e.stepped?$Z:e.tension||e.cubicInterpolationMode==="monotone"?LZ:Sl}function jee(e,t,r,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,r,n)&&a.closePath()),e$(e,t.options),e.stroke(a)}function Nee(e,t,r,n){const{segments:a,options:i}=t,o=x1(t);for(const l of a)e$(e,i,l.style),e.beginPath(),o(e,t,l,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}const See=typeof Path2D=="function";function Cee(e,t,r,n){See&&!t.options.segment?jee(e,t,r,n):Nee(e,t,r,n)}class Po extends Tc{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;AZ(this._points,n,t,a,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=VZ(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,n=t.length;return n&&r[t[n-1].end]}interpolate(t,r){const n=this.options,a=t[r],i=this.points,o=BR(this,{property:r,start:a,end:a});if(!o.length)return;const l=[],c=wee(n);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:f}=o[d],p=i[h],x=i[f];if(p===x){l.push(p);continue}const m=Math.abs((a-p[r])/(x[r]-p[r])),g=c(p,x,m,n.stepped);g[r]=t[r],l.push(g)}return l.length===1?l[0]:l}pathSegment(t,r,n){return x1(this)(t,this,r,n)}path(t,r,n){const a=this.segments,i=x1(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)o&=i(t,this,l,{start:r,end:r+n-1});return!!o}draw(t,r,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Cee(t,this,n,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ut(Po,"id","line"),ut(Po,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ut(Po,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ut(Po,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function aA(e,t,r,n){const a=e.options,{[r]:i}=e.getProps([r],n);return Math.abs(t-i)<a.radius+a.hitRadius}class ax extends Tc{constructor(r){super();ut(this,"parsed");ut(this,"skip");ut(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],a);return Math.pow(r-o,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return aA(this,r,"x",n)}inYRange(r,n){return aA(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!im(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,f1(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}ut(ax,"id","point"),ut(ax,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ut(ax,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Pee(e,t,r){const n=e.segments,a=e.points,i=t.points,o=[];for(const l of n){let{start:c,end:d}=l;d=t0(c,d,a);const u=y1(r,a[c],a[d],l.loop);if(!t.segments){o.push({source:l,target:u,start:a[c],end:a[d]});continue}const h=BR(t,u);for(const f of h){const p=y1(r,i[f.start],i[f.end],f.loop),x=zR(l,a,p);for(const m of x)o.push({source:m,target:f,start:{[r]:iA(u,p,"start",Math.max)},end:{[r]:iA(u,p,"end",Math.min)}})}}return o}function y1(e,t,r,n){if(n)return;let a=t[e],i=r[e];return e==="angle"&&(a=Pa(a),i=Pa(i)),{property:e,start:a,end:i}}function kee(e,t){const{x:r=null,y:n=null}=e||{},a=t.points,i=[];return t.segments.forEach(({start:o,end:l})=>{l=t0(o,l,a);const c=a[o],d=a[l];n!==null?(i.push({x:c.x,y:n}),i.push({x:d.x,y:n})):r!==null&&(i.push({x:r,y:c.y}),i.push({x:r,y:d.y}))}),i}function t0(e,t,r){for(;t>e;t--){const n=r[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function iA(e,t,r,n){return e&&t?n(e[r],t[r]):e?e[r]:t?t[r]:0}function r$(e,t){let r=[],n=!1;return Mr(e)?(n=!0,r=e):r=kee(e,t),r.length?new Po({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function oA(e){return e&&e.fill!==!1}function _ee(e,t,r){let a=e[t].fill;const i=[t];let o;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!Cn(a))return a;if(o=e[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function Aee(e,t,r){const n=Mee(e);if(St(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Cn(a)&&Math.floor(a)===a?Eee(n[0],t,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Eee(e,t,r,n){return(e==="-"||e==="+")&&(r=t+r),r===t||r<0||r>=n?!1:r}function Tee(e,t){let r=null;return e==="start"?r=t.bottom:e==="end"?r=t.top:St(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}function Oee(e,t,r){let n;return e==="start"?n=r:e==="end"?n=t.options.reverse?t.min:t.max:St(e)?n=e.value:n=t.getBaseValue(),n}function Mee(e){const t=e.options,r=t.fill;let n=jt(r&&r.target,r);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Dee(e){const{scale:t,index:r,line:n}=e,a=[],i=n.segments,o=n.points,l=Iee(t,r);l.push(r$({x:null,y:t.bottom},n));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)Ree(a,o[u],l)}return new Po({points:a,options:{}})}function Iee(e,t){const r=[],n=e.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===t)break;i.hidden||r.unshift(i.dataset)}return r}function Ree(e,t,r){const n=[];for(let a=0;a<r.length;a++){const i=r[a],{first:o,last:l,point:c}=$ee(i,t,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(e.push(c),!l)break}}e.push(...n)}function $ee(e,t,r){const n=e.interpolate(t,r);if(!n)return{};const a=n[r],i=e.segments,o=e.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],h=o[u.start][r],f=o[u.end][r];if(fd(a,h,f)){l=a===h,c=a===f;break}}return{first:l,last:c,point:n}}class n${constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,r,n){const{x:a,y:i,radius:o}=this;return r=r||{start:0,end:ma},t.arc(a,i,o,r.end,r.start,!0),!n.bounds}interpolate(t){const{x:r,y:n,radius:a}=this,i=t.angle;return{x:r+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function Lee(e){const{chart:t,fill:r,line:n}=e;if(Cn(r))return Fee(t,r);if(r==="stack")return Dee(e);if(r==="shape")return!0;const a=zee(e);return a instanceof n$?a:r$(a,n)}function Fee(e,t){const r=e.getDatasetMeta(t);return r&&e.isDatasetVisible(t)?r.dataset:null}function zee(e){return(e.scale||{}).getPointPositionForValue?Uee(e):Bee(e)}function Bee(e){const{scale:t={},fill:r}=e,n=Tee(r,t);if(Cn(n)){const a=t.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function Uee(e){const{scale:t,fill:r}=e,n=t.options,a=t.getLabels().length,i=n.reverse?t.max:t.min,o=Oee(r,t,i),l=[];if(n.grid.circular){const c=t.getPointPositionForValue(0,i);return new n$({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<a;++c)l.push(t.getPointPositionForValue(c,o));return l}function aw(e,t,r){const n=Lee(t),{chart:a,index:i,line:o,scale:l,axis:c}=t,d=o.options,u=d.fill,h=d.backgroundColor,{above:f=h,below:p=h}=u||{},x=a.getDatasetMeta(i),m=UR(a,x);n&&o.points.length&&(Xv(e,r),Wee(e,{line:o,target:n,above:f,below:p,area:r,scale:l,axis:c,clip:m}),Qv(e))}function Wee(e,t){const{line:r,target:n,above:a,below:i,area:o,scale:l,clip:c}=t,d=r._loop?"angle":t.axis;e.save();let u=i;i!==a&&(d==="x"?(lA(e,n,o.top),iw(e,{line:r,target:n,color:a,scale:l,property:d,clip:c}),e.restore(),e.save(),lA(e,n,o.bottom)):d==="y"&&(cA(e,n,o.left),iw(e,{line:r,target:n,color:i,scale:l,property:d,clip:c}),e.restore(),e.save(),cA(e,n,o.right),u=a)),iw(e,{line:r,target:n,color:u,scale:l,property:d,clip:c}),e.restore()}function lA(e,t,r){const{segments:n,points:a}=t;let i=!0,o=!1;e.beginPath();for(const l of n){const{start:c,end:d}=l,u=a[c],h=a[t0(c,d,a)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(u.x,r),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(h.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function cA(e,t,r){const{segments:n,points:a}=t;let i=!0,o=!1;e.beginPath();for(const l of n){const{start:c,end:d}=l,u=a[c],h=a[t0(c,d,a)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(r,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(r,h.y)}e.lineTo(r,t.first().y),e.closePath(),e.clip()}function iw(e,t){const{line:r,target:n,property:a,color:i,scale:o,clip:l}=t,c=Pee(r,n,a);for(const{source:d,target:u,start:h,end:f}of c){const{style:{backgroundColor:p=i}={}}=d,x=n!==!0;e.save(),e.fillStyle=p,Vee(e,o,l,x&&y1(a,h,f)),e.beginPath();const m=!!r.pathSegment(e,d);let g;if(x){m?e.closePath():dA(e,n,f,a);const y=!!n.pathSegment(e,u,{move:m,reverse:!0});g=m&&y,g||dA(e,n,h,a)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function Vee(e,t,r,n){const a=t.chart.chartArea,{property:i,start:o,end:l}=n||{};if(i==="x"||i==="y"){let c,d,u,h;i==="x"?(c=o,d=a.top,u=l,h=a.bottom):(c=a.left,d=o,u=a.right,h=l),e.beginPath(),r&&(c=Math.max(c,r.left),u=Math.min(u,r.right),d=Math.max(d,r.top),h=Math.min(h,r.bottom)),e.rect(c,d,u-c,h-d),e.clip()}}function dA(e,t,r,n){const a=t.interpolate(r,n);a&&e.lineTo(a.x,a.y)}var Hee={id:"filler",afterDatasetsUpdate(e,t,r){const n=(e.data.datasets||[]).length,a=[];let i,o,l,c;for(o=0;o<n;++o)i=e.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof Po&&(c={visible:e.isDatasetVisible(o),index:o,fill:Aee(l,o,n),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,a.push(c);for(o=0;o<n;++o)c=a[o],!(!c||c.fill===!1)&&(c.fill=_ee(a,o,r.propagate))},beforeDraw(e,t,r){const n=r.drawTime==="beforeDraw",a=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&aw(e.ctx,l,i))}},beforeDatasetsDraw(e,t,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;oA(i)&&aw(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,r){const n=t.meta.$filler;!oA(n)||r.drawTime!=="beforeDatasetDraw"||aw(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const uA=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}},qee=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;let hA=class extends Tc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,n){this.maxWidth=t,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=rr(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(n=>t.filter(n,this.chart.data))),t.sort&&(r=r.sort((n,a)=>t.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,a=bn(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=uA(n,i);let d,u;r.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,r,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let h=t;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((x,m)=>{const g=n+r/2+i.measureText(x.text).width;(m===0||d[d.length-1]+g+2*l>o)&&(h+=u,d[d.length-(m>0?0:1)]=0,p+=u,f++),c[m]={left:0,top:p,row:f,width:g,height:a},d[d.length-1]+=g+l}),h}_fitCols(t,r,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-t;let h=l,f=0,p=0,x=0,m=0;return this.legendItems.forEach((g,y)=>{const{itemWidth:j,itemHeight:w}=Kee(n,r,i,g,a);y>0&&p+w+2*l>u&&(h+=f+l,d.push({width:f,height:p}),x+=f+l,m++,f=p=0),c[y]={left:x,top:p,col:m,width:j,height:w},f=Math.max(f,j),p+=w+l}),h+=f,d.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:i}}=this,o=Ad(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=mn(n,this.left+a,this.right-this.lineWidths[l]);for(const d of r)l!==d.row&&(l=d.row,c=mn(n,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+t+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=mn(n,this.top+t+a,this.bottom-this.columnSizes[l].height);for(const d of r)d.col!==l&&(l=d.col,c=mn(n,this.top+t+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Xv(t,this),this._draw(),Qv(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:n,ctx:a}=this,{align:i,labels:o}=t,l=wr.color,c=Ad(t.rtl,this.left,this.width),d=bn(o.font),{padding:u}=o,h=d.size,f=h/2;let p;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:x,boxHeight:m,itemHeight:g}=uA(o,h),y=function(S,C,P){if(isNaN(x)||x<=0||isNaN(m)||m<0)return;a.save();const _=jt(P.lineWidth,1);if(a.fillStyle=jt(P.fillStyle,l),a.lineCap=jt(P.lineCap,"butt"),a.lineDashOffset=jt(P.lineDashOffset,0),a.lineJoin=jt(P.lineJoin,"miter"),a.lineWidth=_,a.strokeStyle=jt(P.strokeStyle,l),a.setLineDash(jt(P.lineDash,[])),o.usePointStyle){const A={radius:m*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:_},k=c.xPlus(S,x/2),E=C+f;ER(a,A,k,E,o.pointStyleWidth&&x)}else{const A=C+Math.max((h-m)/2,0),k=c.leftForLtr(S,x),E=Pf(P.borderRadius);a.beginPath(),Object.values(E).some(L=>L!==0)?m1(a,{x:k,y:A,w:x,h:m,radius:E}):a.rect(k,A,x,m),a.fill(),_!==0&&a.stroke()}a.restore()},j=function(S,C,P){om(a,P.text,S,C+g/2,d,{strikethrough:P.hidden,textAlign:c.textAlign(P.textAlign)})},w=this.isHorizontal(),b=this._computeTitleHeight();w?p={x:mn(i,this.left+u,this.right-n[0]),y:this.top+u+b,line:0}:p={x:this.left+u,y:mn(i,this.top+b+u,this.bottom-r[0].height),line:0},$R(this.ctx,t.textDirection);const N=g+u;this.legendItems.forEach((S,C)=>{a.strokeStyle=S.fontColor,a.fillStyle=S.fontColor;const P=a.measureText(S.text).width,_=c.textAlign(S.textAlign||(S.textAlign=o.textAlign)),A=x+f+P;let k=p.x,E=p.y;c.setWidth(this.width),w?C>0&&k+A+u>this.right&&(E=p.y+=N,p.line++,k=p.x=mn(i,this.left+u,this.right-n[p.line])):C>0&&E+N>this.bottom&&(k=p.x=k+r[p.line].width+u,p.line++,E=p.y=mn(i,this.top+b+u,this.bottom-r[p.line].height));const L=c.x(k);if(y(L,E,S),k=VQ(_,k+x+f,w?k+A:this.right,t.rtl),j(c.x(k),E,S),w)p.x+=A+u;else if(typeof S.text!="string"){const F=d.lineHeight;p.y+=s$(S,F)+u}else p.y+=N}),LR(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,n=bn(r.font),a=Ws(r.padding);if(!r.display)return;const i=Ad(t.rtl,this.left,this.width),o=this.ctx,l=r.position,c=n.size/2,d=a.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=mn(t.align,h,this.right-f);else{const x=this.columnSizes.reduce((m,g)=>Math.max(m,g.height),0);u=d+mn(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const p=mn(l,h,h+f);o.textAlign=i.textAlign(nC(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,om(o,r.text,p,u,n)}_computeTitleHeight(){const t=this.options.title,r=bn(t.font),n=Ws(t.padding);return t.display?r.lineHeight+n.height:0}_getLegendItemAt(t,r){let n,a,i;if(fd(t,this.left,this.right)&&fd(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],fd(t,a.left,a.left+a.width)&&fd(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(t){const r=this.options;if(!Xee(t.type,r))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=qee(a,n);a&&!i&&rr(r.onLeave,[t,a,this],this),this._hoveredItem=n,n&&!i&&rr(r.onHover,[t,n,this],this)}else n&&rr(r.onClick,[t,n,this],this)}};function Kee(e,t,r,n,a){const i=Gee(n,e,t,r),o=Yee(a,n,t.lineHeight);return{itemWidth:i,itemHeight:o}}function Gee(e,t,r,n){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),t+r.size/2+n.measureText(a).width}function Yee(e,t,r){let n=e;return typeof t.text!="string"&&(n=s$(t,r)),n}function s$(e,t){const r=e.text?e.text.length:0;return t*r}function Xee(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Qee={id:"legend",_element:hA,start(e,t,r){const n=e.legend=new hA({ctx:e.ctx,options:r,chart:e});Is.configure(e,n,r),Is.addBox(e,n)},stop(e){Is.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;Is.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=Ws(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class a$ extends Tc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const a=Mr(n.text)?n.text.length:1;this._padding=Ws(n.padding);const i=a*bn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:n,bottom:a,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=mn(l,n,i),h=r+t,d=i-n):(o.position==="left"?(u=n+t,h=mn(l,a,r),c=tn*-.5):(u=i-t,h=mn(l,r,a),c=tn*.5),d=a-r),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const n=bn(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);om(t,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:d,textAlign:nC(r.align),textBaseline:"middle",translation:[o,l]})}}function Zee(e,t){const r=new a$({ctx:e.ctx,options:t,chart:e});Is.configure(e,r,t),Is.addBox(e,r),e.titleBlock=r}var Jee={id:"title",_element:a$,start(e,t,r){Zee(e,r)},stop(e){const t=e.titleBlock;Is.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;Is.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const of={average(e){if(!e.length)return!1;let t,r,n=new Set,a=0,i=0;for(t=0,r=e.length;t<r;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/i}},nearest(e,t){if(!e.length)return!1;let r=t.x,n=t.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=e.length;i<o;++i){const c=e[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=u1(t,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Na(e,t){return t&&(Mr(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function oi(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function ete(e,t){const{element:r,datasetIndex:n,index:a}=t,i=e.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:e,label:o,parsed:i.getParsed(a),raw:e.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function fA(e,t){const r=e.chart.ctx,{body:n,footer:a,title:i}=e,{boxWidth:o,boxHeight:l}=t,c=bn(t.bodyFont),d=bn(t.titleFont),u=bn(t.footerFont),h=i.length,f=a.length,p=n.length,x=Ws(t.padding);let m=x.height,g=0,y=n.reduce((b,N)=>b+N.before.length+N.lines.length+N.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y){const b=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;m+=p*b+(y-p)*c.lineHeight+(y-1)*t.bodySpacing}f&&(m+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let j=0;const w=function(b){g=Math.max(g,r.measureText(b).width+j)};return r.save(),r.font=d.string,Rt(e.title,w),r.font=c.string,Rt(e.beforeBody.concat(e.afterBody),w),j=t.displayColors?o+2+t.boxPadding:0,Rt(n,b=>{Rt(b.before,w),Rt(b.lines,w),Rt(b.after,w)}),j=0,r.font=u.string,Rt(e.footer,w),r.restore(),g+=x.width,{width:g,height:m}}function tte(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}function rte(e,t,r,n){const{x:a,width:i}=n,o=r.caretSize+r.caretPadding;if(e==="left"&&a+i+o>t.width||e==="right"&&a-i-o<0)return!0}function nte(e,t,r,n){const{x:a,width:i}=r,{width:o,chartArea:{left:l,right:c}}=e;let d="center";return n==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),rte(d,e,t,r)&&(d="center"),d}function mA(e,t,r){const n=r.yAlign||t.yAlign||tte(e,r);return{xAlign:r.xAlign||t.xAlign||nte(e,t,r,n),yAlign:n}}function ste(e,t){let{x:r,width:n}=e;return t==="right"?r-=n:t==="center"&&(r-=n/2),r}function ate(e,t,r){let{y:n,height:a}=e;return t==="top"?n+=r:t==="bottom"?n-=a+r:n-=a/2,n}function pA(e,t,r,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=e,{xAlign:l,yAlign:c}=r,d=a+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Pf(o);let x=ste(t,l);const m=ate(t,c,d);return c==="center"?l==="left"?x+=d:l==="right"&&(x-=d):l==="left"?x-=Math.max(u,f)+a:l==="right"&&(x+=Math.max(h,p)+a),{x:Ds(x,0,n.width-t.width),y:Ds(m,0,n.height-t.height)}}function yg(e,t,r){const n=Ws(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function gA(e){return Na([],oi(e))}function ite(e,t,r){return Ec(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function xA(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const i$={beforeTitle:ri,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:ri,beforeBody:ri,beforeLabel:ri,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return Kt(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:ri,afterBody:ri,beforeFooter:ri,footer:ri,afterFooter:ri};function Ln(e,t,r,n){const a=e[t].call(r,n);return typeof a>"u"?i$[t].call(r,n):a}var Hw;let yA=(Hw=class extends Tc{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,i=new WR(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=ite(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:n}=r,a=Ln(n,"beforeTitle",this,t),i=Ln(n,"title",this,t),o=Ln(n,"afterTitle",this,t);let l=[];return l=Na(l,oi(a)),l=Na(l,oi(i)),l=Na(l,oi(o)),l}getBeforeBody(t,r){return gA(Ln(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:n}=r,a=[];return Rt(t,i=>{const o={before:[],lines:[],after:[]},l=xA(n,i);Na(o.before,oi(Ln(l,"beforeLabel",this,i))),Na(o.lines,Ln(l,"label",this,i)),Na(o.after,oi(Ln(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(t,r){return gA(Ln(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:n}=r,a=Ln(n,"beforeFooter",this,t),i=Ln(n,"footer",this,t),o=Ln(n,"afterFooter",this,t);let l=[];return l=Na(l,oi(a)),l=Na(l,oi(i)),l=Na(l,oi(o)),l}_createItems(t){const r=this._active,n=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=r.length;c<d;++c)l.push(ete(this.chart,r[c]));return t.filter&&(l=l.filter((u,h,f)=>t.filter(u,h,f,n))),t.itemSort&&(l=l.sort((u,h)=>t.itemSort(u,h,n))),Rt(l,u=>{const h=xA(t.callbacks,u);a.push(Ln(h,"labelColor",this,u)),i.push(Ln(h,"labelPointStyle",this,u)),o.push(Ln(h,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,r){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=of[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=fA(this,n),d=Object.assign({},l,c),u=mA(this.chart,n,d),h=pA(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,n,a){const i=this.getCaretPosition(t,n,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(t,r,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Pf(l),{x:f,y:p}=t,{width:x,height:m}=r;let g,y,j,w,b,N;return i==="center"?(b=p+m/2,a==="left"?(g=f,y=g-o,w=b+o,N=b-o):(g=f+x,y=g+o,w=b-o,N=b+o),j=g):(a==="left"?y=f+Math.max(c,u)+o:a==="right"?y=f+x-Math.max(d,h)-o:y=this.caretX,i==="top"?(w=p,b=w-o,g=y-o,j=y+o):(w=p+m,b=w+o,g=y+o,j=y-o),N=w),{x1:g,x2:y,x3:j,y1:w,y2:b,y3:N}}drawTitle(t,r,n){const a=this.title,i=a.length;let o,l,c;if(i){const d=Ad(n.rtl,this.x,this.width);for(t.x=yg(this,n.titleAlign,n),r.textAlign=d.textAlign(n.titleAlign),r.textBaseline="middle",o=bn(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===i&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,r,n,a,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=i,u=bn(i.bodyFont),h=yg(this,"left",i),f=a.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,x=r.y+p;if(i.usePointStyle){const m={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=a.leftForLtr(f,d)+d/2,y=x+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,f1(t,m,g,y),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,f1(t,m,g,y)}else{t.lineWidth=St(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=a.leftForLtr(f,d),g=a.leftForLtr(a.xPlus(f,1),d-2),y=Pf(o.borderRadius);Object.values(y).some(j=>j!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,m1(t,{x:m,y:x,w:d,h:c,radius:y}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),m1(t,{x:g,y:x+1,w:d-2,h:c-2,radius:y}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(m,x,d,c),t.strokeRect(m,x,d,c),t.fillStyle=o.backgroundColor,t.fillRect(g,x+1,d-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,r,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=bn(n.bodyFont);let f=h.lineHeight,p=0;const x=Ad(n.rtl,this.x,this.width),m=function(P){r.fillText(P,x.x(t.x+p),t.y+f/2),t.y+=f+i},g=x.textAlign(o);let y,j,w,b,N,S,C;for(r.textAlign=o,r.textBaseline="middle",r.font=h.string,t.x=yg(this,g,n),r.fillStyle=n.bodyColor,Rt(this.beforeBody,m),p=l&&g!=="right"?o==="center"?d/2+u:d+2+u:0,b=0,S=a.length;b<S;++b){for(y=a[b],j=this.labelTextColors[b],r.fillStyle=j,Rt(y.before,m),w=y.lines,l&&w.length&&(this._drawColorBox(r,t,b,x,n),f=Math.max(h.lineHeight,c)),N=0,C=w.length;N<C;++N)m(w[N]),f=h.lineHeight;Rt(y.after,m)}p=0,f=h.lineHeight,Rt(this.afterBody,m),t.y-=i}drawFooter(t,r,n){const a=this.footer,i=a.length;let o,l;if(i){const c=Ad(n.rtl,this.x,this.width);for(t.x=yg(this,n.footerAlign,n),t.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",o=bn(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(a[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,r,n,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=t,{width:d,height:u}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:x}=Pf(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+h,c),o==="top"&&this.drawCaret(t,r,n,a),r.lineTo(l+d-f,c),r.quadraticCurveTo(l+d,c,l+d,c+f),o==="center"&&i==="right"&&this.drawCaret(t,r,n,a),r.lineTo(l+d,c+u-x),r.quadraticCurveTo(l+d,c+u,l+d-x,c+u),o==="bottom"&&this.drawCaret(t,r,n,a),r.lineTo(l+p,c+u),r.quadraticCurveTo(l,c+u,l,c+u-p),o==="center"&&i==="left"&&this.drawCaret(t,r,n,a),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=of[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=fA(this,t),c=Object.assign({},o,this._size),d=mA(r,t,c),u=pA(t,c,d,r);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Ws(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,a,r),$R(t,r.textDirection),i.y+=o.top,this.drawTitle(i,t,r),this.drawBody(i,t,r),this.drawFooter(i,t,r),LR(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const n=this._active,a=t.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!Bx(n,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(t,i,r,n),l=this._positionChanged(o,t),c=r||!Bx(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),c}_getActiveElements(t,r,n,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,r){const{caretX:n,caretY:a,options:i}=this,o=of[i.position].call(this,t,r);return o!==!1&&(n!==o.x||a!==o.y)}},ut(Hw,"positioners",of),Hw);var ote={id:"tooltip",_element:yA,positioners:of,afterInit(e,t,r){r&&(e.tooltip=new yA({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:i$},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const lte=(e,t,r,n)=>(typeof t=="string"?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function cte(e,t,r,n){const a=e.indexOf(t);if(a===-1)return lte(e,t,r,n);const i=e.lastIndexOf(t);return a!==i?r:a}const dte=(e,t)=>e===null?null:Ds(Math.round(e),0,t);function vA(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class v1 extends th{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:i}of r)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(Kt(t))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===t?r:cte(n,t,jt(r,t),this._addedLabels),dte(r,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const t=this.min,r=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=t===0&&r===i.length-1?i:i.slice(t,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=r;o++)a.push({value:o});return a}getLabelForValue(t){return vA.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ut(v1,"id","category"),ut(v1,"defaults",{ticks:{callback:vA}});function ute(e,t){const r=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=e,p=i||1,x=u-1,{min:m,max:g}=t,y=!Kt(o),j=!Kt(l),w=!Kt(d),b=(g-m)/(h+1);let N=y4((g-m)/x/p)*p,S,C,P,_;if(N<1e-14&&!y&&!j)return[{value:m},{value:g}];_=Math.ceil(g/N)-Math.floor(m/N),_>x&&(N=y4(_*N/x/p)*p),Kt(c)||(S=Math.pow(10,c),N=Math.ceil(N*S)/S),a==="ticks"?(C=Math.floor(m/N)*N,P=Math.ceil(g/N)*N):(C=m,P=g),y&&j&&i&&MQ((l-o)/i,N/1e3)?(_=Math.round(Math.min((l-o)/N,u)),N=(l-o)/_,C=o,P=l):w?(C=y?o:C,P=j?l:P,_=d-1,N=(P-C)/_):(_=(P-C)/N,Nf(_,Math.round(_),N/1e3)?_=Math.round(_):_=Math.ceil(_));const A=Math.max(v4(N),v4(C));S=Math.pow(10,Kt(c)?A:c),C=Math.round(C*S)/S,P=Math.round(P*S)/S;let k=0;for(y&&(f&&C!==o?(r.push({value:o}),C<o&&k++,Nf(Math.round((C+k*N)*S)/S,o,bA(o,b,e))&&k++):C<o&&k++);k<_;++k){const E=Math.round((C+k*N)*S)/S;if(j&&E>l)break;r.push({value:E})}return j&&f&&P!==l?r.length&&Nf(r[r.length-1].value,l,bA(l,b,e))?r[r.length-1].value=l:r.push({value:l}):(!j||P===l)&&r.push({value:P}),r}function bA(e,t,{horizontal:r,minRotation:n}){const a=Il(n),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class hte extends th{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return Kt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=r?a:c,l=c=>i=n?i:c;if(t){const c=iu(a),d=iu(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),t||o(a-c)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=t,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=ute(a,i);return t.bounds==="ticks"&&DQ(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const a=(n-r)/Math.max(t.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(t){return _R(t,this.chart.options.locale,this.options.ticks.format)}}class b1 extends hte{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=Cn(t)?t:0,this.max=Cn(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,n=Il(this.options.ticks.minRotation),a=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ut(b1,"id","linear"),ut(b1,"defaults",{ticks:{callback:AR.formatters.numeric}});const r0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vn=Object.keys(r0);function wA(e,t){return e-t}function jA(e,t){if(Kt(t))return null;const r=e._adapter,{parser:n,round:a,isoWeekday:i}=e._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),Cn(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(am(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function NA(e,t,r,n){const a=Vn.length;for(let i=Vn.indexOf(e);i<a-1;++i){const o=r0[Vn[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-t)/(l*o.size))<=n)return Vn[i]}return Vn[a-1]}function fte(e,t,r,n,a){for(let i=Vn.length-1;i>=Vn.indexOf(r);i--){const o=Vn[i];if(r0[o].common&&e._adapter.diff(a,n,o)>=t-1)return o}return Vn[r?Vn.indexOf(r):0]}function mte(e){for(let t=Vn.indexOf(e)+1,r=Vn.length;t<r;++t)if(r0[Vn[t]].common)return Vn[t]}function SA(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:n,hi:a}=rC(r,t),i=r[n]>=t?r[n]:r[a];e[i]=!0}}function pte(e,t,r,n){const a=e._adapter,i=+a.startOf(t[0].value,n),o=t[t.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,n))c=r[l],c>=0&&(t[c].major=!0);return t}function CA(e,t,r){const n=[],a={},i=t.length;let o,l;for(o=0;o<i;++o)l=t[o],a[l]=o,n.push({value:l,major:!1});return i===0||!r?n:pte(e,n,a,r)}class Gx extends th{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const n=t.time||(t.time={}),a=this._adapter=new lJ._date(t.adapters.date);a.init(r),jf(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:jA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,n=t.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Cn(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=Cn(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],n=t[t.length-1]),{min:r,max:n}}buildTicks(){const t=this.options,r=t.time,n=t.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=zQ(a,i,o);return this._unit=r.unit||(n.autoSkip?NA(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):fte(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:mte(this._unit),this.initOffsets(a),t.reverse&&l.reverse(),CA(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,n=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?r=1-a:r=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?n=i:n=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;r=Ds(r,0,o),n=Ds(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const t=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||NA(i.minUnit,r,n,this._getLabelCapacity(r)),l=jt(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=am(c)||c===!0,u={};let h=r,f,p;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":o),t.diff(n,r,o)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+o);const x=a.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<n;f=+t.add(f,l,o),p++)SA(u,f,x);return(f===n||a.bounds==="ticks"||p===1)&&SA(u,f,x),Object.keys(u).sort(wA).map(m=>+m)}getLabelForValue(t){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(t,n.tooltipFormat):r.format(t,n.displayFormats.datetime)}format(t,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(t,o)}_tickFormatFunction(t,r,n,a){const i=this.options,o=i.ticks.callback;if(o)return rr(o,[t,r,n],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=n[r],p=d&&h&&f&&f.major;return this._adapter.format(t,a||(p?h:u))}generateTickLabels(t){let r,n,a;for(r=0,n=t.length;r<n;++r)a=t[r],a.label=this._tickFormatFunction(a.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,n=this.ctx.measureText(t).width,a=Il(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(t){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(t,0,CA(this,[t],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],r,n;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)t=t.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,n;if(t.length)return t;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)t.push(jA(this,a[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return UQ(t.sort(wA))}}ut(Gx,"id","time"),ut(Gx,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function vg(e,t,r){let n=0,a=e.length-1,i,o,l,c;r?(t>=e[n].pos&&t<=e[a].pos&&({lo:n,hi:a}=Rl(e,"pos",t)),{pos:i,time:l}=e[n],{pos:o,time:c}=e[a]):(t>=e[n].time&&t<=e[a].time&&({lo:n,hi:a}=Rl(e,"time",t)),{time:i,pos:l}=e[n],{time:o,pos:c}=e[a]);const d=o-i;return d?l+(c-l)*(t-i)/d:l}class PA extends Gx{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=vg(r,this.min),this._tableRange=vg(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:n}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=t.length;o<l;++o)d=t[o],d>=r&&d<=n&&a.push(d);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const t=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?t=this.normalize(r.concat(n)):t=r.length?r:n,t=this._cache.all=t,t}getDecimalForValue(t){return(vg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return vg(this._table,n*this._tableRange+this._minPos,!0)}}ut(PA,"id","timeseries"),ut(PA,"defaults",Gx.defaults);const o$="label";function kA(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function gte(e,t){const r=e.options;r&&t&&Object.assign(r,t)}function l$(e,t){e.labels=t}function c$(e,t,r=o$){const n=[];e.datasets=t.map(a=>{const i=e.datasets.find(o=>o[r]===a[r]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function xte(e,t=o$){const r={labels:[],datasets:[]};return l$(r,e.labels),c$(r,e.datasets,t),r}function yte(e,t){const{height:r=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=e,p=v.useRef(null),x=v.useRef(null),m=()=>{p.current&&(x.current=new e0(p.current,{type:o,data:xte(l,i),options:c&&{...c},plugins:d}),kA(t,x.current))},g=()=>{kA(t,null),x.current&&(x.current.destroy(),x.current=null)};return v.useEffect(()=>{!a&&x.current&&c&&gte(x.current,c)},[a,c]),v.useEffect(()=>{!a&&x.current&&l$(x.current.config.data,l.labels)},[a,l.labels]),v.useEffect(()=>{!a&&x.current&&l.datasets&&c$(x.current.config.data,l.datasets,i)},[a,l.datasets]),v.useEffect(()=>{x.current&&(a?(g(),setTimeout(m)):x.current.update(h))},[a,c,l.labels,l.datasets,h]),v.useEffect(()=>{x.current&&(g(),setTimeout(m))},[o]),v.useEffect(()=>(m(),()=>g()),[]),s.jsx("canvas",{ref:p,role:"img",height:r,width:n,...f,children:u})}const vte=v.forwardRef(yte);function bte(e,t){return e0.register(t),v.forwardRef((r,n)=>s.jsx(vte,{...r,ref:n,type:e}))}const wte=bte("line",rx);e0.register(v1,b1,ax,Po,Jee,ote,Qee,Hee);const jte=({data:e,title:t="Analytics Overview",selectedMetrics:r,primaryColor:n="#3b82f6",secondaryColor:a="#64748b"})=>{const i=v.useRef(null),o={totalRevenue:{primary:"#3b82f6",gradient:"rgba(59, 130, 246, 0.1)",border:"#3b82f6",point:"#ffffff"},mainSiteRevenue:{primary:"#10b981",gradient:"rgba(16, 185, 129, 0.1)",border:"#10b981",point:"#ffffff"},whiteLabelRevenue:{primary:"#8b5cf6",gradient:"rgba(139, 92, 246, 0.1)",border:"#8b5cf6",point:"#ffffff"},organization:{primary:"#f59e0b",gradient:"rgba(245, 158, 11, 0.1)",border:"#f59e0b",point:"#ffffff"}};v.useEffect(()=>{const u=i.current;if(u){const h=u.ctx,f=u.chartArea;Object.keys(o).forEach(p=>{const x=o[p],m=h.createLinearGradient(0,f.top,0,f.bottom);m.addColorStop(0,x.gradient),m.addColorStop(1,"rgba(255, 255, 255, 0.01)"),u[`gradient_${p}`]=m}),u.update("none")}},[e]);const l=[];r.totalRevenue&&e.some(u=>u.totalRevenue!==void 0)&&l.push({label:"Total Revenue",data:e.map(u=>u.totalRevenue||0),borderColor:o.totalRevenue.primary,backgroundColor:u=>u.chart.gradient_totalRevenue||o.totalRevenue.gradient,borderWidth:3,pointBackgroundColor:o.totalRevenue.point,pointBorderColor:o.totalRevenue.primary,pointBorderWidth:3,pointRadius:6,pointHoverRadius:8,pointHoverBorderWidth:4,fill:!0,tension:.4,shadowOffsetX:0,shadowOffsetY:4,shadowBlur:10,shadowColor:"rgba(59, 130, 246, 0.3)"}),r.mainSiteRevenue&&e.some(u=>u.mainSiteRevenue!==void 0)&&l.push({label:"Main Site Revenue",data:e.map(u=>u.mainSiteRevenue||0),borderColor:o.mainSiteRevenue.primary,backgroundColor:u=>u.chart.gradient_mainSiteRevenue||o.mainSiteRevenue.gradient,borderWidth:3,pointBackgroundColor:o.mainSiteRevenue.point,pointBorderColor:o.mainSiteRevenue.primary,pointBorderWidth:3,pointRadius:6,pointHoverRadius:8,pointHoverBorderWidth:4,fill:!0,tension:.4}),r.whiteLabelRevenue&&e.some(u=>u.whiteLabelRevenue!==void 0)&&l.push({label:"White Label Revenue",data:e.map(u=>u.whiteLabelRevenue||0),borderColor:o.whiteLabelRevenue.primary,backgroundColor:u=>u.chart.gradient_whiteLabelRevenue||o.whiteLabelRevenue.gradient,borderWidth:3,pointBackgroundColor:o.whiteLabelRevenue.point,pointBorderColor:o.whiteLabelRevenue.primary,pointBorderWidth:3,pointRadius:6,pointHoverRadius:8,pointHoverBorderWidth:4,fill:!0,tension:.4}),r.organization&&e.some(u=>u.organization!==void 0)&&l.push({label:"Organizations",data:e.map(u=>u.organization||0),borderColor:o.organization.primary,backgroundColor:u=>u.chart.gradient_organization||o.organization.gradient,borderWidth:3,borderDash:[8,4],pointBackgroundColor:o.organization.point,pointBorderColor:o.organization.primary,pointBorderWidth:3,pointRadius:6,pointHoverRadius:8,pointHoverBorderWidth:4,fill:!0,tension:.4,yAxisID:"y1"});const c={labels:e.map(u=>u.month),datasets:l},d={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#374151",borderColor:"#e5e7eb",borderWidth:1,cornerRadius:12,displayColors:!0,padding:16,titleFont:{size:14,weight:"bold"},bodyFont:{size:13,weight:"500"},callbacks:{title:u=>`${u[0].label}`,label:u=>{const h=u.dataset.label||"",f=u.parsed.y;return h.includes("Revenue")?`${h}: $${f.toLocaleString()}`:`${h}: ${f}`}},filter:u=>u.parsed.y!==null}},scales:{x:{display:!0,grid:{display:!0,color:"rgba(148, 163, 184, 0.1)",lineWidth:1},ticks:{color:"#64748b",font:{size:12,weight:"600"},padding:8},border:{display:!0,color:"#cbd5e1",width:2}},y:{type:"linear",display:!0,position:"left",grid:{display:!0,color:"rgba(148, 163, 184, 0.1)",lineWidth:1},ticks:{color:"#64748b",font:{size:12,weight:"600"},padding:8,callback:function(u){return typeof u=="number"?"$"+u.toLocaleString():u}},border:{display:!0,color:"#cbd5e1",width:2}},y1:{type:"linear",display:r.organization,position:"right",grid:{drawOnChartArea:!1},ticks:{color:"#f59e0b",font:{size:12,weight:"600"},padding:8},border:{display:!0,color:"#f59e0b",width:2}}},elements:{point:{hoverBackgroundColor:"#ffffff",hoverBorderWidth:4},line:{borderCapStyle:"round",borderJoinStyle:"round"}},animation:{duration:1500,easing:"easeInOutQuart"}};return!e||e.length===0?s.jsxs(K,{className:"bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden backdrop-blur-sm",children:[s.jsx(re,{className:"bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg font-bold bg-gradient-to-r from-slate-700 to-slate-900 bg-clip-text text-transparent",children:t}),s.jsx("p",{className:"text-sm mt-1 opacity-80",style:{color:a},children:"Professional analytics visualization"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-2 w-2 bg-emerald-400 rounded-full animate-pulse shadow-lg"}),s.jsx("span",{className:"text-xs text-emerald-600 font-semibold",children:"Live Data"})]})]})}),s.jsx(G,{className:"p-8",children:s.jsx("div",{className:"h-80 flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 rounded-xl border border-slate-200 shadow-inner",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full blur-lg opacity-20 animate-pulse"}),s.jsx(Xr,{className:"h-12 w-12 mx-auto mb-3 relative z-10",style:{color:n}})]}),s.jsx("p",{className:"text-sm font-semibold",style:{color:a},children:"No data available"}),s.jsx("p",{className:"text-xs mt-1 opacity-70",style:{color:a},children:"Select metrics to view professional analytics"})]})})})]}):s.jsxs(K,{className:"bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden backdrop-blur-sm",children:[s.jsx(re,{className:"bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg shadow-lg",children:s.jsx(wn,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg font-bold bg-gradient-to-r from-slate-700 to-slate-900 bg-clip-text text-transparent",children:t}),s.jsx("p",{className:"text-sm mt-1 opacity-80",style:{color:a},children:"Professional Chart.js Analytics Dashboard"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(be,{variant:"outline",className:"bg-gradient-to-r from-emerald-50 to-emerald-100 border-emerald-200",children:[s.jsx(ha,{className:"h-3 w-3 mr-1 text-emerald-600"}),s.jsx("span",{className:"text-emerald-700 font-semibold",children:"Live"})]}),s.jsx("div",{className:"h-2 w-2 bg-emerald-400 rounded-full animate-pulse shadow-lg"})]})]})}),s.jsxs(G,{className:"p-6 bg-gradient-to-br from-white to-slate-50",children:[s.jsx("div",{className:"bg-gradient-to-br from-white via-slate-50 to-blue-50 rounded-xl border border-slate-200 shadow-inner p-4",children:s.jsx("div",{className:"h-80",children:s.jsx(wte,{ref:i,data:c,options:d})})}),s.jsx("div",{className:"flex flex-wrap gap-3 mt-6 justify-center bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl p-5 border border-slate-200 shadow-sm",children:l.map((u,h)=>{const f=Object.keys(o)[h],p=o[f];return s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white rounded-xl shadow-md border border-slate-200 hover:shadow-lg transition-all duration-200 hover:scale-105",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-2 rounded-full shadow-sm",style:{backgroundColor:p.primary,borderStyle:u.borderDash?"dashed":"solid",borderWidth:u.borderDash?"1px":"0px",borderColor:p.primary}}),s.jsx("div",{className:"w-3 h-3 rounded-full border-2 bg-white shadow-sm",style:{borderColor:p.primary}})]}),s.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-slate-700 to-slate-900 bg-clip-text text-transparent",children:u.label})]},u.label)})})]})]})},Nte=({primaryColor:e="#3b82f6",secondaryColor:t="#64748b"})=>{const[r,n]=v.useState({startDate:new Date(Date.now()-2592e6).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[a,i]=v.useState({revenue:!0,sales:!0,whiteLabels:!1}),[o,l]=v.useState({totalRevenue:!0,mainSiteRevenue:!1,whiteLabelRevenue:!1,organization:!1}),{data:c,isLoading:d,refetch:u}=ue({queryKey:["revenue-overview",r.startDate,r.endDate],queryFn:async()=>{const N=new URLSearchParams({startDate:r.startDate,endDate:r.endDate}),S=await fetch(`/api/super-admin/analytics/revenue-overview?${N}`);if(!S.ok)throw new Error("Failed to fetch revenue overview");return S.json()}}),{data:h,isLoading:f}=ue({queryKey:["white-label-metrics",r.startDate,r.endDate],queryFn:async()=>{const N=new URLSearchParams({startDate:r.startDate,endDate:r.endDate}),S=await fetch(`/api/super-admin/analytics/white-label-metrics?${N}`);if(!S.ok)throw new Error("Failed to fetch white label metrics");return S.json()}}),{data:p,isLoading:x}=ue({queryKey:["plan-performance",r.startDate,r.endDate],queryFn:async()=>{const N=new URLSearchParams({startDate:r.startDate,endDate:r.endDate}),S=await fetch(`/api/super-admin/analytics/plan-performance?${N}`);if(!S.ok)throw new Error("Failed to fetch plan performance");return S.json()}}),{data:m,isLoading:g}=ue({queryKey:["purchase-trends",r.startDate,r.endDate],queryFn:async()=>{const N=new URLSearchParams({startDate:r.startDate,endDate:r.endDate}),S=await fetch(`/api/super-admin/analytics/purchase-trends?${N}`);if(!S.ok)throw new Error("Failed to fetch purchase trends");return S.json()}}),{data:y=[],isLoading:j}=ue({queryKey:["/api/super-admin/white-labels"],queryFn:async()=>{const N=await fetch("/api/super-admin/white-labels");if(!N.ok)throw new Error("Failed to fetch white label clients");return N.json()}}),w=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(N);return d||f||x||g?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:e}}),s.jsx("p",{className:"ml-2",style:{color:t},children:"Loading comprehensive analytics..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"h-6 w-6",style:{color:e}}),s.jsx(ne,{className:"text-xl",children:"Comprehensive Analytics Dashboard"}),s.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-md border",children:"Real-time Data"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"h-4 w-4",style:{color:t}}),s.jsx("input",{type:"date",value:r.startDate,onChange:N=>n(S=>({...S,startDate:N.target.value})),className:"px-3 py-1 border rounded text-sm"}),s.jsx("span",{className:"text-sm",style:{color:t},children:"to"}),s.jsx("input",{type:"date",value:r.endDate,onChange:N=>n(S=>({...S,endDate:N.target.value})),className:"px-3 py-1 border rounded text-sm"})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>u(),className:"flex items-center gap-2",children:[s.jsx(El,{className:"h-4 w-4"}),"Refresh"]})]})]})}),s.jsx(G,{})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:t},children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold",children:w(((c==null?void 0:c.mainSiteRevenue.total)||0)+((c==null?void 0:c.whiteLabelRevenue.total)||0))}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsxs("p",{className:"text-sm",style:{color:e},children:[((c==null?void 0:c.mainSiteRevenue.sales)||0)+((c==null?void 0:c.whiteLabelRevenue.sales)||0)," total sales"]})})]}),s.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:`${e}20`},children:s.jsx(Tt,{className:"h-6 w-6",style:{color:e}})})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:t},children:"Main Site Revenue"}),s.jsx("p",{className:"text-2xl font-bold",children:w((c==null?void 0:c.mainSiteRevenue.total)||0)}),s.jsxs("p",{className:"text-sm text-green-600",children:[(c==null?void 0:c.mainSiteRevenue.sales)||0," sales"]})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(en,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:t},children:"White Label Revenue"}),s.jsx("p",{className:"text-2xl font-bold",children:w((c==null?void 0:c.whiteLabelRevenue.total)||0)}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsxs("p",{className:"text-sm text-purple-600",children:[(c==null?void 0:c.whiteLabelRevenue.sales)||0," sales"]})})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Fa,{className:"h-6 w-6 text-purple-600"})})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:t},children:"Organization"}),s.jsx("p",{className:"text-2xl font-bold",children:(y==null?void 0:y.filter(N=>{const S=new Date(N.createdAt),C=new Date(r.startDate),P=new Date(r.endDate);return S>=C&&S<=P}).length)||0}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsxs("p",{className:"text-sm text-blue-600",children:[(y==null?void 0:y.length)||0," All time"]})})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Fa,{className:"h-6 w-6 text-blue-600"})})]})})})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"h-5 w-5"}),"Analytics"]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[s.jsx("span",{className:"text-sm font-medium",style:{color:t},children:"Select metrics:"}),Object.entries({totalRevenue:"Total Revenue",mainSiteRevenue:"Main Site Revenue",whiteLabelRevenue:"White Label Revenue",organization:"Organization"}).map(([N,S])=>s.jsx("button",{onClick:()=>l(C=>({...C,[N]:!C[N]})),className:`px-3 py-1 rounded-full text-sm border transition-colors ${o[N]?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-600 hover:bg-gray-50"}`,children:S},N))]})]}),s.jsxs(G,{children:[(()=>{var P;const S=(()=>{const _=new Date(r.startDate),A=new Date(r.endDate),k=Math.abs(A.getTime()-_.getTime()),E=Math.ceil(k/(1e3*60*60*24));let L=[];if(E<=7)for(let F=0;F<=E;F++){const U=new Date(_);U.setDate(_.getDate()+F),L.push({label:U.toLocaleDateString("en-US",{month:"short",day:"numeric"}),date:U})}else if(E<=60){const F=Math.ceil(E/7);for(let U=0;U<F;U++){const W=new Date(_);W.setDate(_.getDate()+U*7),L.push({label:`Week ${U+1}`,date:W})}}else{const F=Math.ceil(E/30);for(let U=0;U<F;U++){const W=new Date(_);W.setMonth(_.getMonth()+U),L.push({label:W.toLocaleDateString("en-US",{month:"short"}),date:W})}}return L.slice(0,8)})(),C=[];if((P=c==null?void 0:c.monthlyTrend)!=null&&P.length&&S.length>1){const _=(c.mainSiteRevenue.total+c.whiteLabelRevenue.total)/S.length,A=c.mainSiteRevenue.total/S.length,k=c.whiteLabelRevenue.total/S.length;S.forEach((E,L)=>{const F=.8+Math.sin(L)*.4;C.push({month:E.label,totalRevenue:Math.round(_*F),mainSiteRevenue:Math.round(A*F),whiteLabelRevenue:Math.round(k*F),organization:0})})}else S.forEach((_,A)=>{const k=1e3+A*200,E=.8+Math.random()*.4;C.push({month:_.label,totalRevenue:Math.round(k*2*E),mainSiteRevenue:Math.round(k*E),whiteLabelRevenue:Math.round(k*E),organization:0})});return y!=null&&y.length?C.forEach((_,A)=>{const k=y.length,E=.7+A/C.length*.6;_.organization=Math.max(1,Math.round(k*E))}):C.forEach((_,A)=>{_.organization=Math.max(1,5+A*2)}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(jte,{data:C,title:"Analytics Overview",selectedMetrics:{totalRevenue:o.totalRevenue||!1,mainSiteRevenue:o.mainSiteRevenue||!1,whiteLabelRevenue:o.whiteLabelRevenue||!1,organization:o.organization||!1},primaryColor:e,secondaryColor:t}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm",style:{color:t},children:["Showing data from ",new Date(r.startDate).toLocaleDateString()," to ",new Date(r.endDate).toLocaleDateString()]})})]})})(),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.totalRevenue&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg text-center",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:w(((c==null?void 0:c.mainSiteRevenue.total)||0)+((c==null?void 0:c.whiteLabelRevenue.total)||0))}),s.jsx("div",{className:"text-sm",style:{color:t},children:"Total Revenue"})]}),o.mainSiteRevenue&&s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:w((c==null?void 0:c.mainSiteRevenue.total)||0)}),s.jsx("div",{className:"text-sm",style:{color:t},children:"Main Site Revenue"})]}),o.whiteLabelRevenue&&s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg text-center",children:[s.jsx("div",{className:"text-lg font-bold text-purple-600",children:w((c==null?void 0:c.whiteLabelRevenue.total)||0)}),s.jsx("div",{className:"text-sm",style:{color:t},children:"White Label Revenue"})]}),o.organization&&s.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg text-center",children:[s.jsx("div",{className:"text-lg font-bold text-amber-600",children:(y==null?void 0:y.length)||0}),s.jsx("div",{className:"text-sm",style:{color:t},children:"Total Organizations"})]})]}),!Object.values(o).some(Boolean)&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-sm",style:{color:t},children:"Select at least one metric to view analytics"})})]})]})]})};function Ste(){const[e,t]=v.useState(null),[r,n]=v.useState(!1),{primaryColor:a,secondaryColor:i}=Ur(),{data:o=[],isLoading:l}=ue({queryKey:["/api/super-admin/white-labels"],onSuccess:b=>{console.log(" WHITE LABEL CLIENTS DATA:",b),console.log(" WHITE LABEL CLIENTS COUNT:",(b==null?void 0:b.length)||0)},onError:b=>{console.error(" WHITE LABEL CLIENTS ERROR:",b)}}),{data:c=[],isLoading:d}=ue({queryKey:["/api/super-admin/main-site-plans"],onSuccess:b=>{console.log(" MAIN SITE PLANS DATA:",b),console.log(" MAIN SITE PLANS COUNT:",(b==null?void 0:b.length)||0)},onError:b=>{console.error(" MAIN SITE PLANS ERROR:",b)}}),{data:u=[],isLoading:h}=ue({queryKey:["/api/super-admin/plan-analytics"],onSuccess:b=>{console.log(" PLAN ANALYTICS DATA:",b),console.log(" PLAN ANALYTICS COUNT:",(b==null?void 0:b.length)||0),b&&b.length>0&&b.forEach((N,S)=>{console.log(`  Plan ${S+1}: "${N.planName}" - Sales: ${N.totalSales}, Revenue: $${N.totalRevenue}`)})},onError:b=>{console.error(" PLAN ANALYTICS ERROR:",b)}}),{data:f=[],isLoading:p}=ue({queryKey:["/api/super-admin/purchase-history"],onSuccess:b=>{console.log(" PURCHASE HISTORY DATA:",b),console.log(" PURCHASE HISTORY COUNT:",(b==null?void 0:b.length)||0),b&&b.length>0&&(console.log(" RECENT PURCHASES:"),b.slice(0,5).forEach((N,S)=>{console.log(`  Purchase ${S+1}: ${N.planName} - $${N.amount} by ${N.userEmail}`)}))},onError:b=>{console.error(" PURCHASE HISTORY ERROR:",b)}}),{data:x=[],isLoading:m}=ue({queryKey:[`/api/super-admin/plan-purchasers/${e}`],enabled:!!e,onSuccess:b=>{console.log(" PLAN PURCHASERS DATA for Plan ID",e,":",b),console.log(" PLAN PURCHASERS COUNT:",(b==null?void 0:b.length)||0),b&&b.length>0&&(console.log(" PURCHASERS LIST:"),b.forEach((N,S)=>{console.log(`  Purchaser ${S+1}: ${N.userEmail} - $${N.amount} (${N.userRole})`)}))},onError:b=>{console.error(" PLAN PURCHASERS ERROR for Plan ID",e,":",b)}});console.log(" PLAN ANALYTICS DEBUG - Plan Purchasers:",x,"Selected Plan ID:",e);const g=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(b),y=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});u.reduce((b,N)=>b+N.totalRevenue,0),u.reduce((b,N)=>b+N.totalSales,0),o.reduce((b,N)=>b+N.totalRevenue,0),o.filter(b=>b.totalPlans>0).length;const j=b=>{t(b),n(!0)},w=u.find(b=>b.planId===e);return l||d||h||p?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:a||"#3b82f6"}}),s.jsx("p",{className:"ml-2",style:{color:i||"#64748b"},children:"Loading platform analytics..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Nte,{primaryColor:a,secondaryColor:i}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-5 w-5"}),"White Label Clients"]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:o.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Fa,{className:"h-12 w-12 mx-auto mb-4",style:{color:i||"#9ca3af"}}),s.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:a||"#111827"},children:"No White Label Clients"}),s.jsx("p",{style:{color:i||"#64748b"},children:"White label clients will appear here once they sign up."})]}):o.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:`${i||"#f8fafc"}20`},children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-medium",style:{color:a||"#111827"},children:b.businessName}),b.totalPlans>0&&s.jsx(be,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Active"})]}),s.jsx("p",{className:"text-sm",style:{color:i||"#64748b"},children:b.userEmail}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",style:{color:i||"#6b7280"},children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nn,{className:"h-3 w-3"}),y(b.createdAt)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),b.totalPlans," plans"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ct,{className:"h-3 w-3"}),b.totalEndUsers," users"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold",style:{color:a||"#111827"},children:g(b.totalRevenue)}),s.jsx("div",{className:"text-sm",style:{color:i||"#64748b"},children:"Total Revenue"})]})]},b.id))})})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-5 w-5"}),"Recent Purchase History"]})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[[{id:1,planName:"Premium Plan",userEmail:"john.doe@example.com",createdAt:new Date().toISOString(),amount:99,isMainSitePlan:!0},{id:2,planName:"Professional Plan",userEmail:"jane.smith@company.com",createdAt:new Date(Date.now()-864e5).toISOString(),amount:199,isMainSitePlan:!1},{id:3,planName:"Enterprise Plan",userEmail:"mike.wilson@business.com",createdAt:new Date(Date.now()-1728e5).toISOString(),amount:299,isMainSitePlan:!0},{id:4,planName:"Starter Plan",userEmail:"sarah.johnson@startup.com",createdAt:new Date(Date.now()-2592e5).toISOString(),amount:49,isMainSitePlan:!1},{id:5,planName:"Business Plan",userEmail:"david.brown@corp.com",createdAt:new Date(Date.now()-3456e5).toISOString(),amount:149,isMainSitePlan:!0}].map(b=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${a||"#3b82f6"}20`},children:s.jsx(en,{className:"h-4 w-4",style:{color:a||"#3b82f6"}})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[b.planName," ",s.jsx("span",{className:"text-xs text-gray-500",children:"(Demo)"})]}),s.jsxs("p",{className:"text-sm",style:{color:i||"#64748b"},children:[b.userEmail,"  ",y(b.createdAt)]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold",children:g(b.amount)}),s.jsx(be,{variant:b.isMainSitePlan?"default":"secondary",className:"text-xs",children:b.isMainSitePlan?"Main Site":"White Label"})]})]},b.id)),s.jsx("div",{className:"text-center py-4 border-t",children:s.jsx("p",{className:"text-sm",style:{color:i||"#64748b"},children:"Connect as Super Admin to view real purchase data"})})]})})]})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"h-5 w-5"}),"Plan Analytics",s.jsx(be,{variant:"outline",className:"ml-2",children:"Main Site Plans Only"})]}),s.jsx("p",{className:"text-sm mt-1",style:{color:i||"#64748b"},children:"Track sales performance and buyer information for main site plans"})]}),s.jsx(G,{children:u.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Xr,{className:"h-12 w-12 mx-auto mb-4",style:{color:i||"#9ca3af"}}),s.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:a||"#111827"},children:"No Plan Sales Yet"}),s.jsx("p",{style:{color:i||"#64748b"},children:"Sales data for main site plans will appear here once purchases are made."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(b=>s.jsxs("div",{className:"bg-white border rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow cursor-pointer",style:{borderColor:`${a||"#e5e7eb"}40`,"&:hover":{borderColor:`${a||"#3b82f6"}60`}},onClick:()=>j(b.planId),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",style:{color:a||"#111827"},children:b.planName}),s.jsx("p",{className:"text-sm",style:{color:i||"#64748b"},children:"Click to view purchasers"})]}),s.jsx(vt,{className:"h-5 w-5",style:{color:i||"#9ca3af"}})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"p-3 rounded-lg text-center",style:{backgroundColor:`${a||"#3b82f6"}10`},children:[s.jsx("div",{className:"text-xl font-bold",style:{color:a||"#3b82f6"},children:g(b.totalRevenue)}),s.jsx("div",{className:"text-xs mt-1",style:{color:i||"#64748b"},children:"Total Revenue"})]}),s.jsxs("div",{className:"p-3 rounded-lg text-center",style:{backgroundColor:`${a||"#3b82f6"}10`},children:[s.jsx("div",{className:"text-xl font-bold",style:{color:a||"#3b82f6"},children:b.totalSales}),s.jsx("div",{className:"text-xs mt-1",style:{color:i||"#64748b"},children:"Total Sales"})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm",style:{color:i||"#64748b"},children:[s.jsx(wn,{className:"h-4 w-4"}),s.jsx("span",{children:"Performance:"})]}),s.jsx(be,{variant:b.totalRevenue>100?"default":b.totalRevenue>50?"secondary":"outline",className:b.totalRevenue>100?"bg-green-100 text-green-800":b.totalRevenue>50?"text-white":"text-gray-800",style:b.totalRevenue>50&&b.totalRevenue<=100?{backgroundColor:a||"#3b82f6"}:b.totalRevenue<=50?{backgroundColor:`${i||"#64748b"}20`,color:i||"#64748b"}:{},children:b.totalRevenue>100?"Excellent":b.totalRevenue>50?"Good":"Getting Started"})]}),s.jsx("div",{className:"text-sm",style:{color:i||"#6b7280"},children:b.totalSales>0?`$${(b.totalRevenue/b.totalSales).toFixed(2)} avg sale`:"No sales yet"})]})]},b.planId))})})]}),s.jsx(ar,{open:r,onOpenChange:n,children:s.jsxs(Yt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Xt,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-5 w-5"}),"Plan Purchasers: ",w==null?void 0:w.planName,s.jsxs(be,{variant:"outline",className:"ml-2",children:[x.length," purchasers"]})]})}),s.jsx("div",{className:"mt-4",children:m?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:a||"#3b82f6"}}),s.jsx("p",{className:"ml-2",style:{color:i||"#64748b"},children:"Loading purchasers..."})]}):x.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ct,{className:"h-12 w-12 mx-auto mb-4",style:{color:i||"#9ca3af"}}),s.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:a||"#111827"},children:"No Purchasers Yet"}),s.jsx("p",{style:{color:i||"#64748b"},children:"This plan hasn't been purchased yet."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",style:{color:a||"#3b82f6"},children:x.filter(b=>b.isWhiteLabelClient).length}),s.jsx("div",{className:"text-sm",style:{color:i||"#64748b"},children:"White Label Clients"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.filter(b=>b.isEndUser).length}),s.jsx("div",{className:"text-sm",style:{color:i||"#64748b"},children:"End Users"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:g(x.reduce((b,N)=>b+N.amount,0))}),s.jsx("div",{className:"text-sm",style:{color:i||"#64748b"},children:"Total Revenue"})]})})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",style:{borderColor:`${i||"#e5e7eb"}40`},children:[s.jsx("th",{className:"py-3 px-4 font-medium",style:{color:a||"#111827"},children:"Purchaser"}),s.jsx("th",{className:"py-3 px-4 font-medium",style:{color:a||"#111827"},children:"Type"}),s.jsx("th",{className:"py-3 px-4 font-medium",style:{color:a||"#111827"},children:"White Label"}),s.jsx("th",{className:"py-3 px-4 font-medium",style:{color:a||"#111827"},children:"Amount"}),s.jsx("th",{className:"py-3 px-4 font-medium",style:{color:a||"#111827"},children:"Date"})]})}),s.jsx("tbody",{children:x.map(b=>s.jsxs("tr",{className:"border-b hover:bg-opacity-50 transition-colors",style:{borderColor:`${i||"#f3f4f6"}60`,"&:hover":{backgroundColor:`${i||"#f8fafc"}30`}},children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",style:{color:a||"#111827"},children:b.userName||"Unknown User"}),s.jsx("div",{className:"text-sm",style:{color:i||"#64748b"},children:b.userEmail})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(be,{variant:b.isWhiteLabelClient?"default":"secondary",className:b.isWhiteLabelClient?"text-white":"text-gray-800",style:b.isWhiteLabelClient?{backgroundColor:a||"#3b82f6"}:{backgroundColor:`${i||"#64748b"}20`,color:i||"#64748b"},children:b.isWhiteLabelClient?"White Label Client":"End User"})}),s.jsx("td",{className:"py-3 px-4",children:b.whiteLabelBusinessName?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",style:{color:a||"#111827"},children:b.whiteLabelBusinessName}),s.jsxs("div",{className:"text-sm",style:{color:i||"#64748b"},children:["/",b.whiteLabelDomainPath]})]}):s.jsx("span",{style:{color:i||"#6b7280"},children:"Direct purchase"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"font-medium text-green-600",children:g(b.amount)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"text-gray-600",children:y(b.purchaseDate)})})]},b.id))})]})})]})})]})})]})}function Cte(){const{user:e,isAuthenticated:t,isLoading:r}=ft(),{toast:n}=Ct(),[a,i]=v.useState(!1);sessionStorage.getItem("selectedRole")||e!=null&&e.role,v.useEffect(()=>{if(!r&&!t){n({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{const l=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${l}`},500);return}},[t,r,n]);const{data:o}=ue({queryKey:["/api/dashboard/stats"]});return r||!t?s.jsx("div",{children:"Loading..."}):s.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[s.jsx(kr,{isMobileOpen:a,onMobileToggle:()=>i(!a)}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"lg:hidden bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>i(!0),className:"text-muted-foreground",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-card-foreground",children:"Platform Overview"}),s.jsx("div",{className:"w-10"})," "]}),s.jsx(Fr,{title:"Platform Overview",subtitle:"Comprehensive platform management and analytics"}),s.jsx("div",{className:"p-6",children:s.jsx(Ste,{})})]})]})}var Pte=v.createContext(void 0);function rh(e){const t=v.useContext(Pte);return e||t||"ltr"}var ow="rovingFocusGroup.onEntryFocus",kte={bubbles:!1,cancelable:!0},xp="RovingFocusGroup",[w1,d$,_te]=Mv(xp),[Ate,nh]=zr(xp,[_te]),[Ete,Tte]=Ate(xp),u$=v.forwardRef((e,t)=>s.jsx(w1.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(w1.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Ote,{...e,ref:t})})}));u$.displayName=xp;var Ote=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,f=v.useRef(null),p=et(t,f),x=rh(i),[m,g]=ga({prop:o,defaultProp:l??null,onChange:c,caller:xp}),[y,j]=v.useState(!1),w=gr(d),b=d$(r),N=v.useRef(!1),[S,C]=v.useState(0);return v.useEffect(()=>{const P=f.current;if(P)return P.addEventListener(ow,w),()=>P.removeEventListener(ow,w)},[w]),s.jsx(Ete,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:m,onItemFocus:v.useCallback(P=>g(P),[g]),onItemShiftTab:v.useCallback(()=>j(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:v.useCallback(()=>C(P=>P-1),[]),children:s.jsx(ze.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Ce(e.onMouseDown,()=>{N.current=!0}),onFocus:Ce(e.onFocus,P=>{const _=!N.current;if(P.target===P.currentTarget&&_&&!y){const A=new CustomEvent(ow,kte);if(P.currentTarget.dispatchEvent(A),!A.defaultPrevented){const k=b().filter(W=>W.focusable),E=k.find(W=>W.active),L=k.find(W=>W.id===m),U=[E,L,...k].filter(Boolean).map(W=>W.ref.current);m$(U,u)}}N.current=!1}),onBlur:Ce(e.onBlur,()=>j(!1))})})}),h$="RovingFocusGroupItem",f$=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=fa(),d=i||c,u=Tte(h$,r),h=u.currentTabStopId===d,f=d$(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:m}=u;return v.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),s.jsx(w1.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(ze.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Ce(e.onMouseDown,g=>{n?u.onItemFocus(d):g.preventDefault()}),onFocus:Ce(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ce(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=Ite(g,u.orientation,u.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=f().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const b=w.indexOf(g.currentTarget);w=u.loop?Rte(w,b+1):w.slice(b+1)}setTimeout(()=>m$(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:m!=null}):o})})});f$.displayName=h$;var Mte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dte(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ite(e,t,r){const n=Dte(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Mte[n]}function m$(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Rte(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var uC=u$,hC=f$,n0="Tabs",[$te]=zr(n0,[nh]),p$=nh(),[Lte,fC]=$te(n0),g$=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=rh(l),[h,f]=ga({prop:n,onChange:a,defaultProp:i??"",caller:n0});return s.jsx(Lte,{scope:r,baseId:fa(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:s.jsx(ze.div,{dir:u,"data-orientation":o,...d,ref:t})})});g$.displayName=n0;var x$="TabsList",y$=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=fC(x$,r),o=p$(r);return s.jsx(uC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(ze.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});y$.displayName=x$;var v$="TabsTrigger",b$=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=fC(v$,r),l=p$(r),c=N$(o.baseId,n),d=S$(o.baseId,n),u=n===o.value;return s.jsx(hC,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(ze.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ce(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Ce(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Ce(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(n)})})})});b$.displayName=v$;var w$="TabsContent",j$=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=fC(w$,r),c=N$(l.baseId,n),d=S$(l.baseId,n),u=n===l.value,h=v.useRef(u);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(Br,{present:a||u,children:({present:f})=>s.jsx(ze.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});j$.displayName=w$;function N$(e,t){return`${e}-trigger-${t}`}function S$(e,t){return`${e}-content-${t}`}var Fte=g$,C$=y$,P$=b$,k$=j$;const es=Fte,Mn=v.forwardRef(({className:e,...t},r)=>s.jsx(C$,{ref:r,className:De("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 dark:bg-gray-800 p-1 text-gray-600 dark:text-gray-400",e),...t}));Mn.displayName=C$.displayName;const Ge=v.forwardRef(({className:e,...t},r)=>s.jsx(P$,{ref:r,className:De("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white dark:ring-offset-gray-900 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 dark:focus-visible:ring-gray-600 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:text-gray-900 dark:data-[state=active]:text-gray-100 data-[state=active]:shadow-sm",e),...t}));Ge.displayName=P$.displayName;const Ye=v.forwardRef(({className:e,...t},r)=>s.jsx(k$,{ref:r,className:De("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ye.displayName=k$.displayName;const zte=lp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ba=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:De(zte({variant:t}),e),...r}));Ba.displayName="Alert";const Bte=v.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:De("mb-1 font-medium leading-none tracking-tight",e),...t}));Bte.displayName="AlertTitle";const Ua=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:De("text-sm [&_p]:leading-relaxed",e),...t}));Ua.displayName="AlertDescription";function Ute({selectedLandingPageId:e,onDomainAdded:t}){const{user:r}=ft(),{toast:n}=Ct(),a=Zt(),[i,o]=v.useState(""),[l,c]=v.useState(null),[d,u]=v.useState(!1),[h,f]=v.useState(!1),[p,x]=v.useState(""),[m,g]=v.useState(""),[y,j]=v.useState(!1);v.useEffect(()=>{(r==null?void 0:r.role)==="end_user"&&(console.log(" AFFILIATE USER DETECTED - Force refreshing data..."),a.invalidateQueries({queryKey:["/api/custom-domains"]}),a.invalidateQueries({queryKey:["/api/white-labels/my"]}),o(""))},[r==null?void 0:r.role,a]);const b=(()=>{const T=window.location.origin;return T.includes("replit.dev")||T.includes("localhost")?T:"http://whitelabelportal.com"})(),{data:N=[],isLoading:S,refetch:C}=ue({queryKey:["/api/custom-domains"],enabled:!!r,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0,gcTime:0});v.useEffect(()=>{console.log(" DOMAINS DATA CHANGED:",N),console.log(" DOMAINS LENGTH:",N==null?void 0:N.length),console.log(" USER ROLE:",r==null?void 0:r.role)},[N,r==null?void 0:r.role]);const{data:P,isLoading:_}=ue({queryKey:["/api/white-labels/my"],enabled:!!r,staleTime:0,gcTime:0}),A=S||_,k=Oe({mutationFn:async T=>(await Pe("/api/custom-domains","POST",{domain:T.toLowerCase(),landingPageId:e})).json(),onSuccess:T=>{n({title:"Domain Added",description:`${T.domain} has been added successfully. Please verify your domain.`}),a.invalidateQueries({queryKey:["/api/custom-domains"]}),g(""),j(!1),t==null||t(T)},onError:T=>{n({title:"Failed to Add Domain",description:T.message||"Please check the domain format and try again.",variant:"destructive"})}}),E=Oe({mutationFn:async({id:T,data:$})=>(await Pe(`/api/custom-domains/${T}`,"PUT",$)).json(),onSuccess:()=>{n({title:"Domain Updated",description:"Domain settings have been updated successfully."}),a.invalidateQueries({queryKey:["/api/custom-domains"]})}}),L=Oe({mutationFn:async T=>{await Pe(`/api/custom-domains/${T}`,"DELETE")},onSuccess:()=>{n({title:"Domain Deleted",description:"Custom domain has been removed successfully."}),a.invalidateQueries({queryKey:["/api/custom-domains"]})}}),F=Oe({mutationFn:async T=>(await Pe(`/api/custom-domains/${T}/verify`,"POST")).json(),onSuccess:()=>{n({title:"Domain Verified",description:"Your domain has been successfully verified and is now active."}),a.invalidateQueries({queryKey:["/api/custom-domains"]})},onError:T=>{n({title:"Verification Failed",description:T.message||"Please check your DNS settings and try again.",variant:"destructive"})}});Oe({mutationFn:async({domainPath:T,companyName:$})=>(await Pe("/api/create-default-landing-page","POST",{domainPath:T,companyName:$})).json(),onSuccess:T=>{n({title:"Default Page Created",description:`Professional landing page created and published at /${T.domainPath}`}),a.invalidateQueries({queryKey:["/api/landing-pages"]}),setShowDefaultPageDialog(!1),o(""),setCompanyName("")},onError:T=>{n({title:"Failed to Create Page",description:T.message||"Could not create default landing page.",variant:"destructive"})}});const U=T=>{navigator.clipboard.writeText(T),n({title:"Copied",description:"Copied to clipboard"})},W=T=>/^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?$/i.test(T),V=async T=>{if(!T){c(null);return}u(!0);try{const O=await(await Pe("/api/domain-paths/validate","POST",{domainPath:T})).json();O.available?O.message.includes("current domain")?c({available:!0,message:"This is your current domain"}):c({available:!0,message:"Domain path is available"}):c({available:!1,message:"Domain path already taken by other white-label client"})}catch{c({available:!1,message:"Error checking availability"})}finally{u(!1)}},D=Oe({mutationFn:async T=>{var R;console.log(" UPDATE MUTATION - path:",T,"user role:",r==null?void 0:r.role),console.log(" UPDATE MUTATION - domains data:",N),console.log(" UPDATE MUTATION - whiteLabelData:",P);let $;if((r==null?void 0:r.role)==="white_label_client"){const I=N==null?void 0:N.find(H=>H.isMainDomain);I?($=I.id,console.log(" White-label client - using main domain ID:",$)):($=-2,console.log(" White-label client - using fallback ID -2"))}else{const I=N==null?void 0:N.find(H=>H.isAffiliateDomain);I?($=I.id,console.log(" Affiliate - using domain ID:",$,"whiteLabelId:",I.whiteLabelId)):N&&N.length>0?($=N[0].id,console.log(" Affiliate - using first domain ID:",$)):($=-1,console.log(" Affiliate - using fallback ID -1"))}return console.log(" Final targetDomainId:",$),(await Pe(`/api/custom-domains/${$}`,"PUT",{domain:T,whiteLabelId:(R=N==null?void 0:N.find(I=>I.id===$))==null?void 0:R.whiteLabelId})).json()},onSuccess:T=>{n({title:"Domain Updated Successfully",description:`Your domain has been updated to "${T.domain}".`}),a.invalidateQueries({queryKey:["/api/custom-domains"]}),a.invalidateQueries({queryKey:["/api/white-labels/my"]}),a.invalidateQueries({queryKey:["/api/landing-pages"]}),f(!1)},onError:T=>{n({title:"Failed to Update Domain",description:T.message||"Please try again.",variant:"destructive"})}});return v.useEffect(()=>{if(!h){if(console.log(" Populating domain path - domains:",N,"whiteLabelData:",P),console.log(" User role:",r==null?void 0:r.role),(r==null?void 0:r.role)==="end_user"&&N&&N.length>0){console.log(" AFFILIATE USER - checking domains from API:",N),console.log(" RAW DOMAINS DATA:",JSON.stringify(N,null,2));const T=N[0];if(console.log(" FIRST DOMAIN from API:",T),T&&T.domain){console.log(" SETTING domain path to:",T.domain),o(T.domain),x(T.domain);return}console.error(" NO VALID DOMAINS FOUND for user",r.id),console.error("Available domains:",N);return}(r==null?void 0:r.role)==="white_label_client"&&P&&P.domainPath&&(console.log(" WHITE LABEL CLIENT - Setting domain path to:",P.domainPath),o(P.domainPath),x(P.domainPath))}},[N,P,h,r==null?void 0:r.role]),v.useEffect(()=>{const T=setTimeout(()=>{i&&V(i)},500);return()=>clearTimeout(T)},[i]),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vn,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Domain Management"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage custom domains and branded URLs for your landing pages"})]})]})}),s.jsxs(es,{defaultValue:"domain-paths",className:"w-full",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-2",children:[s.jsxs(Ge,{value:"domain-paths",className:"flex items-center space-x-2",children:[s.jsx(Fb,{className:"h-4 w-4"}),s.jsx("span",{children:"Domain"})]}),s.jsxs(Ge,{value:"custom-domains",className:"flex items-center space-x-2",children:[s.jsx(vn,{className:"h-4 w-4"}),s.jsx("span",{children:"Custom Domain"})]})]}),s.jsxs(Ye,{value:"custom-domains",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Connect your own domain to create a professional branded experience"}),s.jsxs(ar,{open:y,onOpenChange:j,children:[s.jsx(Yv,{asChild:!0,children:s.jsxs(M,{className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Add Domain"]})}),s.jsxs(Yt,{className:"sm:max-w-md",children:[s.jsxs(Xt,{children:[s.jsx(Qt,{children:"Add Custom Domain"}),s.jsx(gs,{children:"Enter your domain name to connect it to your landing page"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"domain",children:"Domain Name"}),s.jsx(J,{id:"domain",placeholder:"example.com",value:m,onChange:T=>g(T.target.value),className:"mt-1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter without www or https://"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(M,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsxs(M,{onClick:()=>{if(!W(m)){n({title:"Invalid Domain",description:"Please enter a valid domain name",variant:"destructive"});return}k.mutate(m)},disabled:!m||k.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[k.isPending?s.jsx(El,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Add Domain"]})]})]})]})]})]}),A?s.jsx("div",{className:"space-y-4",children:[...Array(2)].map((T,$)=>s.jsx(K,{className:"animate-pulse",children:s.jsxs(G,{className:"p-6",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},$))}):N.length===0?s.jsx(K,{children:s.jsxs(G,{className:"p-12 text-center",children:[s.jsx(vn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Custom Domains"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-sm mx-auto",children:"Add your own domain to create a professional branded experience for your landing pages"}),s.jsxs(M,{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Add Your First Domain"]})]})}):s.jsx("div",{className:"space-y-4",children:N.map(T=>s.jsxs(K,{className:"border-l-4 border-l-blue-500",children:[s.jsx(re,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(vn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg",children:T.domain}),s.jsxs(tt,{className:"flex items-center space-x-2",children:[s.jsxs("span",{children:["Added ",new Date(T.createdAt).toLocaleDateString()]}),T.landingPageId&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Connected to landing page"})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[T.isVerified?s.jsxs(be,{className:"bg-green-100 text-green-800 border-green-200",children:[s.jsx(Qr,{className:"h-3 w-3 mr-1"}),"Verified"]}):s.jsxs(be,{variant:"outline",className:"border-yellow-200 text-yellow-800",children:[s.jsx(Sd,{className:"h-3 w-3 mr-1"}),"Pending"]}),T.sslEnabled&&s.jsxs(be,{className:"bg-blue-100 text-blue-800 border-blue-200",children:[s.jsx(xr,{className:"h-3 w-3 mr-1"}),"SSL"]})]})]})}),s.jsxs(G,{className:"space-y-4",children:[!T.isVerified&&s.jsxs(Ba,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(Sd,{className:"h-4 w-4 text-yellow-600"}),s.jsxs(Ua,{className:"text-yellow-800",children:[s.jsx("strong",{children:"Domain verification required."})," Add the DNS records below to verify ownership."]})]}),s.jsxs(es,{defaultValue:"setup",className:"w-full",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-3",children:[s.jsx(Ge,{value:"setup",children:"DNS Setup"}),s.jsx(Ge,{value:"status",children:"Status"}),s.jsx(Ge,{value:"settings",children:"Settings"})]}),s.jsx(Ye,{value:"setup",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"1. Add DNS Records"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"A Record"}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>U("185.199.108.153"),children:s.jsx(qn,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Type:"})," A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Name:"})," @ (or leave blank)"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Value:"})," 185.199.108.153"]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"CNAME Record (www)"}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>U(T.domain),children:s.jsx(qn,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Type:"})," CNAME"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Name:"})," www"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Value:"})," ",T.domain]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"2. Verify Ownership"}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"TXT Record"}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>U(`whitelabel-verify=${T.verificationToken}`),children:s.jsx(qn,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Type:"})," TXT"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Name:"})," @ (or leave blank)"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Value:"})," whitelabel-verify=",T.verificationToken]})]})]})]})]})}),s.jsx(Ye,{value:"status",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fb,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:"DNS Status"})]}),s.jsx(be,{variant:T.isVerified?"default":"outline",children:T.isVerified?"Configured":"Pending"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xr,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:"SSL Certificate"})]}),s.jsx(be,{variant:T.sslEnabled?"default":"outline",children:T.sslEnabled?"Active":"Pending"})]})]})}),s.jsxs(Ye,{value:"settings",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Domain Status"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Enable or disable this domain"})]}),s.jsx(M,{size:"sm",variant:T.isActive?"outline":"default",onClick:()=>E.mutate({id:T.id,data:{isActive:!T.isActive}}),children:T.isActive?"Disable":"Enable"})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 border-t",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-red-600",children:"Delete Domain"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Permanently remove this domain"})]}),s.jsxs(M,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>{confirm(`Are you sure you want to delete ${T.domain}?`)&&L.mutate(T.id)},children:[s.jsx(Ui,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsx("div",{className:"flex items-center space-x-2",children:T.isVerified&&s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>window.open(`https://${T.domain}`,"_blank"),children:[s.jsx(Ir,{className:"h-3 w-3 mr-1"}),"Visit Site"]})}),s.jsx("div",{className:"flex items-center space-x-2",children:!T.isVerified&&s.jsxs(M,{size:"sm",onClick:()=>F.mutate(T.id),disabled:F.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[F.isPending?s.jsx(El,{className:"h-3 w-3 mr-1 animate-spin"}):s.jsx(Qr,{className:"h-3 w-3 mr-1"}),"Verify Domain"]})})]})]})]},T.id))})]}),s.jsx(Ye,{value:"domain-paths",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[P?s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ne,{className:"flex items-center space-x-2",children:[s.jsx(Fb,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{children:h?"Edit Domain":"Set Domain"})]}),s.jsx(tt,{children:h?"Update your client domain path":"Manage your client domain path"})]}),(P==null?void 0:P.domainPath)&&!h&&s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>{f(!0),x(P.domainPath||""),o(P.domainPath||"")},className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"domain-path",children:"Set Domain"}),s.jsxs("div",{className:"mt-1 flex items-center border rounded-md bg-white",children:[s.jsxs("div",{className:"flex items-center px-3 py-2 bg-gray-50 border-r text-sm font-mono text-gray-600",children:[s.jsx(cp,{className:"h-4 w-4 mr-2 text-gray-400"}),b,"/"]}),s.jsx("input",{id:"domain-path",type:"text",placeholder:"your-domain-path",value:h?i:(P==null?void 0:P.domainPath)||"",onChange:T=>{const $=T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");o($)},className:"flex-1 px-3 py-2 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset",disabled:!h}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>{const T=h?i:(P==null?void 0:P.domainPath)||"",$=`${b}/${T}`;navigator.clipboard.writeText($),n({title:"Copied!",description:"Domain URL copied to clipboard"})},className:"px-3 border-l",children:s.jsx(qn,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Base URL is locked. You can only edit your client's domain path portion."}),l&&s.jsxs("div",{className:`mt-2 text-sm flex items-center space-x-1 ${l.available?"text-green-600":"text-red-600"}`,children:[l.available?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Lr,{className:"h-4 w-4"}),s.jsx("span",{children:l.message})]}),d&&s.jsxs("div",{className:"mt-2 text-sm text-blue-600 flex items-center space-x-1",children:[s.jsx(El,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Checking availability..."})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[h?s.jsxs(s.Fragment,{children:[s.jsx(M,{variant:"outline",onClick:()=>{f(!1),o(p||""),c(null)},className:"flex-1",children:"Cancel"}),s.jsxs(M,{onClick:()=>{D.mutate(i)},disabled:!i||!(l!=null&&l.available)||D.isPending,className:"bg-blue-600 hover:bg-blue-700 flex-1",children:[D.isPending?s.jsx(El,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Qr,{className:"h-4 w-4 mr-2"}),"Update Domain"]})]}):s.jsxs(M,{onClick:()=>D.mutate(i),disabled:!i||!(l!=null&&l.available)||D.isPending,className:"bg-blue-600 hover:bg-blue-700 flex-1",children:[D.isPending?s.jsx(El,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Set Domain"]}),(P==null?void 0:P.domainPath)&&s.jsxs(M,{onClick:()=>{const T=`${b}/${P.domainPath}`;window.open(T,"_blank")},variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-50",children:[s.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Test Domain"]})]})]})]}):s.jsxs(Ba,{children:[s.jsx(Sd,{className:"h-4 w-4"}),s.jsx(Ua,{children:"Domain management not available. Please ensure you have proper access permissions."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(K,{children:[s.jsx(re,{className:"pb-3",children:s.jsxs(ne,{className:"text-sm flex items-center space-x-2",children:[s.jsx(Qo,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Quick Setup"})]})}),s.jsx(G,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Domain paths are instantly available - no DNS configuration required"})})]}),s.jsxs(K,{children:[s.jsx(re,{className:"pb-3",children:s.jsxs(ne,{className:"text-sm flex items-center space-x-2",children:[s.jsx(xr,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{children:"SSL Included"})]})}),s.jsx(G,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"All domain paths are automatically secured with SSL certificates"})})]})]})]})})]})]})}function _$({initialLandingPageId:e,onClose:t,isAffiliate:r=!1,parentWhiteLabelDomain:n}){const{user:a}=ft(),[i,o]=v.useState(!1),[l,c]=v.useState(null),[d,u]=v.useState("");v.useEffect(()=>{const $=O=>{if(console.log("Message received from iframe:",O.data),O.origin!==window.location.origin){console.log("Message from different origin, ignoring");return}if(O.data.type==="ELEMENT_CLICKED"){console.log("Element clicked in iframe:",O.data);const{elementType:R,fieldName:I,currentValue:H,position:he}=O.data;c({type:R,field:I,value:H,position:he}),u(H)}else if(O.data.type==="ELEMENT_UPDATED"){const{fieldName:R,newValue:I,elementType:H}=O.data;(H==="text"||H==="button")&&A(he=>({...he,text:{...he.text,[R]:I}})),c(null),u("")}};return window.addEventListener("message",$),()=>window.removeEventListener("message",$)},[]);const h=()=>{l&&(console.log(" Applying edit:",{type:l.type,field:l.field,oldValue:l.value,newValue:d}),l.type==="text"?A($=>{const O={...$,text:{...$.text,[l.field]:d}};return console.log(" Updated customizations:",O),O}):(l.type==="color"||l.type==="background")&&A($=>({...$,colors:{...$.colors,[l.field]:d}})),c(null),u(""))},f=()=>{c(null),u("")},{toast:p}=Ct(),x=Zt(),[m,g]=v.useState(!1),[y,j]=v.useState(e),[w,b]=v.useState(null),{data:N}=ue({queryKey:["/api/affiliate/parent-domain"],enabled:r&&!!(a!=null&&a.id)}),{data:S}=ue({queryKey:["/api/white-labels/my"],enabled:!!a&&a.role==="white_label_client"}),C=r&&(N!=null&&N.parentDomain)?N.parentDomain:n,{data:P=[]}=ue({queryKey:["/api/landing-pages"],enabled:!!a});v.useEffect(()=>{if(!y&&P.length>0&&a){const $=P[0];$&&$.id&&(j($.id),b($.id))}},[P,y,a]);const[_,A]=v.useState({text:{heroTitle:"Welcome to Our Platform",heroSubtitle:"Transform your business with our powerful tools",ctaButtonText:"Get Started",companyName:"Your Company"},colors:{primary:"#3b82f6",secondary:"#64748b",accent:"#f59e0b",buttonColor:"#3b82f6"}}),k=Oe({mutationFn:async()=>{const $={name:"New Landing Page",elements:[],settings:{canvasHeight:800,viewMode:"desktop",zoom:1}},O=y?`/api/landing-pages/${y}`:"/api/landing-pages",H=await(await Pe(O,y?"PUT":"POST",$)).json();return!y&&H.id&&(j(H.id),b(H.id)),H},onSuccess:()=>{p({title:"Landing Page Saved",description:"Your landing page has been saved successfully."}),x.invalidateQueries({queryKey:["/api/landing-pages"]})},onError:$=>{p({title:"Save Failed",description:"Failed to save landing page. Please try again.",variant:"destructive"})}}),E=Oe({mutationFn:async $=>(await Pe(`/api/landing-pages/${$}/set-default`,"POST")).json(),onSuccess:async $=>{p({title:"Set as Default Successfully!",description:`Your landing page is now live at: ${$.domainUrl||window.location.origin}/${$.domainPath}`}),x.invalidateQueries({queryKey:["/api/landing-pages"]}),x.invalidateQueries({queryKey:["/api/white-labels/my"]})}}),L=Oe({mutationFn:async $=>(await Pe(`/api/landing-pages/${$}/set-domain-page`,"POST")).json(),onSuccess:async $=>{p({title:"Domain Page Set Successfully!",description:`Your landing page is now live for ${C}`}),x.invalidateQueries({queryKey:["/api/landing-pages"]}),x.invalidateQueries({queryKey:["/api/white-labels/my"]})}}),F=Oe({mutationFn:async $=>(await Pe(`/api/landing-pages/${$}/set-page`,"POST")).json(),onSuccess:async $=>{p({title:"Page Deployed Successfully!",description:`Your landing page is now live at: ${$.domainUrl||window.location.origin}/${$.domainPath}`}),x.invalidateQueries({queryKey:["/api/landing-pages"]}),x.invalidateQueries({queryKey:["/api/white-labels/my"]})}}),U=Oe({mutationFn:async()=>(await Pe("/api/white-label-customizations","POST",_)).json(),onSuccess:()=>{p({title:"Customizations Saved",description:"Your white label customizations have been saved successfully."})},onError:$=>{p({title:"Save Failed",description:"Failed to save customizations. Please try again.",variant:"destructive"})}}),W=()=>{U.mutate()},V=async()=>{try{if(w)E.mutate(w);else{const $=await k.mutateAsync();$&&$.id?E.mutate($.id):p({title:"Error",description:"Could not get landing page ID to set as active landing page",variant:"destructive"})}}catch{p({title:"Error",description:"Failed to save landing page before setting as active",variant:"destructive"})}},D=async()=>{try{if(w)L.mutate(w);else{const $=await k.mutateAsync();$&&$.id?L.mutate($.id):p({title:"Error",description:"Could not get landing page ID to set as domain page",variant:"destructive"})}}catch{p({title:"Error",description:"Failed to save landing page before setting as domain page",variant:"destructive"})}},T=async()=>{try{if(w)F.mutate(w);else{const $=await k.mutateAsync();$&&$.id?F.mutate($.id):p({title:"Error",description:"Could not get landing page ID to set as page",variant:"destructive"})}}catch{p({title:"Error",description:"Failed to save landing page before setting as page",variant:"destructive"})}};return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"White Label Landing Page Builder"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[r?s.jsxs(s.Fragment,{children:[s.jsxs(M,{size:"sm",onClick:V,disabled:k.isPending||E.isPending,className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",title:"Set this page as the default landing page for your domain",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),E.isPending?"Setting Default...":"Set as Default"]}),s.jsxs(M,{size:"sm",onClick:D,disabled:k.isPending||L.isPending,className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",title:`Set this page as the default landing page for ${n?n.split(".")[0]:"your white-label client"}`,children:[s.jsx(vn,{className:"h-4 w-4 mr-2"}),L.isPending?"Setting...":`Set ${C?C.charAt(0).toUpperCase()+C.slice(1):"Client"} Page`]}),s.jsxs(M,{size:"sm",onClick:T,disabled:k.isPending||F.isPending,className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",title:"Deploy this page to your live domain",children:[s.jsx(Qo,{className:"h-4 w-4 mr-2"}),F.isPending?"Setting...":"Set Page"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(M,{size:"sm",onClick:V,disabled:k.isPending||E.isPending,className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",title:"Set this page as the default landing page for your domain",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),E.isPending?"Setting Default...":"Set as Default"]}),s.jsxs(M,{size:"sm",onClick:T,disabled:k.isPending||F.isPending,className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",title:"Deploy this page to your live domain",children:[s.jsx(Qo,{className:"h-4 w-4 mr-2"}),F.isPending?"Setting...":"Set Page"]})]}),s.jsxs(M,{size:"sm",variant:m?"default":"outline",onClick:()=>g(!m),className:m?"bg-blue-600 hover:bg-blue-700 text-white":"border-blue-200 text-blue-700 hover:bg-blue-50",children:[s.jsx(vn,{className:"h-4 w-4 mr-2"}),"Custom Domains"]}),w&&s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>window.open(`/landing/${w}`,"_blank"),className:"border-purple-200 text-purple-700 hover:bg-purple-50",children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"View Live Page"]}),s.jsxs(M,{onClick:W,disabled:U.isPending,className:"flex items-center gap-2",children:[s.jsx(ec,{className:"h-4 w-4"}),U.isPending?"Saving...":"Save Customizations"]})]})]}),s.jsxs("div",{className:"flex-1 flex",children:[s.jsx("div",{className:"w-80 border-r bg-gray-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-lg font-medium mb-2 flex items-center gap-2 text-blue-800",children:[s.jsx(Zr,{className:"h-5 w-5"}),"WYSIWYG Editor"]}),s.jsxs("div",{className:"text-sm text-blue-700 space-y-2",children:[s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Hover"})," over any text to see edit options"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Click"})," on text to edit inline"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Save Customizations"})," to persist changes"]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium mb-3 text-gray-800",children:"Current Text Values"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Hero Title:"}),s.jsx("p",{className:"text-gray-800 truncate",children:_.text.heroTitle||"Not set"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Hero Subtitle:"}),s.jsx("p",{className:"text-gray-800 truncate",children:_.text.heroSubtitle||"Not set"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"CTA Button:"}),s.jsx("p",{className:"text-gray-800 truncate",children:_.text.ctaButtonText||"Not set"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Company Name:"}),s.jsx("p",{className:"text-gray-800 truncate",children:_.text.companyName||"Not set"})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-medium mb-3 text-gray-800 flex items-center gap-2",children:[s.jsx(Xo,{className:"h-4 w-4"}),"Quick Colors"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"primaryColor",className:"text-xs",children:"Primary"}),s.jsx(J,{id:"primaryColor",type:"color",value:_.colors.primary,onChange:$=>A(O=>({...O,colors:{...O.colors,primary:$.target.value}})),className:"h-8 w-full"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"buttonColor",className:"text-xs",children:"Button"}),s.jsx(J,{id:"buttonColor",type:"color",value:_.colors.buttonColor,onChange:$=>A(O=>({...O,colors:{...O.colors,buttonColor:$.target.value}})),className:"h-8 w-full"})]})]})]})]})}),s.jsxs("div",{className:"flex-1 p-4 relative",children:[s.jsx("div",{className:"h-full border rounded-lg overflow-hidden relative",children:s.jsx("iframe",{src:`${(S==null?void 0:S.domainPath)||"/shoot"}?customizations=${encodeURIComponent(JSON.stringify(_))}&editMode=true${S!=null&&S.domainPath?`&domain=${encodeURIComponent(S.domainPath)}`:""}`,className:"w-full h-full border-0",title:"Landing Page Preview",onLoad:()=>{console.log(" Iframe loaded with customizations:",_),console.log(" Iframe src:",`${(S==null?void 0:S.domainPath)||"/shoot"}?customizations=${encodeURIComponent(JSON.stringify(_))}&editMode=true${S!=null&&S.domainPath?`&domain=${encodeURIComponent(S.domainPath)}`:""}`)}},`${JSON.stringify(_)}-true-${(S==null?void 0:S.domainPath)||""}`)}),l&&l.position&&s.jsxs("div",{className:"absolute bg-white border border-gray-300 rounded-lg shadow-lg p-4 z-20 min-w-64",style:{left:Math.min(l.position.x,window.innerWidth-300),top:Math.min(l.position.y,window.innerHeight-200)},children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium text-gray-900",children:["Edit ",l.type==="text"?"Text":"Color"]}),s.jsx(M,{size:"sm",variant:"ghost",onClick:f,className:"h-6 w-6 p-0",children:""})]}),l.type==="text"?s.jsx("div",{className:"space-y-3",children:s.jsx(J,{value:d,onChange:$=>u($.target.value),placeholder:"Enter text",className:"w-full",autoFocus:!0})}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(J,{type:"color",value:d,onChange:$=>u($.target.value),className:"w-full h-10"}),s.jsx(J,{value:d,onChange:$=>u($.target.value),placeholder:"Enter hex color",className:"w-full"})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(M,{size:"sm",onClick:h,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Apply"}),s.jsx(M,{size:"sm",variant:"outline",onClick:f,className:"flex-1",children:"Cancel"})]})]})]})]}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Custom Domain Management"}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(Ui,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-100px)]",children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-6",children:s.jsx(Ute,{selectedLandingPageId:y,onDomainAdded:$=>{p({title:"Domain Added",description:`Your custom domain has been added: ${$.domain}`})}})})})})]})})]})}const pr=v.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));pr.displayName="Textarea";function j1(){const{user:e,isAuthenticated:t,isLoading:r}=ft(),[n,a]=Pn(),{toast:i}=Ct(),[o,l]=v.useState(null),[c,d]=v.useState(!0),u=n.split("/")[1];v.useEffect(()=>{if(!r&&!t){i({title:"Authentication Required",description:"Please log in to access affiliate dashboard",variant:"destructive"}),a(`/api/login?domain=${u}&returnTo=${encodeURIComponent(n)}`);return}t&&e&&h()},[t,r,e,u,n,i,a]);const h=async()=>{try{d(!0);const A=await fetch(`/api/affiliate/dashboard?domain=${u}`);if(A.ok){const k=await A.json();l(k)}else l({stats:{totalReferrals:0,activeReferrals:0,totalCommissions:0,pendingCommissions:0},recentActivity:[],commissionHistory:[]})}catch(A){console.error("Error loading affiliate data:",A),l({stats:{totalReferrals:0,activeReferrals:0,totalCommissions:0,pendingCommissions:0},recentActivity:[],commissionHistory:[]})}finally{d(!1)}},{data:f=[],isLoading:p}=ue({queryKey:["/api/affiliate/referrals"],enabled:!!e&&t}),{data:x=[],isLoading:m}=ue({queryKey:["/api/affiliate/commissions"],enabled:!!e&&t}),{data:g=[],isLoading:y}=ue({queryKey:["/api/affiliate/plans"],enabled:!!e&&t}),{data:j=[],isLoading:w}=ue({queryKey:["/api/affiliate/notifications"],enabled:!!e&&t}),{data:b=[],isLoading:N}=ue({queryKey:["/api/affiliate/announcements"],enabled:!!e&&t}),S=(f==null?void 0:f.length)||0,C=(x==null?void 0:x.reduce((A,k)=>{var E;return A+(((E=k.metrics)==null?void 0:E.affiliateCommission)||0)},0))||0,P=(g==null?void 0:g.length)||0;x!=null&&x.reduce((A,k)=>{var E;return A+(((E=k.metrics)==null?void 0:E.totalPurchases)||0)},0);const _=()=>{const A=`${window.location.origin}/${u}?ref=${e==null?void 0:e.id}`;navigator.clipboard.writeText(A),i({title:"Link Copied!",description:"Your affiliate link has been copied to clipboard"})};return r||c?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading affiliate dashboard..."})]})}):t?s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4 sm:py-6",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white truncate",children:"Affiliate Dashboard"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 truncate",children:["Welcome back, ",(e==null?void 0:e.firstName)||(e==null?void 0:e.name)||(e==null?void 0:e.email)]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-shrink-0",children:[s.jsxs(M,{onClick:()=>window.open(`${window.location.origin}/${u}`,"_blank"),variant:"outline",size:"sm",className:"hidden sm:flex",children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Website"]}),s.jsx(M,{onClick:()=>window.open(`${window.location.origin}/${u}`,"_blank"),variant:"outline",size:"sm",className:"sm:hidden",children:s.jsx(Ea,{className:"w-4 h-4"})}),s.jsxs(M,{onClick:()=>window.location.href=`/api/logout?returnTo=${encodeURIComponent(window.location.origin+"/"+u)}`,variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 hidden sm:flex",children:[s.jsx(hc,{className:"w-4 h-4 mr-2"}),"Logout"]}),s.jsx(M,{onClick:()=>window.location.href=`/api/logout?returnTo=${encodeURIComponent(window.location.origin+"/"+u)}`,variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 sm:hidden",children:s.jsx(hc,{className:"w-4 h-4"})})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs(es,{defaultValue:"overview",className:"space-y-6",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Mn,{className:"grid w-full grid-cols-6 lg:grid-cols-6 md:grid-cols-3 sm:grid-cols-2 min-w-max",children:[s.jsx(Ge,{value:"overview",className:"text-xs sm:text-sm whitespace-nowrap",children:"Overview"}),s.jsx(Ge,{value:"plans",className:"text-xs sm:text-sm whitespace-nowrap",children:"Plans"}),s.jsx(Ge,{value:"referrals",className:"text-xs sm:text-sm whitespace-nowrap",children:"Referrals"}),s.jsx(Ge,{value:"commissions",className:"text-xs sm:text-sm whitespace-nowrap",children:"Commissions"}),s.jsx(Ge,{value:"announcements",className:"text-xs sm:text-sm whitespace-nowrap",children:"Announcements"}),s.jsx(Ge,{value:"landing-builder",className:"text-xs sm:text-sm whitespace-nowrap",children:"Page Builder"})]})}),s.jsxs(Ye,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Referrals"}),s.jsx(ct,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:S}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Users referred by you"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Commission"}),s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",C.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your total earnings"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Plans"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Plans you can promote"})]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"w-5 h-5"}),"Notifications"]}),s.jsx(tt,{children:"Latest updates from your white-label client"})]}),s.jsx(G,{children:w?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):j&&j.length>0?s.jsx("div",{className:"space-y-4",children:j.map((A,k)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[A.type==="announcement"&&s.jsx(Yo,{className:"w-5 h-5 text-blue-500"}),A.type==="signup"&&s.jsx(Ix,{className:"w-5 h-5 text-green-500"}),A.type==="purchase"&&s.jsx(en,{className:"w-5 h-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:A.message}),s.jsx("p",{className:"text-xs text-gray-500",children:A.time})]})]}),A.amount&&s.jsxs(be,{variant:"outline",children:["+$",A.amount]})]},k))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ms,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No notifications"}),s.jsx("p",{className:"text-sm text-gray-400",children:"You'll see updates here when your white-label client posts announcements, new users sign up, or purchases are made"})]})})]})]}),s.jsx(Ye,{value:"plans",className:"space-y-6",children:s.jsx(Wte,{domain:u})}),s.jsx(Ye,{value:"referrals",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:"Referral Tracking"}),s.jsx(tt,{children:"Users who joined through your landing page"})]}),s.jsx(G,{children:p?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f&&f.length>0?s.jsx("div",{className:"space-y-4",children:f.map((A,k)=>s.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-semibold text-lg",children:A.endUserEmail||"Unknown User"}),s.jsx(be,{variant:"default",className:"bg-green-100 text-green-800",children:"Customer"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",A.endUserEmail]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Name:"})," ",A.endUserFirstName&&A.endUserLastName?`${A.endUserFirstName} ${A.endUserLastName}`:"Name not provided"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Total Purchases:"})," ",A.totalPurchases||0]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Total Spent:"})," $",Number(A.totalSpent||0).toFixed(2)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Joined:"})," ",new Date(A.referralDate).toLocaleDateString()]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx(be,{variant:A.status==="active"?"default":"secondary",className:"ml-2",children:A.status})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",Number(A.totalCommissionEarned||0).toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Commission Earned"})]})]})},k))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ct,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No referrals yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Share your affiliate link to start earning"}),s.jsx(M,{onClick:_,className:"mt-4",children:"Get Your Affiliate Link"})]})})]})}),s.jsx(Ye,{value:"commissions",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:"Commission Earnings"}),s.jsx(tt,{children:"Track your commission earnings from total plans"})]}),s.jsx(G,{children:m?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):x&&x.length>0?s.jsx("div",{className:"space-y-4",children:x.map((A,k)=>{var E,L;return s.jsxs("div",{className:"border rounded-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:A.plan.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Plan Price: $",A.plan.monthlyPrice||"Contact for Pricing"]})]}),s.jsxs(be,{variant:"secondary",children:[A.plan.affiliateCommissionPercentage||0,"% Commission"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((E=A.metrics)==null?void 0:E.totalPurchases)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Purchases"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",(((L=A.metrics)==null?void 0:L.affiliateCommission)||0).toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Your Commission"})]})]})]},k)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No commission data available"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Make plans public to start earning commissions"})]})})]})}),s.jsx(Ye,{value:"announcements",className:"space-y-6",children:s.jsx(Vte,{domain:u})}),s.jsx(Ye,{value:"landing-builder",className:"space-y-6",children:s.jsx(_$,{isAffiliate:!0,parentWhiteLabelDomain:u,onClose:()=>a(`/${u}/affiliate`)})})]})})]}):null}function Wte({domain:e}){const{toast:t}=Ct(),r=Zt(),{data:n,isLoading:a,error:i}=ue({queryKey:["/api/affiliate/plans",e],queryFn:async()=>{const l=await fetch(`/api/affiliate/plans?domain=${e}`,{headers:{Referer:`${window.location.origin}/${e}/affiliate`}});if(!l.ok)throw new Error("Failed to fetch plans");return l.json()}}),o=Oe({mutationFn:async({planId:l,currentVisibility:c})=>{const d=await fetch(`/api/affiliate/plans/${l}/toggle-visibility`,{method:"POST",body:JSON.stringify({isVisible:!c}),headers:{"Content-Type":"application/json",Referer:`${window.location.origin}/${e}/affiliate`}});if(!d.ok)throw new Error("Failed to update plan visibility");return d.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/affiliate/plans",e]}),r.invalidateQueries({queryKey:["/api/affiliate/commissions",e]}),t({title:"Plan Visibility Updated",description:"Your plan visibility has been changed successfully"})},onError:l=>{console.error("Toggle visibility error:",l),t({title:"Error",description:"Failed to update plan visibility",variant:"destructive"})}});return a?s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:"White Label Client Plans"}),s.jsx(tt,{children:"Plans you can promote as an affiliate"})]}),s.jsx(G,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading plans..."})]})})]}):i?s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:"White Label Client Plans"}),s.jsx(tt,{children:"Plans you can promote as an affiliate"})]}),s.jsx(G,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ot,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),s.jsx("p",{className:"text-red-500",children:"Error loading plans"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Please try refreshing the page"})]})})]}):s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:"White Label Client Plans"}),s.jsx(tt,{children:"Plans you can promote as an affiliate"})]}),s.jsx(G,{children:n&&n.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(l=>{var c,d;return s.jsxs(K,{className:"h-full",children:[s.jsxs(re,{children:[s.jsx(ne,{className:"text-lg",children:l.name}),s.jsx(tt,{className:"text-sm",children:l.description||"No description available"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:l.monthlyPrice?`$${l.monthlyPrice}`:"Contact for Pricing"}),s.jsx("div",{className:"text-sm text-gray-500",children:l.monthlyPrice?"per month":""})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsxs(be,{variant:"outline",className:"text-xs",children:[s.jsx(Ot,{className:"w-3 h-3 mr-1"}),((c=l._count)==null?void 0:c.categories)||0," Categories"]}),s.jsxs(be,{variant:"outline",className:"text-xs",children:[s.jsx(en,{className:"w-3 h-3 mr-1"}),((d=l._count)==null?void 0:d.products)||0," Products"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(M,{onClick:()=>o.mutate({planId:l.id,currentVisibility:l.isVisible}),className:`w-full ${l.isVisible?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,disabled:o.isPending,children:[l.isVisible?s.jsx(vt,{className:"w-4 h-4 mr-2"}):s.jsx(ds,{className:"w-4 h-4 mr-2"}),l.isVisible?"Click To Private":"Click To Public"]}),s.jsxs(M,{onClick:()=>window.open(`/${e}?plan=${l.id}`,"_blank"),className:"w-full",children:[s.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Preview Plan"]})]})]})]},l.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ot,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No plans available"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Your white label client hasn't created any plans yet"})]})})]})}function Vte({domain:e}){ft();const{toast:t}=Ct(),r=Zt(),[n,a]=v.useState(null),[i,o]=v.useState(""),{data:l=[],isLoading:c}=ue({queryKey:["/api/affiliate/announcements",e],queryFn:async()=>{const x=await fetch(`/api/affiliate/announcements?domain=${e}`);if(!x.ok)throw new Error("Failed to fetch announcements");const m=await x.json();return console.log("Announcements data from API:",m),m},staleTime:0,cacheTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),{data:d=[]}=ue({queryKey:[`/api/announcements/${n==null?void 0:n.id}/comments`],enabled:!!n}),u=Oe({mutationFn:async x=>await Pe(`/api/announcements/${x}/like`,"POST"),onMutate:async x=>{await r.cancelQueries({queryKey:["/api/affiliate/announcements",e]});const m=r.getQueryData(["/api/affiliate/announcements",e]);return r.setQueryData(["/api/affiliate/announcements",e],g=>g==null?void 0:g.map(y=>y.id===x?{...y,userLiked:!y.userLiked,likesCount:y.userLiked?y.likesCount-1:y.likesCount+1}:y)),{previousAnnouncements:m}},onError:(x,m,g)=>{r.setQueryData(["/api/affiliate/announcements",e],g.previousAnnouncements),t({title:"Error",description:"Failed to like announcement",variant:"destructive"})},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/affiliate/announcements",e]})}}),h=Oe({mutationFn:async({announcementId:x,content:m})=>await Pe(`/api/announcements/${x}/comments`,"POST",{content:m}),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/announcements/${n==null?void 0:n.id}/comments`]}),o(""),t({title:"Success",description:"Comment added successfully"})},onError:x=>{t({title:"Error",description:"Failed to add comment",variant:"destructive"})}}),f=x=>{const m=`Check out this announcement: ${x.title}`,g=`${window.location.origin}/${e}/affiliate`;navigator.share?navigator.share({title:x.title,text:m,url:g}).catch(y=>{console.error("Error sharing:",y)}):navigator.clipboard.writeText(`${m}
${g}`).then(()=>{t({title:"Link Copied",description:"Announcement link copied to clipboard"})})},p=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return c?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center",children:[s.jsx(ms,{className:"w-5 h-5 mr-2 text-blue-600"}),"Announcements from ",e]}),s.jsx(tt,{children:"Stay updated with the latest news and updates from your white-label client"})]}),s.jsx(G,{children:l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ms,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No announcements available"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Your white-label client hasnt created any announcements yet"})]}):s.jsx("div",{className:"space-y-4",children:l.map(x=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx(ms,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:x.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:["by ",x.authorName,"  ",p(x.createdAt)]})]})]}),x.isPinned&&s.jsx(be,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Pinned"})]}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4 line-clamp-3",children:x.content}),x.attachments&&Array.isArray(x.attachments)&&x.attachments.length>0&&s.jsx("div",{className:"space-y-3 mb-4",children:x.attachments.map((m,g)=>{const y=m.type.startsWith("image/")||m.type==="image"||m.name.match(/\.(jpg|jpeg|png|gif|webp)$/i);return s.jsx("div",{className:"border rounded-lg overflow-hidden",children:y?s.jsx("img",{src:m.url,alt:m.name,className:"w-full max-h-96 object-contain bg-gray-50 dark:bg-gray-800",onError:j=>{const w=j.target;w.style.display="none";const b=w.parentElement;b&&(b.innerHTML=`
                                      <div class="p-4 flex items-center space-x-2">
                                        <span class="text-sm truncate">${m.name}</span>
                                      </div>
                                    `)}}):s.jsxs("div",{className:"p-4 flex items-center space-x-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm truncate",children:m.name})]})},g)})}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("button",{onClick:()=>u.mutate(x.id),className:`flex items-center space-x-2 transition-colors ${x.userLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,disabled:u.isPending,children:[s.jsx(em,{className:`w-4 h-4 ${x.userLiked?"fill-current":""}`}),s.jsx("span",{children:x.likesCount})]}),s.jsxs("button",{onClick:()=>a(x),className:"flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors",children:[s.jsx(Yo,{className:"w-4 h-4"}),s.jsx("span",{children:x.commentsCount})]}),s.jsxs("button",{onClick:()=>f(x),className:"flex items-center space-x-2 text-gray-500 hover:text-green-500 transition-colors",children:[s.jsx(fc,{className:"w-4 h-4"}),s.jsx("span",{children:x.sharesCount})]})]})})]},x.id))})})]}),s.jsx(ar,{open:!!n,onOpenChange:()=>a(null),children:s.jsxs(Yt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsx(Qt,{children:n==null?void 0:n.title}),s.jsxs(gs,{children:["by ",n==null?void 0:n.authorName,"  ",p(n==null?void 0:n.createdAt)]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"prose dark:prose-invert max-w-none",children:s.jsx("p",{children:n==null?void 0:n.content})}),s.jsxs("div",{className:"flex items-center space-x-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("button",{onClick:()=>u.mutate(n==null?void 0:n.id),className:`flex items-center space-x-2 transition-colors ${n!=null&&n.userLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,disabled:u.isPending,children:[s.jsx(em,{className:`w-5 h-5 ${n!=null&&n.userLiked?"fill-current":""}`}),s.jsxs("span",{children:[n==null?void 0:n.likesCount," Likes"]})]}),s.jsxs("button",{onClick:()=>f(n),className:"flex items-center space-x-2 text-gray-500 hover:text-green-500 transition-colors",children:[s.jsx(fc,{className:"w-5 h-5"}),s.jsx("span",{children:"Share"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-semibold",children:["Comments (",d.length,")"]}),s.jsx("div",{className:"flex space-x-3",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(pr,{placeholder:"Add a comment...",value:i,onChange:x=>o(x.target.value),className:"min-h-[80px]"}),s.jsx("div",{className:"flex justify-end",children:s.jsx(M,{onClick:()=>h.mutate({announcementId:n==null?void 0:n.id,content:i}),disabled:!i.trim()||h.isPending,size:"sm",children:"Add Comment"})})]})}),s.jsx("div",{className:"space-y-4",children:d.map(x=>{var m;return s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-medium",children:((m=x.authorName)==null?void 0:m.charAt(0))||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:x.authorName}),s.jsx("p",{className:"text-xs text-gray-500",children:p(x.createdAt)})]})]})}),s.jsx("p",{className:"text-sm",children:x.content})]},x.id)})})]})]})]})})]})}const Hte="modulepreload",qte=function(e){return"/"+e},_A={},mC=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=qte(c),c in _A)return;_A[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Hte,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Kte(e,t={}){const{primaryColor:r,secondaryColor:n}=t;switch(e){case"status-success":return"#10b981";case"status-warning":return"#f59e0b";case"status-error":return"#ef4444";case"status-info":return"#3b82f6";case"action-primary":return r||"#3b82f6";case"action-secondary":return n||"#64748b";case"action-destructive":return"#ef4444";case"navigation":return r||"#6366f1";case"financial":return"#10b981";case"user":return r||"#8b5cf6";case"content":return n||"#64748b";case"decorative":return"#9ca3af";case"neutral":default:return"#6b7280"}}const Gte={CheckCircle:"status-success",AlertCircle:"status-warning",XCircle:"status-error",Info:"status-info",AlertTriangle:"status-warning",Users:"user",User:"user",UserCheck:"user",UserX:"user",UserPlus:"user",DollarSign:"financial",CreditCard:"financial",Banknote:"financial",Coins:"financial",TrendingUp:"financial",TrendingDown:"financial",Home:"navigation",Menu:"navigation",ChevronLeft:"navigation",ChevronRight:"navigation",ArrowLeft:"navigation",ArrowRight:"navigation",Plus:"action-primary",Edit:"action-secondary",Trash:"action-destructive",Delete:"action-destructive",Save:"action-primary",Upload:"action-secondary",Download:"action-secondary",FileText:"content",File:"content",Image:"content",Video:"content",Mail:"content",MessageCircle:"content",Bell:"content",Search:"neutral",Filter:"neutral",Settings:"neutral",MoreHorizontal:"neutral",Calendar:"neutral",Clock:"neutral",Globe:"neutral",Shield:"neutral",Lock:"neutral",Eye:"neutral",EyeOff:"neutral",Building:"navigation",Building2:"navigation",Package:"content",ShoppingCart:"action-secondary",Activity:"status-info",BarChart:"content",BarChart3:"content",PieChart:"content"};function Yte(e,t={}){const r=Gte[e]||"neutral";return Kte(r,t)}function vr(e,t={}){return{color:Yte(e,t)}}function N1(e,[t,r]){return Math.min(r,Math.max(t,e))}function s0(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Xte=[" ","Enter","ArrowUp","ArrowDown"],Qte=[" ","Enter"],xc="Select",[a0,i0,Zte]=Mv(xc),[sh]=zr(xc,[Zte,ol]),o0=ol(),[Jte,ll]=sh(xc),[ere,tre]=sh(xc),A$=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:p,form:x}=e,m=o0(t),[g,y]=v.useState(null),[j,w]=v.useState(null),[b,N]=v.useState(!1),S=rh(d),[C,P]=ga({prop:n,defaultProp:a??!1,onChange:i,caller:xc}),[_,A]=ga({prop:o,defaultProp:l,onChange:c,caller:xc}),k=v.useRef(null),E=g?x||!!g.closest("form"):!0,[L,F]=v.useState(new Set),U=Array.from(L).map(W=>W.props.value).join(";");return s.jsx(LS,{...m,children:s.jsxs(Jte,{required:p,scope:t,trigger:g,onTriggerChange:y,valueNode:j,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:fa(),value:_,onValueChange:A,open:C,onOpenChange:P,dir:S,triggerPointerDownPosRef:k,disabled:f,children:[s.jsx(a0.Provider,{scope:t,children:s.jsx(ere,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(W=>{F(V=>new Set(V).add(W))},[]),onNativeOptionRemove:v.useCallback(W=>{F(V=>{const D=new Set(V);return D.delete(W),D})},[]),children:r})}),E?s.jsxs(J$,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:_,onChange:W=>A(W.target.value),disabled:f,form:x,children:[_===void 0?s.jsx("option",{value:""}):null,Array.from(L)]},U):null]})})};A$.displayName=xc;var E$="SelectTrigger",T$=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=o0(r),o=ll(E$,r),l=o.disabled||n,c=et(t,o.onTriggerChange),d=i0(r),u=v.useRef("touch"),[h,f,p]=tL(m=>{const g=d().filter(w=>!w.disabled),y=g.find(w=>w.value===o.value),j=rL(g,m,y);j!==void 0&&o.onValueChange(j.value)}),x=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(fp,{asChild:!0,...i,children:s.jsx(ze.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":eL(o.value)?"":void 0,...a,ref:c,onClick:Ce(a.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&x(m)}),onPointerDown:Ce(a.onPointerDown,m=>{u.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:Ce(a.onKeyDown,m=>{const g=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(g&&m.key===" ")&&Xte.includes(m.key)&&(x(),m.preventDefault())})})})});T$.displayName=E$;var O$="SelectValue",M$=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=ll(O$,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=et(t,c.onValueNodeChange);return jr(()=>{d(u)},[d,u]),s.jsx(ze.span,{...l,ref:h,style:{pointerEvents:"none"},children:eL(c.value)?s.jsx(s.Fragment,{children:o}):i})});M$.displayName=O$;var rre="SelectIcon",D$=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(ze.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});D$.displayName=rre;var nre="SelectPortal",I$=e=>s.jsx(Yu,{asChild:!0,...e});I$.displayName=nre;var yc="SelectContent",R$=v.forwardRef((e,t)=>{const r=ll(yc,e.__scopeSelect),[n,a]=v.useState();if(jr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?kc.createPortal(s.jsx($$,{scope:e.__scopeSelect,children:s.jsx(a0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(L$,{...e,ref:t})});R$.displayName=yc;var Qs=10,[$$,cl]=sh(yc),sre="SelectContentImpl",are=Ko("SelectContent.RemoveScroll"),L$=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:g,...y}=e,j=ll(yc,r),[w,b]=v.useState(null),[N,S]=v.useState(null),C=et(t,je=>b(je)),[P,_]=v.useState(null),[A,k]=v.useState(null),E=i0(r),[L,F]=v.useState(!1),U=v.useRef(!1);v.useEffect(()=>{if(w)return Kv(w)},[w]),Hv();const W=v.useCallback(je=>{const[xe,...pe]=E().map(B=>B.ref.current),[ye]=pe.slice(-1),X=document.activeElement;for(const B of je)if(B===X||(B==null||B.scrollIntoView({block:"nearest"}),B===xe&&N&&(N.scrollTop=0),B===ye&&N&&(N.scrollTop=N.scrollHeight),B==null||B.focus(),document.activeElement!==X))return},[E,N]),V=v.useCallback(()=>W([P,w]),[W,P,w]);v.useEffect(()=>{L&&V()},[L,V]);const{onOpenChange:D,triggerPointerDownPosRef:T}=j;v.useEffect(()=>{if(w){let je={x:0,y:0};const xe=ye=>{var X,B;je={x:Math.abs(Math.round(ye.pageX)-(((X=T.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((B=T.current)==null?void 0:B.y)??0))}},pe=ye=>{je.x<=10&&je.y<=10?ye.preventDefault():w.contains(ye.target)||D(!1),document.removeEventListener("pointermove",xe),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",pe,{capture:!0})}}},[w,D,T]),v.useEffect(()=>{const je=()=>D(!1);return window.addEventListener("blur",je),window.addEventListener("resize",je),()=>{window.removeEventListener("blur",je),window.removeEventListener("resize",je)}},[D]);const[$,O]=tL(je=>{const xe=E().filter(X=>!X.disabled),pe=xe.find(X=>X.ref.current===document.activeElement),ye=rL(xe,je,pe);ye&&setTimeout(()=>ye.ref.current.focus())}),R=v.useCallback((je,xe,pe)=>{const ye=!U.current&&!pe;(j.value!==void 0&&j.value===xe||ye)&&(_(je),ye&&(U.current=!0))},[j.value]),I=v.useCallback(()=>w==null?void 0:w.focus(),[w]),H=v.useCallback((je,xe,pe)=>{const ye=!U.current&&!pe;(j.value!==void 0&&j.value===xe||ye)&&k(je)},[j.value]),he=n==="popper"?S1:F$,ie=he===S1?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:g}:{};return s.jsx($$,{scope:r,content:w,viewport:N,onViewportChange:S,itemRefCallback:R,selectedItem:P,onItemLeave:I,itemTextRefCallback:H,focusSelectedItem:V,selectedItemText:A,position:n,isPositioned:L,searchRef:$,children:s.jsx(pp,{as:are,allowPinchZoom:!0,children:s.jsx(mp,{asChild:!0,trapped:j.open,onMountAutoFocus:je=>{je.preventDefault()},onUnmountAutoFocus:Ce(a,je=>{var xe;(xe=j.trigger)==null||xe.focus({preventScroll:!0}),je.preventDefault()}),children:s.jsx(_c,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:je=>je.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:s.jsx(he,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:je=>je.preventDefault(),...y,...ie,onPlaced:()=>F(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ce(y.onKeyDown,je=>{const xe=je.ctrlKey||je.altKey||je.metaKey;if(je.key==="Tab"&&je.preventDefault(),!xe&&je.key.length===1&&O(je.key),["ArrowUp","ArrowDown","Home","End"].includes(je.key)){let ye=E().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(je.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(je.key)){const X=je.target,B=ye.indexOf(X);ye=ye.slice(B+1)}setTimeout(()=>W(ye)),je.preventDefault()}})})})})})})});L$.displayName=sre;var ire="SelectItemAlignedPosition",F$=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ll(yc,r),o=cl(yc,r),[l,c]=v.useState(null),[d,u]=v.useState(null),h=et(t,C=>u(C)),f=i0(r),p=v.useRef(!1),x=v.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:j}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&m&&g&&y){const C=i.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(i.dir!=="rtl"){const X=A.left-P.left,B=_.left-X,ce=C.left-B,ve=C.width+ce,q=Math.max(ve,P.width),oe=window.innerWidth-Qs,le=N1(B,[Qs,Math.max(Qs,oe-q)]);l.style.minWidth=ve+"px",l.style.left=le+"px"}else{const X=P.right-A.right,B=window.innerWidth-_.right-X,ce=window.innerWidth-C.right-B,ve=C.width+ce,q=Math.max(ve,P.width),oe=window.innerWidth-Qs,le=N1(B,[Qs,Math.max(Qs,oe-q)]);l.style.minWidth=ve+"px",l.style.right=le+"px"}const k=f(),E=window.innerHeight-Qs*2,L=m.scrollHeight,F=window.getComputedStyle(d),U=parseInt(F.borderTopWidth,10),W=parseInt(F.paddingTop,10),V=parseInt(F.borderBottomWidth,10),D=parseInt(F.paddingBottom,10),T=U+W+L+D+V,$=Math.min(g.offsetHeight*5,T),O=window.getComputedStyle(m),R=parseInt(O.paddingTop,10),I=parseInt(O.paddingBottom,10),H=C.top+C.height/2-Qs,he=E-H,ie=g.offsetHeight/2,je=g.offsetTop+ie,xe=U+W+je,pe=T-xe;if(xe<=H){const X=k.length>0&&g===k[k.length-1].ref.current;l.style.bottom="0px";const B=d.clientHeight-m.offsetTop-m.offsetHeight,ce=Math.max(he,ie+(X?I:0)+B+V),ve=xe+ce;l.style.height=ve+"px"}else{const X=k.length>0&&g===k[0].ref.current;l.style.top="0px";const ce=Math.max(H,U+m.offsetTop+(X?R:0)+ie)+pe;l.style.height=ce+"px",m.scrollTop=xe-H+m.offsetTop}l.style.margin=`${Qs}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,l,d,m,g,y,i.dir,n]);jr(()=>w(),[w]);const[b,N]=v.useState();jr(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const S=v.useCallback(C=>{C&&x.current===!0&&(w(),j==null||j(),x.current=!1)},[w,j]);return s.jsx(lre,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:s.jsx(ze.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});F$.displayName=ire;var ore="SelectPopperPosition",S1=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Qs,...i}=e,o=o0(r);return s.jsx(Bv,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});S1.displayName=ore;var[lre,pC]=sh(yc,{}),C1="SelectViewport",z$=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=cl(C1,r),o=pC(C1,r),l=et(t,i.onViewportChange),c=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(a0.Slot,{scope:r,children:s.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ce(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const x=window.innerHeight-Qs*2,m=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),y=Math.max(m,g);if(y<x){const j=y+p,w=Math.min(x,j),b=j-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});z$.displayName=C1;var B$="SelectGroup",[cre,dre]=sh(B$),ure=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=fa();return s.jsx(cre,{scope:r,id:a,children:s.jsx(ze.div,{role:"group","aria-labelledby":a,...n,ref:t})})});ure.displayName=B$;var U$="SelectLabel",W$=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=dre(U$,r);return s.jsx(ze.div,{id:a.id,...n,ref:t})});W$.displayName=U$;var Yx="SelectItem",[hre,V$]=sh(Yx),H$=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=ll(Yx,r),c=cl(Yx,r),d=l.value===n,[u,h]=v.useState(i??""),[f,p]=v.useState(!1),x=et(t,j=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,j,n,a)}),m=fa(),g=v.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(hre,{scope:r,value:n,disabled:a,textId:m,isSelected:d,onItemTextChange:v.useCallback(j=>{h(w=>w||((j==null?void 0:j.textContent)??"").trim())},[]),children:s.jsx(a0.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(ze.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:Ce(o.onFocus,()=>p(!0)),onBlur:Ce(o.onBlur,()=>p(!1)),onClick:Ce(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:Ce(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:Ce(o.onPointerDown,j=>{g.current=j.pointerType}),onPointerMove:Ce(o.onPointerMove,j=>{var w;g.current=j.pointerType,a?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,j=>{var w;j.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ce(o.onKeyDown,j=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&j.key===" "||(Qte.includes(j.key)&&y(),j.key===" "&&j.preventDefault())})})})})});H$.displayName=Yx;var lf="SelectItemText",q$=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=ll(lf,r),l=cl(lf,r),c=V$(lf,r),d=tre(lf,r),[u,h]=v.useState(null),f=et(t,y=>h(y),c.onItemTextChange,y=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,y,c.value,c.disabled)}),p=u==null?void 0:u.textContent,x=v.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=d;return jr(()=>(m(x),()=>g(x)),[m,g,x]),s.jsxs(s.Fragment,{children:[s.jsx(ze.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?kc.createPortal(i.children,o.valueNode):null]})});q$.displayName=lf;var K$="SelectItemIndicator",G$=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return V$(K$,r).isSelected?s.jsx(ze.span,{"aria-hidden":!0,...n,ref:t}):null});G$.displayName=K$;var P1="SelectScrollUpButton",Y$=v.forwardRef((e,t)=>{const r=cl(P1,e.__scopeSelect),n=pC(P1,e.__scopeSelect),[a,i]=v.useState(!1),o=et(t,n.onScrollButtonChange);return jr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Q$,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Y$.displayName=P1;var k1="SelectScrollDownButton",X$=v.forwardRef((e,t)=>{const r=cl(k1,e.__scopeSelect),n=pC(k1,e.__scopeSelect),[a,i]=v.useState(!1),o=et(t,n.onScrollButtonChange);return jr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Q$,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});X$.displayName=k1;var Q$=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=cl("SelectScrollButton",r),o=v.useRef(null),l=i0(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),jr(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(ze.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ce(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ce(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ce(a.onPointerLeave,()=>{c()})})}),fre="SelectSeparator",Z$=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(ze.div,{"aria-hidden":!0,...n,ref:t})});Z$.displayName=fre;var _1="SelectArrow",mre=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=o0(r),i=ll(_1,r),o=cl(_1,r);return i.open&&o.position==="popper"?s.jsx(Uv,{...a,...n,ref:t}):null});mre.displayName=_1;var pre="SelectBubbleInput",J$=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=v.useRef(null),i=et(n,a),o=s0(t);return v.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(ze.select,{...r,style:{...fD,...r.style},ref:i,defaultValue:t})});J$.displayName=pre;function eL(e){return e===""||e===void 0}function tL(e){const t=gr(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function rL(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=gre(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function gre(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var xre=A$,nL=T$,yre=M$,vre=D$,bre=I$,sL=R$,wre=z$,aL=W$,iL=H$,jre=q$,Nre=G$,oL=Y$,lL=X$,cL=Z$;const an=xre,on=yre,Gr=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(nL,{ref:n,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(vre,{asChild:!0,children:s.jsx(qa,{className:"h-4 w-4 opacity-50"})})]}));Gr.displayName=nL.displayName;const dL=v.forwardRef(({className:e,...t},r)=>s.jsx(oL,{ref:r,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ID,{className:"h-4 w-4"})}));dL.displayName=oL.displayName;const uL=v.forwardRef(({className:e,...t},r)=>s.jsx(lL,{ref:r,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(qa,{className:"h-4 w-4"})}));uL.displayName=lL.displayName;const Yr=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(bre,{children:s.jsxs(sL,{ref:a,className:De("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(dL,{}),s.jsx(wre,{className:De("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(uL,{})]})}));Yr.displayName=sL.displayName;const Sre=v.forwardRef(({className:e,...t},r)=>s.jsx(aL,{ref:r,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Sre.displayName=aL.displayName;const Ae=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(iL,{ref:n,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Nre,{children:s.jsx(Qr,{className:"h-4 w-4"})})}),s.jsx(jre,{children:t})]}));Ae.displayName=iL.displayName;const Cre=v.forwardRef(({className:e,...t},r)=>s.jsx(cL,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",e),...t}));Cre.displayName=cL.displayName;var yp={},Pre=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},hL={},ws={};let gC;const kre=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ws.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};ws.getSymbolTotalCodewords=function(t){return kre[t]};ws.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};ws.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');gC=t};ws.isKanjiModeEnabled=function(){return typeof gC<"u"};ws.toSJIS=function(t){return gC(t)};var l0={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,a){if(e.isValid(n))return n;try{return t(n)}catch{return a}}})(l0);function fL(){this.buffer=[],this.length=0}fL.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var _re=fL;function vp(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}vp.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)};vp.prototype.get=function(e,t){return this.data[e*this.size+t]};vp.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};vp.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Are=vp,mL={};(function(e){const t=ws.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,i=t(n),o=i===145?26:Math.ceil((i-13)/(2*a-2))*2,l=[i-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(n){const a=[],i=e.getRowColCoords(n),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||a.push([i[l],i[c]]);return a}})(mL);var pL={};const Ere=ws.getSymbolSize,AA=7;pL.getPositions=function(t){const r=Ere(t);return[[0,0],[r-AA,0],[0,r-AA]]};var gL={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const i=a.size;let o=0,l=0,c=0,d=null,u=null;for(let h=0;h<i;h++){l=c=0,d=u=null;for(let f=0;f<i;f++){let p=a.get(h,f);p===d?l++:(l>=5&&(o+=t.N1+(l-5)),d=p,l=1),p=a.get(f,h),p===u?c++:(c>=5&&(o+=t.N1+(c-5)),u=p,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(a){const i=a.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const d=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(d===4||d===0)&&o++}return o*t.N2},e.getPenaltyN3=function(a){const i=a.size;let o=0,l=0,c=0;for(let d=0;d<i;d++){l=c=0;for(let u=0;u<i;u++)l=l<<1&2047|a.get(d,u),u>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|a.get(u,d),u>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(a){let i=0;const o=a.data.length;for(let c=0;c<o;c++)i+=a.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function r(n,a,i){switch(n){case e.Patterns.PATTERN000:return(a+i)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(a+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return a*i%2+a*i%3===0;case e.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case e.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(a,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,r(a,c,l))},e.getBestMask=function(a,i){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let d=0;d<o;d++){i(d),e.applyMask(d,a);const u=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(d,a),u<c&&(c=u,l=d)}return l}})(gL);var c0={};const ko=l0,bg=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],wg=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];c0.getBlocksCount=function(t,r){switch(r){case ko.L:return bg[(t-1)*4+0];case ko.M:return bg[(t-1)*4+1];case ko.Q:return bg[(t-1)*4+2];case ko.H:return bg[(t-1)*4+3];default:return}};c0.getTotalCodewordsCount=function(t,r){switch(r){case ko.L:return wg[(t-1)*4+0];case ko.M:return wg[(t-1)*4+1];case ko.Q:return wg[(t-1)*4+2];case ko.H:return wg[(t-1)*4+3];default:return}};var xL={},d0={};const _f=new Uint8Array(512),Xx=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)_f[r]=t,Xx[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)_f[r]=_f[r-255]})();d0.log=function(t){if(t<1)throw new Error("log("+t+")");return Xx[t]};d0.exp=function(t){return _f[t]};d0.mul=function(t,r){return t===0||r===0?0:_f[Xx[t]+Xx[r]]};(function(e){const t=d0;e.mul=function(n,a){const i=new Uint8Array(n.length+a.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<a.length;l++)i[o+l]^=t.mul(n[o],a[l]);return i},e.mod=function(n,a){let i=new Uint8Array(n);for(;i.length-a.length>=0;){const o=i[0];for(let c=0;c<a.length;c++)i[c]^=t.mul(a[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let i=0;i<n;i++)a=e.mul(a,new Uint8Array([1,t.exp(i)]));return a}})(xL);const yL=xL;function xC(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}xC.prototype.initialize=function(t){this.degree=t,this.genPoly=yL.generateECPolynomial(this.degree)};xC.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=yL.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const i=new Uint8Array(this.degree);return i.set(n,a),i}return n};var Tre=xC,vL={},dl={},yC={};yC.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Qa={};const bL="[0-9]+",Ore="[A-Z $%*+\\-./:]+";let cm="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";cm=cm.replace(/u/g,"\\u");const Mre="(?:(?![A-Z0-9 $%*+\\-./:]|"+cm+`)(?:.|[\r
]))+`;Qa.KANJI=new RegExp(cm,"g");Qa.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Qa.BYTE=new RegExp(Mre,"g");Qa.NUMERIC=new RegExp(bL,"g");Qa.ALPHANUMERIC=new RegExp(Ore,"g");const Dre=new RegExp("^"+cm+"$"),Ire=new RegExp("^"+bL+"$"),Rre=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Qa.testKanji=function(t){return Dre.test(t)};Qa.testNumeric=function(t){return Ire.test(t)};Qa.testAlphanumeric=function(t){return Rre.test(t)};(function(e){const t=yC,r=Qa;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(i,o){if(e.isValid(i))return i;try{return n(i)}catch{return o}}})(dl);(function(e){const t=ws,r=c0,n=l0,a=dl,i=yC,o=7973,l=t.getBCHDigit(o);function c(f,p,x){for(let m=1;m<=40;m++)if(p<=e.getCapacity(m,x,f))return m}function d(f,p){return a.getCharCountIndicator(f,p)+4}function u(f,p){let x=0;return f.forEach(function(m){const g=d(m.mode,p);x+=g+m.getBitsLength()}),x}function h(f,p){for(let x=1;x<=40;x++)if(u(f,x)<=e.getCapacity(x,p,a.MIXED))return x}e.from=function(p,x){return i.isValid(p)?parseInt(p,10):x},e.getCapacity=function(p,x,m){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=a.BYTE);const g=t.getSymbolTotalCodewords(p),y=r.getTotalCodewordsCount(p,x),j=(g-y)*8;if(m===a.MIXED)return j;const w=j-d(m,p);switch(m){case a.NUMERIC:return Math.floor(w/10*3);case a.ALPHANUMERIC:return Math.floor(w/11*2);case a.KANJI:return Math.floor(w/13);case a.BYTE:default:return Math.floor(w/8)}},e.getBestVersionForData=function(p,x){let m;const g=n.from(x,n.M);if(Array.isArray(p)){if(p.length>1)return h(p,g);if(p.length===0)return 1;m=p[0]}else m=p;return c(m.mode,m.getLength(),g)},e.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let x=p<<12;for(;t.getBCHDigit(x)-l>=0;)x^=o<<t.getBCHDigit(x)-l;return p<<12|x}})(vL);var wL={};const A1=ws,jL=1335,$re=21522,EA=A1.getBCHDigit(jL);wL.getEncodedBits=function(t,r){const n=t.bit<<3|r;let a=n<<10;for(;A1.getBCHDigit(a)-EA>=0;)a^=jL<<A1.getBCHDigit(a)-EA;return(n<<10|a)^$re};var NL={};const Lre=dl;function cu(e){this.mode=Lre.NUMERIC,this.data=e.toString()}cu.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};cu.prototype.getLength=function(){return this.data.length};cu.prototype.getBitsLength=function(){return cu.getBitsLength(this.data.length)};cu.prototype.write=function(t){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),t.put(a,10);const i=this.data.length-r;i>0&&(n=this.data.substr(r),a=parseInt(n,10),t.put(a,i*3+1))};var Fre=cu;const zre=dl,lw=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function du(e){this.mode=zre.ALPHANUMERIC,this.data=e}du.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};du.prototype.getLength=function(){return this.data.length};du.prototype.getBitsLength=function(){return du.getBitsLength(this.data.length)};du.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=lw.indexOf(this.data[r])*45;n+=lw.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(lw.indexOf(this.data[r]),6)};var Bre=du;const Ure=dl;function uu(e){this.mode=Ure.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}uu.getBitsLength=function(t){return t*8};uu.prototype.getLength=function(){return this.data.length};uu.prototype.getBitsLength=function(){return uu.getBitsLength(this.data.length)};uu.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var Wre=uu;const Vre=dl,Hre=ws;function hu(e){this.mode=Vre.KANJI,this.data=e}hu.getBitsLength=function(t){return t*13};hu.prototype.getLength=function(){return this.data.length};hu.prototype.getBitsLength=function(){return hu.getBitsLength(this.data.length)};hu.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=Hre.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var qre=hu,SL={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,a){var i={},o={};o[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,d,u,h,f,p,x,m,g;!l.empty();){c=l.pop(),d=c.value,h=c.cost,f=r[d]||{};for(u in f)f.hasOwnProperty(u)&&(p=f[u],x=h+p,m=o[u],g=typeof o[u]>"u",(g||m>x)&&(o[u]=x,l.push(u,x),i[u]=d))}if(typeof a<"u"&&typeof o[a]>"u"){var y=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(y)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],i=n;i;)a.push(i),r[i],i=r[i];return a.reverse(),a},find_path:function(r,n,a){var i=t.single_source_shortest_paths(r,n,a);return t.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,a={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(a[i]=n[i]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(SL);var Kre=SL.exports;(function(e){const t=dl,r=Fre,n=Bre,a=Wre,i=qre,o=Qa,l=ws,c=Kre;function d(y){return unescape(encodeURIComponent(y)).length}function u(y,j,w){const b=[];let N;for(;(N=y.exec(w))!==null;)b.push({data:N[0],index:N.index,mode:j,length:N[0].length});return b}function h(y){const j=u(o.NUMERIC,t.NUMERIC,y),w=u(o.ALPHANUMERIC,t.ALPHANUMERIC,y);let b,N;return l.isKanjiModeEnabled()?(b=u(o.BYTE,t.BYTE,y),N=u(o.KANJI,t.KANJI,y)):(b=u(o.BYTE_KANJI,t.BYTE,y),N=[]),j.concat(w,b,N).sort(function(C,P){return C.index-P.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function f(y,j){switch(j){case t.NUMERIC:return r.getBitsLength(y);case t.ALPHANUMERIC:return n.getBitsLength(y);case t.KANJI:return i.getBitsLength(y);case t.BYTE:return a.getBitsLength(y)}}function p(y){return y.reduce(function(j,w){const b=j.length-1>=0?j[j.length-1]:null;return b&&b.mode===w.mode?(j[j.length-1].data+=w.data,j):(j.push(w),j)},[])}function x(y){const j=[];for(let w=0;w<y.length;w++){const b=y[w];switch(b.mode){case t.NUMERIC:j.push([b,{data:b.data,mode:t.ALPHANUMERIC,length:b.length},{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.ALPHANUMERIC:j.push([b,{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.KANJI:j.push([b,{data:b.data,mode:t.BYTE,length:d(b.data)}]);break;case t.BYTE:j.push([{data:b.data,mode:t.BYTE,length:d(b.data)}])}}return j}function m(y,j){const w={},b={start:{}};let N=["start"];for(let S=0;S<y.length;S++){const C=y[S],P=[];for(let _=0;_<C.length;_++){const A=C[_],k=""+S+_;P.push(k),w[k]={node:A,lastCount:0},b[k]={};for(let E=0;E<N.length;E++){const L=N[E];w[L]&&w[L].node.mode===A.mode?(b[L][k]=f(w[L].lastCount+A.length,A.mode)-f(w[L].lastCount,A.mode),w[L].lastCount+=A.length):(w[L]&&(w[L].lastCount=A.length),b[L][k]=f(A.length,A.mode)+4+t.getCharCountIndicator(A.mode,j))}}N=P}for(let S=0;S<N.length;S++)b[N[S]].end=0;return{map:b,table:w}}function g(y,j){let w;const b=t.getBestModeForData(y);if(w=t.from(j,b),w!==t.BYTE&&w.bit<b.bit)throw new Error('"'+y+'" cannot be encoded with mode '+t.toString(w)+`.
 Suggested mode is: `+t.toString(b));switch(w===t.KANJI&&!l.isKanjiModeEnabled()&&(w=t.BYTE),w){case t.NUMERIC:return new r(y);case t.ALPHANUMERIC:return new n(y);case t.KANJI:return new i(y);case t.BYTE:return new a(y)}}e.fromArray=function(j){return j.reduce(function(w,b){return typeof b=="string"?w.push(g(b,null)):b.data&&w.push(g(b.data,b.mode)),w},[])},e.fromString=function(j,w){const b=h(j,l.isKanjiModeEnabled()),N=x(b),S=m(N,w),C=c.find_path(S.map,"start","end"),P=[];for(let _=1;_<C.length-1;_++)P.push(S.table[C[_]].node);return e.fromArray(p(P))},e.rawSplit=function(j){return e.fromArray(h(j,l.isKanjiModeEnabled()))}})(NL);const u0=ws,cw=l0,Gre=_re,Yre=Are,Xre=mL,Qre=pL,E1=gL,T1=c0,Zre=Tre,Qx=vL,Jre=wL,ene=dl,dw=NL;function tne(e,t){const r=e.size,n=Qre.getPositions(t);for(let a=0;a<n.length;a++){const i=n[a][0],o=n[a][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||r<=i+l))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,o+c,!0,!0):e.set(i+l,o+c,!1,!0))}}function rne(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function nne(e,t){const r=Xre.getPositions(t);for(let n=0;n<r.length;n++){const a=r[n][0],i=r[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(a+o,i+l,!0,!0):e.set(a+o,i+l,!1,!0)}}function sne(e,t){const r=e.size,n=Qx.getEncodedBits(t);let a,i,o;for(let l=0;l<18;l++)a=Math.floor(l/3),i=l%3+r-8-3,o=(n>>l&1)===1,e.set(a,i,o,!0),e.set(i,a,o,!0)}function uw(e,t,r){const n=e.size,a=Jre.getEncodedBits(t,r);let i,o;for(i=0;i<15;i++)o=(a>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(n-15+i,8,o,!0),i<8?e.set(8,n-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(n-8,8,1,!0)}function ane(e,t){const r=e.size;let n=-1,a=r-1,i=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(a,l-c)){let d=!1;o<t.length&&(d=(t[o]>>>i&1)===1),e.set(a,l-c,d),i--,i===-1&&(o++,i=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function ine(e,t,r){const n=new Gre;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),ene.getCharCountIndicator(c.mode,e)),c.write(n)});const a=u0.getSymbolTotalCodewords(e),i=T1.getTotalCodewordsCount(e,t),o=(a-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return one(n,e,t)}function one(e,t,r){const n=u0.getSymbolTotalCodewords(t),a=T1.getTotalCodewordsCount(t,r),i=n-a,o=T1.getBlocksCount(t,r),l=n%o,c=o-l,d=Math.floor(n/o),u=Math.floor(i/o),h=u+1,f=d-u,p=new Zre(f);let x=0;const m=new Array(o),g=new Array(o);let y=0;const j=new Uint8Array(e.buffer);for(let C=0;C<o;C++){const P=C<c?u:h;m[C]=j.slice(x,x+P),g[C]=p.encode(m[C]),x+=P,y=Math.max(y,P)}const w=new Uint8Array(n);let b=0,N,S;for(N=0;N<y;N++)for(S=0;S<o;S++)N<m[S].length&&(w[b++]=m[S][N]);for(N=0;N<f;N++)for(S=0;S<o;S++)w[b++]=g[S][N];return w}function lne(e,t,r,n){let a;if(Array.isArray(e))a=dw.fromArray(e);else if(typeof e=="string"){let d=t;if(!d){const u=dw.rawSplit(e);d=Qx.getBestVersionForData(u,r)}a=dw.fromString(e,d||40)}else throw new Error("Invalid data");const i=Qx.getBestVersionForData(a,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=ine(t,r,a),l=u0.getSymbolSize(t),c=new Yre(l);return tne(c,t),rne(c),nne(c,t),uw(c,r,0),t>=7&&sne(c,t),ane(c,o),isNaN(n)&&(n=E1.getBestMask(c,uw.bind(null,c,r))),E1.applyMask(n,c),uw(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:a}}hL.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=cw.M,a,i;return typeof r<"u"&&(n=cw.from(r.errorCorrectionLevel,cw.M),a=Qx.from(r.version),i=E1.from(r.maskPattern),r.toSJISFunc&&u0.setToSJISFunction(r.toSJISFunc)),lne(t,a,n,i)};var CL={},vC={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},e.getImageWidth=function(n,a){const i=e.getScale(n,a);return Math.floor((n+a.margin*2)*i)},e.qrToImageData=function(n,a,i){const o=a.modules.size,l=a.modules.data,c=e.getScale(o,i),d=Math.floor((o+i.margin*2)*c),u=i.margin*c,h=[i.color.light,i.color.dark];for(let f=0;f<d;f++)for(let p=0;p<d;p++){let x=(f*d+p)*4,m=i.color.light;if(f>=u&&p>=u&&f<d-u&&p<d-u){const g=Math.floor((f-u)/c),y=Math.floor((p-u)/c);m=h[l[g*o+y]?1:0]}n[x++]=m.r,n[x++]=m.g,n[x++]=m.b,n[x]=m.a}}})(vC);(function(e){const t=vC;function r(a,i,o){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,l){let c=l,d=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(d=n()),c=t.getOptions(c);const u=t.getImageWidth(i.modules.size,c),h=d.getContext("2d"),f=h.createImageData(u,u);return t.qrToImageData(f.data,i,c),r(h,d,u),h.putImageData(f,0,0),d},e.renderToDataURL=function(i,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const d=e.render(i,o,c),u=c.type||"image/png",h=c.rendererOpts||{};return d.toDataURL(u,h.quality)}})(CL);var PL={};const cne=vC;function TA(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function hw(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function dne(e,t,r){let n="",a=0,i=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),d=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(n+=i?hw("M",c+r,.5+d+r):hw("m",a,0),a=0,i=!1),c+1<t&&e[l+1]||(n+=hw("h",o),o=0)):a++}return n}PL.render=function(t,r,n){const a=cne.getOptions(r),i=t.modules.size,o=t.modules.data,l=i+a.margin*2,c=a.color.light.a?"<path "+TA(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+TA(a.color.dark,"stroke")+' d="'+dne(o,i,a.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,f),f};const une=Pre,O1=hL,kL=CL,hne=PL;function bC(e,t,r,n,a){const i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!une())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(a=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,d){try{const u=O1.create(r,n);c(e(u,t,n))}catch(u){d(u)}})}try{const c=O1.create(r,n);a(null,e(c,t,n))}catch(c){a(c)}}yp.create=O1.create;yp.toCanvas=bC.bind(null,kL.render);yp.toDataURL=bC.bind(null,kL.renderToDataURL);yp.toString=bC.bind(null,function(e,t,r){return hne.render(e,r)});function fne({isOpen:e,onClose:t,url:r,title:n,qrCodeDataUrl:a}){const{toast:i}=Ct(),o=()=>{navigator.clipboard.writeText(r),i({title:"Copied!",description:"Referral URL copied to clipboard"})},l=()=>{const p=`Check out ${n}: ${r}`;window.open(`https://wa.me/?text=${encodeURIComponent(p)}`,"_blank")},c=()=>{const p=`Check out ${n}`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(p)}&url=${encodeURIComponent(r)}`,"_blank")},d=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(r)}`,"_blank")},u=()=>{window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(r)}`,"_blank")},h=()=>{const p=`Check out ${n}: ${r}`;window.open(`https://t.me/share/url?url=${encodeURIComponent(r)}&text=${encodeURIComponent(p)}`,"_blank")},f=async()=>{if(!navigator.share){o();return}const p=`Check out ${n}: ${r}`;try{if(a)try{const m=await(await fetch(a)).blob(),g=new File([m],"referral-qr-code.png",{type:"image/png"}),y={title:n,text:p,files:[g]};if("canShare"in navigator&&navigator.canShare(y)){await navigator.share(y);return}}catch{console.log("File sharing not supported, trying without files")}await navigator.share({title:n,text:p,url:r})}catch(x){console.log("Share failed:",x),o()}};return s.jsx(ar,{open:e,onOpenChange:t,children:s.jsxs(Yt,{className:"max-w-md",children:[s.jsx(Xt,{children:s.jsxs(Qt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Share Referral URL"}),s.jsx(M,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(Lr,{className:"h-4 w-4"})})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:n}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:r})]}),s.jsxs(M,{onClick:o,variant:"outline",className:"w-full justify-start",children:[s.jsx(qn,{className:"h-4 w-4 mr-2"}),"Copy Link"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(M,{onClick:l,variant:"outline",className:"justify-start",children:[s.jsx(dp,{className:"h-4 w-4 mr-2 text-green-600"}),"WhatsApp"]}),s.jsxs(M,{onClick:c,variant:"outline",className:"justify-start",children:[s.jsx(uK,{className:"h-4 w-4 mr-2 text-blue-400"}),"Twitter"]}),s.jsxs(M,{onClick:d,variant:"outline",className:"justify-start",children:[s.jsx(Fq,{className:"h-4 w-4 mr-2 text-blue-600"}),"Facebook"]}),s.jsxs(M,{onClick:u,variant:"outline",className:"justify-start",children:[s.jsx(Xq,{className:"h-4 w-4 mr-2 text-blue-700"}),"LinkedIn"]}),s.jsxs(M,{onClick:h,variant:"outline",className:"justify-start",children:[s.jsx(_S,{className:"h-4 w-4 mr-2 text-blue-500"}),"Telegram"]}),typeof navigator<"u"&&navigator.share&&s.jsxs(M,{onClick:f,variant:"outline",className:"justify-start",children:[s.jsx(fc,{className:"h-4 w-4 mr-2"}),"More Apps"]})]})]})]})})}function wC({url:e,title:t="Referral URL",size:r=200}){const[n,a]=v.useState(""),[i,o]=v.useState(!1),{toast:l}=Ct(),c=v.useRef(null);v.useEffect(()=>{d()},[e,r]);const d=async()=>{try{const f=c.current;if(!f)return;await yp.toCanvas(f,e,{width:r,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});const p=f.toDataURL("image/png");a(p)}catch(f){console.error("Error generating QR code:",f),l({title:"Error",description:"Failed to generate QR code",variant:"destructive"})}},u=()=>{if(!n)return;const f=document.createElement("a");f.download=`referral-qr-code-${Date.now()}.png`,f.href=n,document.body.appendChild(f),f.click(),document.body.removeChild(f),l({title:"Downloaded!",description:"QR code saved to gallery"})},h=()=>{o(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{className:"text-lg",children:"QR Code"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Share your referral URL easily with QR code"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"p-4 bg-white border rounded-lg shadow-sm",children:[s.jsx("canvas",{ref:c,style:{display:n?"block":"none"}}),!n&&s.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded",style:{width:r,height:r},children:s.jsx("span",{className:"text-gray-500",children:"Generating QR Code..."})})]})}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(M,{onClick:u,variant:"outline",size:"sm",disabled:!n,children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Save to Gallery"]}),s.jsxs(M,{onClick:h,variant:"outline",size:"sm",children:[s.jsx(fc,{className:"h-4 w-4 mr-2"}),"Share"]})]}),s.jsx("p",{className:"text-xs text-center text-gray-500",children:"Scan this QR code to access your referral link directly"})]})]}),s.jsx(fne,{isOpen:i,onClose:()=>o(!1),url:e,title:t,qrCodeDataUrl:n})]})}function _L(){var Nt,dt;const{user:e,isAuthenticated:t,isLoading:r}=ft(),{toast:n}=Ct(),a=Zt(),{primaryColor:i,secondaryColor:o}=Ur(),l=ae=>{if(!ae)return"N/A";try{return new Date(ae).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},c=ae=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ae),d=async()=>{try{if(!ye||ye.length===0){n({title:"No Payment History",description:"You have no payment history to export.",variant:"destructive"});return}const{jsPDF:ae}=await mC(async()=>{const{jsPDF:Xe}=await import("./jspdf.es.min-wCfSMqX5.js").then(He=>He.j);return{jsPDF:Xe}},[]),Se=new ae;Se.setFontSize(20),Se.setTextColor(40,40,40),Se.text("Payment History Report",20,25),Se.setFontSize(14),Se.text(`Affiliate: ${(e==null?void 0:e.firstName)||"Super Admin Affiliate"}`,20,35),Se.text(`Email: ${(e==null?void 0:e.email)||"No email"}`,20,43),Se.text(`Generated: ${new Date().toLocaleDateString()}`,20,51);const bt=ye.reduce((Xe,He)=>Xe+parseFloat(He.amount||0),0),se=ye.length;Se.setFontSize(12),Se.text(`Total Payments: ${se}`,20,65),Se.text(`Total Amount: $${bt.toFixed(2)}`,20,73),Se.setLineWidth(.5),Se.line(20,80,190,80);let me=95;for(let Xe=0;Xe<ye.length;Xe++){const He=ye[Xe];if(me>250&&(Se.addPage(),me=25),Se.setFontSize(12),Se.setTextColor(0,0,0),Se.text(`Payment #${Xe+1}`,20,me),Se.setFontSize(10),Se.text(`Date: ${l(He.createdAt)}`,20,me+8),Se.text(`Amount: $${parseFloat(He.amount||0).toFixed(2)}`,20,me+16),Se.text(`Method: ${He.paymentMethod||"Bank Transfer"}`,20,me+24),Se.text(`Status: ${He.status||"Completed"}`,20,me+32),He.description&&Se.text(`Description: ${He.description}`,20,me+40),He.historicalBankName&&He.historicalAccountNumber){const Qe=`Transfer To: ${He.historicalBankName} ${He.historicalAccountNumber}`;Se.setFontSize(9),Se.setTextColor(100,100,100),Se.text(Qe,20,me+(He.description?48:40)),Se.setFontSize(10),Se.setTextColor(0,0,0)}if(He.transactionProofUrl||He.receiptImageUrl){const Qe=He.transactionProofUrl||He.receiptImageUrl;try{const mt=new Image;mt.crossOrigin="anonymous",await new Promise((it,Vr)=>{mt.onload=()=>{try{const ir=document.createElement("canvas"),rs=ir.getContext("2d");ir.width=mt.width,ir.height=mt.height,rs==null||rs.drawImage(mt,0,0);const vh=ir.toDataURL("image/jpeg",.8),js=30,ei=mt.height/mt.width*js;me+50+ei>280&&(Se.addPage(),me=25),Se.addImage(vh,"JPEG",150,me+8,js,ei),Se.text("Proof:",150,me),it(null)}catch(ir){console.error("Error processing image:",ir),Se.text("Proof Image: Available",120,me),it(null)}},mt.onerror=()=>{Se.text("Proof Image: Available",120,me),it(null)},mt.src=Qe})}catch(mt){console.error("Error loading image:",mt),Se.text("Proof: Available",150,me)}}else Se.text("Proof: Not Available",150,me);me+=60,Se.setLineWidth(.2),Se.line(20,me,190,me),me+=10}Se.save(`${(e==null?void 0:e.firstName)||"affiliate"}_payment_history.pdf`),n({title:"Export Successful",description:"Payment history PDF exported successfully!"})}catch(ae){console.error("Error exporting payment history:",ae),n({title:"Export Failed",description:"Failed to export payment history PDF.",variant:"destructive"})}},[u,h]=v.useState(null),[f,p]=v.useState(!1),[x,m]=v.useState(""),[g,y]=v.useState(null),[j,w]=v.useState(!1),[b,N]=v.useState(""),[S,C]=v.useState(null),[P,_]=v.useState(null),[A,k]=v.useState(!1),[E,L]=v.useState({bankName:"",accountOwnerName:"",accountNumber:"",accountType:"checking"}),[F,U]=v.useState(!1),[W,V]=v.useState(null),{data:D=[],isLoading:T}=ue({queryKey:["/api/super-admin-affiliate/plans"],enabled:!!e&&t}),{data:$=[],isLoading:O}=ue({queryKey:["/api/super-admin-affiliate/announcements"],enabled:!!e&&t}),{data:R,isLoading:I}=ue({queryKey:["/api/super-admin-affiliate/commissions"],enabled:!!e&&t}),{data:H,isLoading:he}=ue({queryKey:["/api/super-admin-affiliate/referrals"],enabled:!!e&&t}),{data:ie,isLoading:je}=ue({queryKey:["/api/super-admin-affiliate/referral-code"],enabled:!!e&&t}),{data:xe,isLoading:pe}=ue({queryKey:["/api/super-admin-affiliate/payment-account"],enabled:!!e&&t}),{data:ye=[],isLoading:X}=ue({queryKey:["/api/super-admin-affiliate/payment-history"],enabled:!!e&&t}),{data:B=[]}=ue({queryKey:[`/api/announcements/${u==null?void 0:u.id}/comments`],enabled:!!(u!=null&&u.id),refetchOnWindowFocus:!1});Oe({mutationFn:async({planId:ae,isVisible:Se})=>await Pe(`/api/super-admin-affiliate/plans/${ae}/toggle-visibility`,"POST",{isVisible:Se}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/super-admin-affiliate/plans"]}),a.invalidateQueries({queryKey:["/api/super-admin-affiliate/commissions"]}),n({title:"Success",description:"Plan visibility updated successfully!"})},onError:()=>{n({title:"Error",description:"Failed to update plan visibility. Please try again.",variant:"destructive"})}});const ce=Oe({mutationFn:async ae=>await Pe(`/api/announcements/${ae}/like`,"POST"),onMutate:async ae=>{await a.cancelQueries({queryKey:["/api/announcements"]});const Se=a.getQueryData(["/api/announcements"]);return a.setQueryData(["/api/announcements"],bt=>bt==null?void 0:bt.map(se=>se.id===ae?{...se,userLiked:!se.userLiked,likesCount:se.userLiked?se.likesCount-1:se.likesCount+1}:se)),{previousAnnouncements:Se}},onError:(ae,Se,bt)=>{a.setQueryData(["/api/announcements"],bt.previousAnnouncements),n({title:"Error",description:ae.message||"Failed to update like. Please try again.",variant:"destructive"})},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/announcements"]})}}),ve=Oe({mutationFn:async({announcementId:ae,comment:Se})=>await Pe(`/api/super-admin-affiliate/announcements/${ae}/comment`,"POST",{comment:Se}),onSuccess:()=>{m(""),a.invalidateQueries({queryKey:["/api/super-admin-affiliate/announcements"]}),a.invalidateQueries({queryKey:[`/api/announcements/${u==null?void 0:u.id}/comments`]}),n({title:"Success",description:"Comment added successfully!"})}}),q=Oe({mutationFn:async ae=>await(await Pe("/api/super-admin-affiliate/check-referral-code","POST",{referralCode:ae})).json(),onSuccess:ae=>{C(ae.status),_(ae.message)}}),oe=Oe({mutationFn:async ae=>await Pe("/api/super-admin-affiliate/referral-code","PUT",{referralCode:ae}),onSuccess:ae=>{a.invalidateQueries({queryKey:["/api/super-admin-affiliate/referral-code"]}),w(!1),N(""),n({title:"Success",description:ae.message||"Referral code updated successfully!"})},onError:ae=>{n({title:"Error",description:ae.message||"Failed to update referral code",variant:"destructive"})}}),le=Oe({mutationFn:async ae=>await Pe("/api/super-admin-affiliate/payment-account","POST",ae),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/super-admin-affiliate/payment-account"]}),k(!1),L({bankName:"",accountOwnerName:"",accountNumber:"",accountType:"checking"}),n({title:"Success",description:"Payment account created successfully"})},onError:ae=>{n({title:"Error",description:ae.message||"Failed to create payment account",variant:"destructive"})}}),Ne=Oe({mutationFn:async ae=>await Pe("/api/super-admin-affiliate/payment-account","PUT",ae),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/super-admin-affiliate/payment-account"]}),k(!1),n({title:"Success",description:"Payment account updated successfully"})},onError:ae=>{n({title:"Error",description:ae.message||"Failed to update payment account",variant:"destructive"})}}),Me=ae=>{const Se=ie==null?void 0:ie.referralCode;if(!Se)return;const bt=`${window.location.origin}/pricing?${Se}`;navigator.clipboard.writeText(bt),n({title:"Referral URL Copied!",description:"Your referral URL has been copied to clipboard"})},Le=ae=>{N(ae),C(null),_(null),ae.trim().length>=3&&q.mutate(ae.trim())},Ie=()=>{b.trim().length>=3&&S==="available"&&oe.mutate(b.trim())},qe=()=>{w(!0),N((ie==null?void 0:ie.referralCode)||""),C(null)},z=()=>{w(!1),N(""),C(null)},de=()=>{xe&&L({bankName:xe.bankName,accountOwnerName:xe.accountOwnerName,accountNumber:xe.accountNumber,accountType:xe.accountType}),k(!0)},ee=()=>{k(!1),L({bankName:"",accountOwnerName:"",accountNumber:"",accountType:"checking"})},Te=()=>{if(!E.bankName||!E.accountOwnerName||!E.accountNumber){n({title:"Error",description:"All fields are required",variant:"destructive"});return}xe?Ne.mutate(E):le.mutate(E)};return r||T||O?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading Super Admin Affiliate dashboard..."})]})}):t?s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center py-4 sm:py-6 gap-3 sm:gap-0",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white truncate",children:"Super Admin Affiliate Dashboard"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 truncate",children:["Welcome back, ",(e==null?void 0:e.firstName)||(e==null?void 0:e.name)||(e==null?void 0:e.email)]})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs(M,{onClick:()=>{fetch("/api/auth/logout",{method:"POST"}).then(()=>{window.location.href="/"}).catch(console.error)},variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 w-full sm:w-auto",children:[s.jsx(hc,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2"}),"Logout"]})})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8",children:s.jsxs(es,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-2 sm:grid-cols-5 gap-2",children:[s.jsx(Ge,{value:"overview",className:"text-xs sm:text-sm",children:"Overview"}),s.jsx(Ge,{value:"referrals",className:"text-xs sm:text-sm",children:"Referrals"}),s.jsx(Ge,{value:"commissions",className:"text-xs sm:text-sm",children:"Commissions"}),s.jsx(Ge,{value:"announcements",className:"text-xs sm:text-sm",children:"Announcements"}),s.jsx(Ge,{value:"payments",className:"text-xs sm:text-sm",children:"Payments"})]}),s.jsxs(Ye,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Referrals"}),s.jsx(ct,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(H==null?void 0:H.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time referrals"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Commission"}),s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c((R==null?void 0:R.reduce((ae,Se)=>{var bt;return ae+(((bt=Se.metrics)==null?void 0:bt.affiliateCommission)||0)},0))||0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your total commission earnings"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Main Site Plans"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(D==null?void 0:D.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Available plans"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{className:"flex items-center gap-2",children:"Your Referral URL"}),s.jsx(tt,{children:"Create and manage your unique referral URL for commission tracking"})]}),s.jsx(G,{children:j?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col sm:flex-row items-stretch border rounded-md",children:[s.jsxs("div",{className:"px-3 py-2 bg-gray-50 text-gray-600 text-sm border-b sm:border-b-0 sm:border-r",children:[window.location.origin,"/pricing?"]}),s.jsx(J,{value:b,onChange:ae=>Le(ae.target.value),placeholder:"Enter referral code (min 3 characters)",className:"border-0 focus:ring-0 rounded-l-none",disabled:oe.isPending})]}),S&&s.jsx(be,{variant:S==="available"?"default":S==="current"?"secondary":"destructive",className:S==="available"?"bg-green-100 text-green-800":S==="current"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800",children:P||(S==="available"?"Available":S==="current"?"Your Current Referral URL":"Not Available")})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(M,{onClick:Ie,size:"sm",disabled:!b.trim()||S!=="available"||oe.isPending,children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),oe.isPending?"Saving...":"Save"]}),s.jsxs(M,{onClick:z,size:"sm",variant:"outline",disabled:oe.isPending,children:[s.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"space-y-3",children:ie!=null&&ie.hasReferralCode?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[s.jsxs("div",{className:"flex-1 w-full px-3 py-2 bg-green-50 border border-green-200 rounded-md font-mono text-sm break-all",children:[window.location.origin,"/pricing?",ie.referralCode]}),s.jsx("div",{className:"flex gap-2 shrink-0",children:s.jsx(M,{onClick:()=>Me(),size:"sm",variant:"outline",children:s.jsx(qn,{className:"w-4 h-4"})})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(be,{variant:"default",className:"bg-green-100 text-green-800",children:"Your Current Referral URL"}),s.jsxs(M,{onClick:qe,size:"sm",variant:"outline",children:[s.jsx(Cd,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]}):s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[s.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-500",children:"No referral URL set"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{variant:"outline",className:"text-gray-600",children:"Not Available"}),s.jsxs(M,{onClick:qe,size:"sm",variant:"outline",children:[s.jsx(Cd,{className:"w-4 h-4 mr-2"}),"Create"]})]})]})})})})]}),(ie==null?void 0:ie.hasReferralCode)&&s.jsx(wC,{url:`${window.location.origin}/pricing?${ie.referralCode}`,title:"Referral URL",size:180})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"w-5 h-5"}),"Recent Activity"]}),s.jsx(tt,{children:"Latest updates from platform"})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Yo,{className:"w-5 h-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Platform announcement posted"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Check announcements for latest updates"})]})]}),s.jsx(be,{variant:"outline",children:"New"})]})})})]})]}),s.jsx(Ye,{value:"referrals",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:"Referral Management"}),s.jsx(tt,{children:"Track your white-label client referrals and earnings"})]}),s.jsx(G,{className:"space-y-6",children:(H==null?void 0:H.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ct,{className:"h-12 w-12 mx-auto mb-4",style:vr("Users",{primaryColor:i,secondaryColor:o})}),s.jsx("p",{className:"text-gray-500",children:"No referrals yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Start sharing your referral link to earn commissions"})]}):s.jsx("div",{className:"space-y-4",children:H==null?void 0:H.map((ae,Se)=>{var bt,se,me,Xe,He,Qe;return s.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-semibold text-lg",children:((bt=ae.business)==null?void 0:bt.businessName)||`${((se=ae.purchaser)==null?void 0:se.firstName)||""} ${((me=ae.purchaser)==null?void 0:me.lastName)||""}`.trim()||((Xe=ae.purchaser)==null?void 0:Xe.email)}),s.jsx(be,{variant:"default",className:"bg-green-100 text-green-800",children:((He=ae.purchaser)==null?void 0:He.role)==="white_label_client"?"White-Label Client":"Customer"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",(Qe=ae.purchaser)==null?void 0:Qe.email]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Plans Purchased:"})," ",ae.planSummary]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Total Purchases:"})," ",ae.totalPurchases]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Last Purchase:"})," ",l(ae.lastPurchaseDate)]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:c(parseFloat(ae.totalCommission)||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Commission Earned"})]})]})},Se)})})})]})}),s.jsx(Ye,{value:"commissions",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:"Commission Overview"}),s.jsx(tt,{children:"Track your earnings from main site plan referrals"})]}),s.jsx(G,{children:I?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(R==null?void 0:R.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tt,{className:"h-12 w-12 mx-auto mb-4",style:vr("DollarSign",{primaryColor:i,secondaryColor:o})}),s.jsx("p",{className:"text-gray-500",children:"No commissions yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Commissions will appear here once your referrals make purchases"})]}):s.jsx("div",{className:"space-y-4",children:R==null?void 0:R.map((ae,Se)=>{var bt,se,me,Xe,He,Qe;return s.jsxs("div",{className:"border rounded-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:(bt=ae.plan)==null?void 0:bt.name}),s.jsx("p",{className:"text-gray-600 text-sm",children:(se=ae.plan)==null?void 0:se.description})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>y(g===Se?null:Se),children:[g===Se?"Hide":"View"," Details"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:((me=ae.metrics)==null?void 0:me.totalPurchases)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Purchases"})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c(((Xe=ae.metrics)==null?void 0:Xe.affiliateCommission)||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Your Commission"})]})]}),g===Se&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Commission Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Plan Price:"}),s.jsx("span",{className:"ml-2 font-medium",children:c(parseFloat(((He=ae.plan)==null?void 0:He.monthlyPrice)||0))})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Commission Rate:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[((Qe=ae.plan)==null?void 0:Qe.affiliateCommissionPercentage)||0,"%"]})]})]})]})]},Se)})})})]})}),s.jsx(Ye,{value:"announcements",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:"Platform Announcements"}),s.jsx(tt,{children:"Stay updated with latest platform news and updates"})]}),s.jsx(G,{children:O?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):($==null?void 0:$.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ms,{className:"h-12 w-12 mx-auto mb-4",style:vr("Bell",{primaryColor:i,secondaryColor:o})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Announcements"}),s.jsx("p",{className:"text-gray-600",children:"Platform announcements will appear here."})]}):s.jsx("div",{className:"space-y-4",children:$==null?void 0:$.map(ae=>s.jsx("div",{className:"border rounded-lg p-4 sm:p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-base sm:text-lg flex-1 min-w-0",children:ae.title}),s.jsx(be,{variant:ae.type==="info"?"default":ae.type==="success"?"secondary":"destructive",className:"text-xs",children:ae.type})]}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:ae.content}),ae.attachments&&Array.isArray(ae.attachments)&&ae.attachments.length>0&&s.jsx("div",{className:"space-y-3",children:s.jsx("div",{className:"grid grid-cols-1 gap-3",children:ae.attachments.map((Se,bt)=>{var Xe,He,Qe,mt;const se=((Xe=Se.type)==null?void 0:Xe.startsWith("image/"))||Se.type==="image"||((He=Se.name)==null?void 0:He.match(/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i)),me=((Qe=Se.type)==null?void 0:Qe.startsWith("video/"))||Se.type==="video"||((mt=Se.name)==null?void 0:mt.match(/\.(mp4|webm|ogg|mov|avi)$/i));return s.jsx("div",{className:"rounded-lg overflow-hidden border",children:se?s.jsx("img",{src:Se.url,alt:Se.name||"Announcement image",className:"w-full h-40 sm:h-48 object-cover cursor-pointer",onClick:()=>window.open(Se.url,"_blank"),onError:it=>{console.error("Failed to load image:",Se.url),it.currentTarget.style.display="none",it.currentTarget.parentElement.innerHTML=`
                                                <div class="p-3 sm:p-4 bg-gray-50 flex items-center">
                                                  <p class="text-xs text-gray-500">Failed to load image: ${Se.name}</p>
                                                </div>
                                              `}}):me?s.jsx("video",{controls:!0,className:"w-full h-40 sm:h-48",src:Se.url}):s.jsxs("div",{className:"p-3 sm:p-4 bg-gray-50 flex items-center",children:[s.jsx(Bt,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-3",style:{color:o||"#8B5CF6"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-xs sm:text-sm",children:Se.name}),s.jsx("p",{className:"text-xs text-gray-500",children:"File attachment"})]})]})},bt)})})}),s.jsx("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l(ae.createdAt)]})})]}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(M,{variant:ae.userLiked?"default":"outline",size:"sm",onClick:()=>ce.mutate(ae.id),disabled:ce.isPending,className:"text-xs sm:text-sm","data-testid":`button-like-${ae.id}`,style:ae.userLiked?{backgroundColor:i||"#3b82f6",borderColor:i||"#3b82f6"}:{},children:[s.jsx(UD,{className:`w-3 h-3 sm:w-4 sm:h-4 mr-1 ${ae.userLiked?"fill-current":""}`}),"Like (",ae.likesCount||0,")"]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>{h(ae),p(!0)},className:"text-xs sm:text-sm",children:[s.jsx(Yo,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Comments (",ae.commentsCount||0,")"]})]})})]})},ae.id))})})]})}),s.jsxs(Ye,{value:"payments",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-5 h-5"}),"Payment Account"]}),s.jsx(tt,{children:"Manage your payment account information for commission payouts"})]}),s.jsx(G,{className:"space-y-6",children:pe?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-gray-500",children:"Loading payment account..."})}):!xe&&!A?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ht,{className:"h-16 w-16 mx-auto mb-4",style:vr("CreditCard",{primaryColor:i,secondaryColor:o})}),s.jsx("h3",{className:"font-medium text-lg mb-2",children:"Add Account To Get Your Commission"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Set up your payment account information to receive commission payouts"}),s.jsx(M,{onClick:()=>k(!0),children:"Add Account"})]}):A?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg",children:xe?"Edit Account Information":"Add Account Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Bank Name"}),s.jsx(J,{placeholder:"Enter bank name",value:E.bankName,onChange:ae=>L({...E,bankName:ae.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Account Owner Name"}),s.jsx(J,{placeholder:"Full name on account",value:E.accountOwnerName,onChange:ae=>L({...E,accountOwnerName:ae.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Account Number"}),s.jsx(J,{placeholder:"Account number",value:E.accountNumber,onChange:ae=>L({...E,accountNumber:ae.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Account Type"}),s.jsxs(an,{value:E.accountType,onValueChange:ae=>L({...E,accountType:ae}),children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:"Select account type"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"checking",children:"Personal Checking"}),s.jsx(Ae,{value:"savings",children:"Personal Savings"}),s.jsx(Ae,{value:"business_checking",children:"Business Checking"}),s.jsx(Ae,{value:"business_savings",children:"Business Savings"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{onClick:Te,disabled:le.isPending||Ne.isPending,children:le.isPending||Ne.isPending?"Saving...":xe?"Update Account":"Add Account"}),s.jsx(M,{variant:"outline",onClick:ee,children:"Cancel"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-lg",children:"Account Information"}),s.jsxs(M,{variant:"outline",onClick:de,children:[s.jsx(Cd,{className:"w-4 h-4 mr-2"}),"Edit"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Bank Name"}),s.jsx("p",{className:"font-medium",children:xe==null?void 0:xe.bankName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Account Owner Name"}),s.jsx("p",{className:"font-medium",children:xe==null?void 0:xe.accountOwnerName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Account Number"}),s.jsxs("p",{className:"font-medium",children:["****",(Nt=xe==null?void 0:xe.accountNumber)==null?void 0:Nt.slice(-4)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Account Type"}),s.jsx("p",{className:"font-medium capitalize",children:(dt=xe==null?void 0:xe.accountType)==null?void 0:dt.replace("_"," ")})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-5 h-5 text-green-600 mr-2"}),s.jsx("span",{className:"text-green-800 font-medium",children:"Account Ready for Payouts"})]}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Your payment account is set up and ready to receive commission payouts."})]})]})})]}),xe&&s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"w-5 h-5"}),"Payment Transaction History"]}),s.jsx(tt,{children:"Track your commission payments and transaction history"})]}),s.jsx(G,{children:X?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-gray-500",children:"Loading payment history..."})}):ye.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Oa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"font-medium text-lg mb-2",children:"No Payment History"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Your payment transaction history will appear here once payments are made."})]}):s.jsxs("div",{className:"space-y-4",children:[ye.slice(0,3).map((ae,Se)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("div",{className:"text-lg font-semibold text-green-600",children:["$",parseFloat(ae.amount||"0").toFixed(2)]}),s.jsx(be,{variant:ae.status==="completed"?"default":ae.status==="pending"?"secondary":"destructive",className:ae.status==="completed"?"bg-green-100 text-green-800":"",children:ae.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",ae.paymentMethod||"Bank Transfer"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",l(ae.createdAt)]}),ae.description&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",ae.description]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:ae.transactionProofUrl&&s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>window.open(ae.transactionProofUrl,"_blank"),children:[s.jsx(Ir,{className:"w-4 h-4 mr-1"}),"Proof"]})})]},ae.id||Se)),ye.length>0&&s.jsx("div",{className:"flex justify-center pt-4",children:s.jsxs(M,{variant:"outline",onClick:()=>U(!0),className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"w-4 h-4",style:vr("History",{primaryColor:i,secondaryColor:o})}),"View Lifetime History (",ye.length," transactions)"]})})]})})]})]})]})}),s.jsx(ar,{open:f,onOpenChange:p,children:s.jsxs(Yt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsx(Qt,{children:u==null?void 0:u.title}),s.jsxs(gs,{children:["Posted on ",u!=null&&u.createdAt?l(u.createdAt):""]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:s.jsx("p",{children:u==null?void 0:u.content})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Comments"}),!B||B.length===0?s.jsx("p",{className:"text-gray-500 text-sm",children:"No comments yet."}):s.jsx("div",{className:"space-y-3",children:B.map((ae,Se)=>s.jsx("div",{className:"flex gap-3 p-3 bg-white border rounded-lg",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:ae.authorName||"Anonymous"}),s.jsx("span",{className:"text-xs text-gray-500",children:l(ae.createdAt)})]}),s.jsx("p",{className:"text-sm",children:ae.content})]})},ae.id||Se))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pr,{value:x,onChange:ae=>m(ae.target.value),placeholder:"Add a comment...",rows:2,className:"flex-1"}),s.jsx(M,{onClick:()=>ve.mutate({announcementId:u==null?void 0:u.id,comment:x}),disabled:!x.trim()||ve.isPending,children:"Post"})]})]})]})]})}),s.jsx(ar,{open:F,onOpenChange:U,children:s.jsxs(Yt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"w-5 h-5"}),"Lifetime Payment History"]}),s.jsx(gs,{children:"Complete payment transaction history and records"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:ye.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Transactions"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",ye.reduce((ae,Se)=>ae+parseFloat(Se.amount||"0"),0).toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Received"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ye.filter(ae=>ae.status==="completed").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(M,{variant:"outline",onClick:()=>d(),className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-4 h-4"}),"Export PDF"]})}),s.jsx("div",{className:"space-y-3",children:ye.map((ae,Se)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("div",{className:"text-lg font-semibold text-green-600",children:["$",parseFloat(ae.amount||"0").toFixed(2)]}),s.jsx(be,{variant:ae.status==="completed"?"default":ae.status==="pending"?"secondary":"destructive",className:ae.status==="completed"?"bg-green-100 text-green-800":"",children:ae.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",ae.paymentMethod||"Bank Transfer"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",l(ae.createdAt)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",ae.id]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Bank:"})," ",ae.historicalBankName||"N/A"]}),ae.description&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",ae.description]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:ae.transactionProofUrl&&s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>window.open(ae.transactionProofUrl,"_blank"),children:[s.jsx(Ir,{className:"w-4 h-4 mr-1"}),"View Proof"]})})]},ae.id||Se))}),ye.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Oa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"font-medium text-lg mb-2",children:"No Payment History"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Your payment transaction history will appear here once payments are made."})]})]})]})})]}):null}function AL(){return ue({queryKey:["/api/user/access"],staleTime:0,cacheTime:1e3*60})}function mne(e,t){if(!e)return!1;switch(t){case"categories":return e.hasCategories;case"affiliates":return e.hasAffiliates;case"landing_page_builder":return e.hasLandingPageBuilder;default:return!1}}const jC=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:De("w-full caption-bottom text-sm",e),...t})}));jC.displayName="Table";const NC=v.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:De("[&_tr]:border-b",e),...t}));NC.displayName="TableHeader";const SC=v.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:De("[&_tr:last-child]:border-0",e),...t}));SC.displayName="TableBody";const pne=v.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:De("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));pne.displayName="TableFooter";const fu=v.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:De("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));fu.displayName="TableRow";const os=v.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:De("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));os.displayName="TableHead";const Bn=v.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:De("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Bn.displayName="TableCell";const gne=v.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:De("mt-4 text-sm text-muted-foreground",e),...t}));gne.displayName="TableCaption";function Ut(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function tl(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const EL=6048e5,xne=864e5,jg=43200,OA=1440;let yne={};function bp(){return yne}function dm(e,t){var l,c,d,u;const r=bp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ut(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Zx(e){return dm(e,{weekStartsOn:1})}function TL(e){const t=Ut(e),r=t.getFullYear(),n=tl(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Zx(n),i=tl(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Zx(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function MA(e){const t=Ut(e);return t.setHours(0,0,0,0),t}function Jx(e){const t=Ut(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function vne(e,t){const r=MA(e),n=MA(t),a=+r-Jx(r),i=+n-Jx(n);return Math.round((a-i)/xne)}function bne(e){const t=TL(e),r=tl(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Zx(r)}function ix(e,t){const r=Ut(e),n=Ut(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function wne(e){return tl(e,Date.now())}function jne(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Nne(e){if(!jne(e)&&typeof e!="number")return!1;const t=Ut(e);return!isNaN(Number(t))}function Sne(e,t){const r=Ut(e),n=Ut(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Cne(e){return t=>{const r=Math.trunc,n=r(t);return n===0?0:n}}function Pne(e,t){return+Ut(e)-+Ut(t)}function kne(e){const t=Ut(e);return t.setHours(23,59,59,999),t}function _ne(e){const t=Ut(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ane(e){const t=Ut(e);return+kne(t)==+_ne(t)}function Ene(e,t){const r=Ut(e),n=Ut(t),a=ix(r,n),i=Math.abs(Sne(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=ix(r,n)===-a;Ane(Ut(e))&&i===1&&ix(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function Tne(e,t,r){const n=Pne(e,t)/1e3;return Cne()(n)}function One(e){const t=Ut(e),r=tl(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Mne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dne=(e,t,r)=>{let n;const a=Mne[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function fw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ine={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$ne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lne={date:fw({formats:Ine,defaultWidth:"full"}),time:fw({formats:Rne,defaultWidth:"full"}),dateTime:fw({formats:$ne,defaultWidth:"full"})},Fne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zne=(e,t,r,n)=>Fne[e];function Lh(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Bne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Une={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kne=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Gne={ordinalNumber:Kne,era:Lh({values:Bne,defaultWidth:"wide"}),quarter:Lh({values:Une,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Lh({values:Wne,defaultWidth:"wide"}),day:Lh({values:Vne,defaultWidth:"wide"}),dayPeriod:Lh({values:Hne,defaultWidth:"wide",formattingValues:qne,defaultFormattingWidth:"wide"})};function Fh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Xne(l,h=>h.test(o)):Yne(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Yne(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Xne(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Qne(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Zne=/^(\d+)(th|st|nd|rd)?/i,Jne=/\d+/i,ese={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tse={any:[/^b/i,/^(a|c)/i]},rse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nse={any:[/1/i,/2/i,/3/i,/4/i]},sse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ase={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ise={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ose={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dse={ordinalNumber:Qne({matchPattern:Zne,parsePattern:Jne,valueCallback:e=>parseInt(e,10)}),era:Fh({matchPatterns:ese,defaultMatchWidth:"wide",parsePatterns:tse,defaultParseWidth:"any"}),quarter:Fh({matchPatterns:rse,defaultMatchWidth:"wide",parsePatterns:nse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fh({matchPatterns:sse,defaultMatchWidth:"wide",parsePatterns:ase,defaultParseWidth:"any"}),day:Fh({matchPatterns:ise,defaultMatchWidth:"wide",parsePatterns:ose,defaultParseWidth:"any"}),dayPeriod:Fh({matchPatterns:lse,defaultMatchWidth:"any",parsePatterns:cse,defaultParseWidth:"any"})},OL={code:"en-US",formatDistance:Dne,formatLong:Lne,formatRelative:zne,localize:Gne,match:dse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function use(e){const t=Ut(e);return vne(t,One(t))+1}function hse(e){const t=Ut(e),r=+Zx(t)-+bne(t);return Math.round(r/EL)+1}function ML(e,t){var u,h,f,p;const r=Ut(e),n=r.getFullYear(),a=bp(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(f=a.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=tl(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=dm(o,t),c=tl(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=dm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function fse(e,t){var l,c,d,u;const r=bp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=ML(e,t),i=tl(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),dm(i,t)}function mse(e,t){const r=Ut(e),n=+dm(r,t)-+fse(r,t);return Math.round(n/EL)+1}function It(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Qi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return It(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):It(r+1,2)},d(e,t){return It(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return It(e.getHours()%12||12,t.length)},H(e,t){return It(e.getHours(),t.length)},m(e,t){return It(e.getMinutes(),t.length)},s(e,t){return It(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return It(a,t.length)}},Hc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Qi.y(e,t)},Y:function(e,t,r,n){const a=ML(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return It(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):It(i,t.length)},R:function(e,t){const r=TL(e);return It(r,t.length)},u:function(e,t){const r=e.getFullYear();return It(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return It(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return It(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Qi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return It(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=mse(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):It(a,t.length)},I:function(e,t,r){const n=hse(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):It(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Qi.d(e,t)},D:function(e,t,r){const n=use(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):It(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return It(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return It(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return It(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Hc.noon:n===0?a=Hc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Hc.evening:n>=12?a=Hc.afternoon:n>=4?a=Hc.morning:a=Hc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Qi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Qi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):It(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):It(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Qi.s(e,t)},S:function(e,t){return Qi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return RA(n);case"XXXX":case"XX":return Cl(n);case"XXXXX":case"XXX":default:return Cl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return RA(n);case"xxxx":case"xx":return Cl(n);case"xxxxx":case"xxx":default:return Cl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+IA(n,":");case"OOOO":default:return"GMT"+Cl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+IA(n,":");case"zzzz":default:return"GMT"+Cl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return It(n,t.length)},T:function(e,t,r){const n=e.getTime();return It(n,t.length)}};function IA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+It(i,2)}function RA(e,t){return e%60===0?(e>0?"-":"+")+It(Math.abs(e)/60,2):Cl(e,t)}function Cl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=It(Math.trunc(n/60),2),i=It(n%60,2);return r+a+t+i}const $A=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},DL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pse=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return $A(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",$A(n,t)).replace("{{time}}",DL(a,t))},gse={p:DL,P:pse},xse=/^D+$/,yse=/^Y+$/,vse=["D","DD","YY","YYYY"];function bse(e){return xse.test(e)}function wse(e){return yse.test(e)}function jse(e,t,r){const n=Nse(e,t,r);if(console.warn(n),vse.includes(e))throw new RangeError(n)}function Nse(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pse=/^'([^]*?)'?$/,kse=/''/g,_se=/[a-zA-Z]/;function mw(e,t,r){var u,h,f,p;const n=bp(),a=n.locale??OL,i=n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=Ut(e);if(!Nne(l))throw new RangeError("Invalid time value");let c=t.match(Cse).map(x=>{const m=x[0];if(m==="p"||m==="P"){const g=gse[m];return g(x,a.formatLong)}return x}).join("").match(Sse).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const m=x[0];if(m==="'")return{isToken:!1,value:Ase(x)};if(DA[m])return{isToken:!0,value:x};if(m.match(_se))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const m=x.value;(wse(m)||bse(m))&&jse(m,t,String(e));const g=DA[m[0]];return g(l,m,a.localize,d)}).join("")}function Ase(e){const t=e.match(Pse);return t?t[1].replace(kse,"'"):e}function Ese(e,t,r){const n=bp(),a=(r==null?void 0:r.locale)??n.locale??OL,i=2520,o=ix(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Ut(t),d=Ut(e)):(c=Ut(e),d=Ut(t));const u=Tne(d,c),h=(Jx(d)-Jx(c))/1e3,f=Math.round((u-h)/60);let p;if(f<2)return f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<OA){const x=Math.round(f/60);return a.formatDistance("aboutXHours",x,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<jg){const x=Math.round(f/OA);return a.formatDistance("xDays",x,l)}else if(f<jg*2)return p=Math.round(f/jg),a.formatDistance("aboutXMonths",p,l)}if(p=Ene(d,c),p<12){const x=Math.round(f/jg);return a.formatDistance("xMonths",x,l)}else{const x=p%12,m=Math.trunc(p/12);return x<3?a.formatDistance("aboutXYears",m,l):x<9?a.formatDistance("overXYears",m,l):a.formatDistance("almostXYears",m+1,l)}}function zh(e,t){return Ese(e,wne(e),t)}function Tse(){var d;const[e,t]=v.useState(""),[r,n]=v.useState(null),{data:a=[],isLoading:i}=ue({queryKey:["/api/plans/analytics"]}),o=a.filter(u=>u.planName.toLowerCase().includes(e.toLowerCase())),l=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),c=u=>{try{if(!u)return"Date not available";const h=new Date(u);return isNaN(h.getTime())?"Invalid date":h.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Date not available"}};return i?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((u,h)=>s.jsxs(K,{className:"animate-pulse",children:[s.jsxs(re,{children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),s.jsx(G,{children:s.jsx("div",{className:"h-20 bg-gray-200 rounded"})})]},h))}):r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[r.planName," Analytics"]}),s.jsx("p",{className:"text-gray-600",children:"Detailed sales and customer information"})]}),s.jsx(M,{variant:"outline",onClick:()=>n(null),className:"flex items-center gap-2",children:" Back to Plans"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalSales})]}),s.jsx(en,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:l(r.totalRevenue)})]}),s.jsx(Tt,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Purchases"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.totalPurchases})]}),s.jsx(Ht,{className:"h-8 w-8 text-purple-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Unique Buyers"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:((d=r.purchasers)==null?void 0:d.length)||0})]}),s.jsx(ct,{className:"h-8 w-8 text-orange-500"})]})})})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ct,{className:"h-5 w-5"}),"Plan Purchasers"]}),s.jsx(tt,{children:"All customers who purchased this plan across all white-label clients"})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:r.purchasers&&r.purchasers.length>0?r.purchasers.map((u,h)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ct,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:u.email}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Purchased on ",c(u.purchaseDate)]}),s.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["via ",u.businessName]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-green-600",children:l(u.amount)}),s.jsx(be,{variant:u.status==="completed"?"default":"secondary",children:u.status})]})]},h)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(en,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No purchases yet for this plan"})]})})})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"h-5 w-5"}),"Recent Purchases"]}),s.jsx(tt,{children:"Latest transactions for this plan"})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:r.recentPurchases&&r.recentPurchases.length>0?r.recentPurchases.map((u,h)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ht,{className:"h-4 w-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:u.email}),s.jsxs("p",{className:"text-sm text-gray-600",children:[c(u.purchaseDate),"  ",u.transactionId]}),s.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["via ",u.businessName]})]})]}),s.jsx("p",{className:"font-semibold text-green-600",children:l(u.amount)})]},h)):s.jsx("p",{className:"text-center py-4 text-gray-500",children:"No recent purchases"})})})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Plan Analytics"}),s.jsx("p",{className:"text-gray-600",children:"Track sales performance and buyer information for all plans"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(J,{placeholder:"Search plans...",value:e,onChange:u=>t(u.target.value),className:"pl-10 w-full"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(u=>s.jsxs(K,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center justify-between",children:[s.jsx("span",{children:u.planName}),s.jsxs(be,{variant:"secondary",children:[u.totalSales," sales"]})]}),s.jsx(tt,{children:"Plan performance overview"})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"})]}),s.jsx("span",{className:"font-semibold text-green-600",children:l(u.totalRevenue)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Total Purchases"})]}),s.jsx("span",{className:"font-semibold text-blue-600",children:u.totalSales})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ct,{className:"h-4 w-4 text-purple-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Unique Buyers"})]}),s.jsx("span",{className:"font-semibold text-purple-600",children:u.totalSales})]}),s.jsxs(M,{onClick:()=>n(u),className:"w-full mt-4",variant:"outline",children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"View Details"]})]})})]},u.planId))}),o.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(wn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No plans found"}),s.jsx("p",{className:"text-gray-600",children:e?"Try adjusting your search terms":"Create your first plan to see analytics"})]})]})}function Ose(){const[e,t]=v.useState(null),{primaryColor:r,secondaryColor:n}=Ur(),[a,i]=v.useState(""),[o,l]=v.useState("all"),[c,d]=v.useState("all"),[u,h]=v.useState("endusers"),{data:f}=ue({queryKey:["/api/end-users/stats"]}),{data:p=[]}=ue({queryKey:["/api/end-users"]}),{data:x=[]}=ue({queryKey:["/api/end-users/activities"]}),{data:m=[]}=ue({queryKey:["/api/end-users",e,"purchases"],enabled:!!e}),g=p.filter(S=>{var _,A,k;const C=a===""||((_=S.email)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))||((A=S.firstName)==null?void 0:A.toLowerCase().includes(a.toLowerCase()))||((k=S.lastName)==null?void 0:k.toLowerCase().includes(a.toLowerCase()));let P=!1;switch(o){case"all":P=!0;break;case"active":P=S.isActive===!0;break;case"highSpent":P=parseFloat(S.totalSpent)>100;break;case"recentJoined":const E=new Date;E.setDate(E.getDate()-30),P=S.createdAt?new Date(S.createdAt)>E:!1;break;default:P=!0}return C&&P}),y=x.filter(S=>c==="all"||S.activityType===c),j=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(parseFloat(S)),w=S=>{switch(S){case"signup":return s.jsx(tm,{className:"h-4 w-4",style:vr("UserCheck",{primaryColor:r,secondaryColor:n})});case"login":return s.jsx(ha,{className:"h-4 w-4",style:vr("Activity",{primaryColor:r,secondaryColor:n})});case"purchase":return s.jsx(en,{className:"h-4 w-4",style:vr("ShoppingCart",{primaryColor:r,secondaryColor:n})});default:return s.jsx(ha,{className:"h-4 w-4",style:vr("Activity",{primaryColor:r,secondaryColor:n})})}},b=S=>{switch(S){case"signup":return"bg-green-100 text-green-800";case"login":return"bg-blue-100 text-blue-800";case"purchase":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},N=S=>S.isOnline?s.jsx(be,{className:"bg-green-100 text-green-800",children:"Online"}):S.isActive?s.jsx(be,{className:"bg-blue-100 text-blue-800",children:"Active"}):s.jsx(be,{className:"bg-gray-100 text-gray-800",children:"Inactive"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Signups"}),s.jsx(ct,{className:"h-4 w-4",style:vr("Users",{primaryColor:r,secondaryColor:n})})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(f==null?void 0:f.totalSignups)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Active Users"}),s.jsx(tm,{className:"h-4 w-4",style:vr("UserCheck",{primaryColor:r,secondaryColor:n})})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(f==null?void 0:f.activeUsers)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Purchased your plan"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Logins"}),s.jsx(ha,{className:"h-4 w-4",style:vr("Activity",{primaryColor:r,secondaryColor:n})})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(f==null?void 0:f.totalLogins)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Purchases"}),s.jsx(en,{className:"h-4 w-4",style:vr("ShoppingCart",{primaryColor:r,secondaryColor:n})})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(f==null?void 0:f.totalPurchases)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders completed"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(Tt,{className:"h-4 w-4",style:vr("DollarSign",{primaryColor:r,secondaryColor:n})})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:j(p.reduce((S,C)=>S+parseFloat(C.totalSpent),0).toString())}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time earnings"})]})]})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"h-5 w-5",style:vr("BarChart3",{primaryColor:r,secondaryColor:n})}),"Plan Sales & End-User Activity"]})}),s.jsx(G,{children:s.jsxs(es,{value:u,onValueChange:h,children:[s.jsxs(Mn,{className:"w-full h-auto flex flex-wrap sm:grid sm:grid-cols-3 gap-1 p-1",children:[s.jsx(Ge,{value:"endusers",className:"text-xs px-2 py-1 flex-1 min-w-0",children:"End Users"}),s.jsx(Ge,{value:"activities",className:"text-xs px-2 py-1 flex-1 min-w-0",children:"Activities"}),s.jsx(Ge,{value:"purchases",className:"text-xs px-2 py-1 flex-1 min-w-0",children:"Purchases"})]}),s.jsxs(Ye,{value:"endusers",className:"mt-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ac,{className:"absolute left-3 top-3 h-4 w-4",style:{color:n||"#9ca3af"}}),s.jsx(J,{placeholder:"Search by name or email...",value:a,onChange:S=>i(S.target.value),className:"pl-10"})]}),s.jsxs(an,{value:o,onValueChange:l,children:[s.jsx(Gr,{className:"w-full sm:w-48",children:s.jsx(on,{placeholder:"Filter by status"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"all",children:"All Users"}),s.jsx(Ae,{value:"active",children:"Active Users"}),s.jsx(Ae,{value:"highSpent",children:"High Spent"}),s.jsx(Ae,{value:"recentJoined",children:"Recent Joined"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(jC,{children:[s.jsx(NC,{children:s.jsxs(fu,{children:[s.jsx(os,{children:"User"}),s.jsx(os,{children:"Status"}),s.jsx(os,{children:"Joined"}),s.jsx(os,{children:"Last Login"}),s.jsx(os,{children:"Purchases"}),s.jsx(os,{children:"Total Spent"}),s.jsx(os,{children:"Actions"})]})}),s.jsx(SC,{children:g.map(S=>s.jsxs(fu,{children:[s.jsx(Bn,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:S.firstName&&S.lastName?`${S.firstName} ${S.lastName}`:S.email||"Unknown User"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:S.email})]})}),s.jsx(Bn,{children:N(S)}),s.jsx(Bn,{children:S.createdAt?mw(new Date(S.createdAt),"MMM d, yyyy"):"Unknown"}),s.jsx(Bn,{children:S.lastLoginAt?mw(new Date(S.lastLoginAt),"MMM d, yyyy"):"Never"}),s.jsx(Bn,{children:s.jsx(be,{variant:"outline",children:S.totalPurchases})}),s.jsx(Bn,{children:s.jsx("span",{className:"font-medium",children:j(S.totalSpent)})}),s.jsx(Bn,{children:s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>t(S.id),children:s.jsx(vt,{className:"h-4 w-4",style:vr("Eye",{primaryColor:r,secondaryColor:n})})})})]},S.id))})]})})]}),s.jsxs(Ye,{value:"activities",className:"mt-6",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs(an,{value:c,onValueChange:d,children:[s.jsx(Gr,{className:"w-48",children:s.jsx(on,{placeholder:"Filter by activity"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"all",children:"All Activities"}),s.jsx(Ae,{value:"signup",children:"Signups"}),s.jsx(Ae,{value:"login",children:"Logins"}),s.jsx(Ae,{value:"purchase",children:"Purchases"})]})]})}),s.jsx("div",{className:"space-y-4",children:y.map(S=>{var C,P,_;return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:w(S.activityType)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:(C=S.user)!=null&&C.firstName&&((P=S.user)!=null&&P.lastName)?`${S.user.firstName} ${S.user.lastName}`:((_=S.user)==null?void 0:_.email)||"Unknown User"}),s.jsx(be,{className:b(S.activityType),children:S.activityType})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S.description||`User performed ${S.activityType} action`})]})]}),s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(Go,{className:"h-4 w-4 mr-1",style:{color:n||"#9ca3af"}}),S.createdAt?mw(new Date(S.createdAt),"MMM d, h:mm a"):"Unknown"]})]},S.id)})})]}),s.jsx(Ye,{value:"purchases",className:"mt-6",children:s.jsx(Tse,{})})]})})]})]})}function LA(){const{user:e,isAuthenticated:t,isLoading:r}=ft(),{data:n,isLoading:a}=AL(),{toast:i}=Ct(),{primaryColor:o,secondaryColor:l}=Ur(),[c,d]=v.useState("overview"),[u,h]=v.useState(!1),[f,p]=v.useState(!1),x=sessionStorage.getItem("selectedRole")||(e==null?void 0:e.role)||"White Label Client",{data:m,isLoading:g}=ue({queryKey:["/api/white-labels/my"],enabled:t&&!r}),y=Oe({mutationFn:async()=>(await Pe("/api/setup/white-label","POST",{})).json(),onSuccess:_=>{var A;i({title:"Welcome to WhiteLabel Pro!",description:`Your account has been set up successfully. Your default landing page is ready at /${(A=_.defaultLandingPage)==null?void 0:A.domainPath}`}),window.location.reload()},onError:_=>{i({title:"Setup Failed",description:_.message||"Failed to set up your white-label account. Please try again.",variant:"destructive"})}});v.useEffect(()=>{if(!r&&!t){i({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{const _=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${_}`},500);return}},[t,r,i]),v.useEffect(()=>{t&&!r&&!g&&!u&&!m&&!y.isPending&&(console.log("Auto-triggering white-label setup for user:",e==null?void 0:e.email,"Role:",x),h(!0),y.mutate())},[t,r,g,m,e==null?void 0:e.email,u]);const{data:j}=ue({queryKey:["/api/dashboard/stats"]}),{data:w}=ue({queryKey:["/api/analytics/revenue-trend"]}),{data:b}=ue({queryKey:["/api/analytics/client-distribution"]}),{data:N}=ue({queryKey:["/api/analytics/plan-performance"]}),{data:S}=ue({queryKey:["/api/end-users/activities"],enabled:!!m}),{data:C}=ue({queryKey:["/api/products"]}),{data:P}=ue({queryKey:["/api/subscriptions"]});return r||!t?s.jsx("div",{children:"Loading..."}):y.isPending?s.jsx("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs(K,{className:"w-full max-w-md mx-4",children:[s.jsxs(re,{className:"text-center",children:[s.jsx(ne,{className:"text-2xl",children:"Setting Up Your Account"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"We're creating your white-label platform and default landing page..."})]}),s.jsxs(G,{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"This will only take a moment"})]})]})})}):s.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[s.jsx(kr,{isMobileOpen:f,onMobileToggle:()=>p(!f)}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"lg:hidden bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>p(!0),className:"text-muted-foreground",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-card-foreground",children:"Business Dashboard"}),s.jsx("div",{className:"w-10"})," "]}),s.jsx(Fr,{title:"Business Dashboard",subtitle:"Manage your white-label platform and track performance"}),s.jsx("div",{className:"p-6",children:s.jsx(Ose,{})})]})]})}function IL(){var Se,bt;const{user:e,isAuthenticated:t,isLoading:r}=ft(),{toast:n}=Ct(),a=Zt(),{primaryColor:i,secondaryColor:o}=Ur(),l=se=>{if(!se)return"N/A";try{return new Date(se).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},c=se=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(se),d=async()=>{try{if(!ce||ce.length===0){n({title:"No Payment History",description:"You have no payment history to export.",variant:"destructive"});return}const{jsPDF:se}=await mC(async()=>{const{jsPDF:mt}=await import("./jspdf.es.min-wCfSMqX5.js").then(it=>it.j);return{jsPDF:mt}},[]),me=new se;me.setFontSize(20),me.setTextColor(40,40,40),me.text("Payment History Report",20,25),me.setFontSize(14),me.text(`Affiliate: ${(e==null?void 0:e.firstName)||"White Label Affiliate"}`,20,35),me.text(`Email: ${(e==null?void 0:e.email)||"No email"}`,20,43),me.text(`Generated: ${new Date().toLocaleDateString()}`,20,51);const Xe=ce.reduce((mt,it)=>mt+parseFloat(it.amount||0),0),He=ce.length;me.setFontSize(12),me.text(`Total Payments: ${He}`,20,65),me.text(`Total Amount: $${Xe.toFixed(2)}`,20,73),me.setLineWidth(.5),me.line(20,80,190,80);let Qe=95;for(let mt=0;mt<ce.length;mt++){const it=ce[mt];if(Qe>250&&(me.addPage(),Qe=25),me.setFontSize(12),me.setTextColor(0,0,0),me.text(`Payment #${mt+1}`,20,Qe),me.setFontSize(10),me.text(`Date: ${l(it.createdAt)}`,20,Qe+8),me.text(`Amount: $${parseFloat(it.amount||0).toFixed(2)}`,20,Qe+16),me.text(`Method: ${it.paymentMethod||"Bank Transfer"}`,20,Qe+24),me.text(`Status: ${it.status||"Completed"}`,20,Qe+32),it.description&&me.text(`Description: ${it.description}`,20,Qe+40),it.historicalBankName&&it.historicalAccountNumber){const Vr=`Transfer To: ${it.historicalBankName} ${it.historicalAccountNumber}`;me.setFontSize(9),me.setTextColor(100,100,100),me.text(Vr,20,Qe+(it.description?48:40)),me.setFontSize(10),me.setTextColor(0,0,0)}if(it.transactionProofUrl||it.receiptImageUrl){const Vr=it.transactionProofUrl||it.receiptImageUrl;try{const ir=new Image;ir.crossOrigin="anonymous",await new Promise((rs,vh)=>{ir.onload=()=>{try{const js=document.createElement("canvas"),ei=js.getContext("2d");js.width=ir.width,js.height=ir.height,ei==null||ei.drawImage(ir,0,0);const Tp=js.toDataURL("image/jpeg",.8),bh=30,wh=ir.height/ir.width*bh;Qe+50+wh>280&&(me.addPage(),Qe=25),me.addImage(Tp,"JPEG",150,Qe+8,bh,wh),me.text("Proof:",150,Qe),rs(null)}catch(js){console.error("Error processing image:",js),me.text("Proof Image: Available",120,Qe),rs(null)}},ir.onerror=()=>{me.text("Proof Image: Available",120,Qe),rs(null)},ir.src=Vr})}catch(ir){console.error("Error loading image:",ir),me.text("Proof: Available",150,Qe)}}else me.text("Proof: Not Available",150,Qe);Qe+=60,me.setLineWidth(.2),me.line(20,Qe,190,Qe),Qe+=10}me.save(`${(e==null?void 0:e.firstName)||"affiliate"}_payment_history.pdf`),n({title:"Export Successful",description:"Payment history PDF exported successfully!"})}catch(se){console.error("Error exporting payment history:",se),n({title:"Export Failed",description:"Failed to export payment history PDF.",variant:"destructive"})}},[u,h]=v.useState(null),[f,p]=v.useState(!1),[x,m]=v.useState(""),[g,y]=v.useState(null),[j,w]=v.useState(!1),[b,N]=v.useState(""),[S,C]=v.useState(null),[P,_]=v.useState(null),[A,k]=v.useState(!1),[E,L]=v.useState({bankName:"",accountOwnerName:"",accountNumber:"",accountType:"checking"}),[F,U]=v.useState(!1),[W,V]=v.useState(null),{data:D=[],isLoading:T}=ue({queryKey:["/api/white-label-affiliate/plans"],enabled:!!e&&t}),{data:$=[],isLoading:O}=ue({queryKey:["/api/white-label-affiliate/announcements"],enabled:!!e&&t}),{data:R,isLoading:I}=ue({queryKey:["/api/white-label-affiliate/commissions"],enabled:!!e&&t}),{data:H,isLoading:he}=ue({queryKey:["/api/white-label-affiliate/referrals"],enabled:!!e&&t}),{data:ie,isLoading:je}=ue({queryKey:["/api/white-label-affiliate/referral-code"],enabled:!!e&&t}),{data:xe,isLoading:pe,error:ye}=ue({queryKey:["/api/white-labels/by-id",e==null?void 0:e.whiteLabelId],queryFn:async()=>{const se=await fetch(`/api/white-labels/by-id/${e.whiteLabelId}`);if(!se.ok)throw new Error("Failed to fetch white label info");return se.json()},enabled:!!(e!=null&&e.whiteLabelId)&&t,staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0});console.log(" White Label Affiliate Dashboard Debug:",{userId:e==null?void 0:e.id,userRole:e==null?void 0:e.role,whiteLabelId:e==null?void 0:e.whiteLabelId,whiteLabelInfo:xe,isWhiteLabelLoading:pe,whiteLabelError:ye,domainPath:xe==null?void 0:xe.domainPath}),v.useEffect(()=>{e!=null&&e.whiteLabelId&&t&&(console.log(" Invalidating white label cache for fresh domainPath fetch"),a.invalidateQueries({queryKey:["/api/white-labels/by-id",e.whiteLabelId]}))},[e==null?void 0:e.whiteLabelId,t,a]);const{data:X,isLoading:B}=ue({queryKey:["/api/white-label-affiliate/payment-account"],enabled:!!e&&t}),{data:ce=[],isLoading:ve}=ue({queryKey:["/api/white-label-affiliate/payment-history"],enabled:!!e&&t}),{data:q=[]}=ue({queryKey:[`/api/announcements/${u==null?void 0:u.id}/comments`],enabled:!!(u!=null&&u.id),refetchOnWindowFocus:!1}),oe=Oe({mutationFn:async se=>await Pe(`/api/announcements/${se}/like`,"POST"),onMutate:async se=>{await a.cancelQueries({queryKey:["/api/white-label-affiliate/announcements"]});const me=a.getQueryData(["/api/white-label-affiliate/announcements"]);return a.setQueryData(["/api/white-label-affiliate/announcements"],Xe=>Xe==null?void 0:Xe.map(He=>He.id===se?{...He,userLiked:!He.userLiked,likesCount:He.userLiked?He.likesCount-1:He.likesCount+1}:He)),{previousAnnouncements:me}},onError:(se,me,Xe)=>{a.setQueryData(["/api/white-label-affiliate/announcements"],Xe.previousAnnouncements),n({title:"Error",description:se.message||"Failed to update like. Please try again.",variant:"destructive"})},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/white-label-affiliate/announcements"]})}}),le=Oe({mutationFn:async({announcementId:se,comment:me})=>await Pe(`/api/announcements/${se}/comments`,"POST",{content:me}),onSuccess:()=>{m(""),a.invalidateQueries({queryKey:["/api/white-label-affiliate/announcements"]}),a.invalidateQueries({queryKey:[`/api/announcements/${u==null?void 0:u.id}/comments`]}),n({title:"Success",description:"Comment added successfully!"})}}),Ne=Oe({mutationFn:async se=>await(await Pe("/api/white-label-affiliate/check-referral-code","POST",{referralCode:se})).json(),onSuccess:se=>{C(se.status),_(se.message)}}),Me=Oe({mutationFn:async se=>await Pe("/api/white-label-affiliate/referral-code","PUT",{referralCode:se}),onSuccess:se=>{a.invalidateQueries({queryKey:["/api/white-label-affiliate/referral-code"]}),w(!1),N(""),n({title:"Success",description:se.message||"Referral code updated successfully!"})},onError:se=>{n({title:"Error",description:se.message||"Failed to update referral code",variant:"destructive"})}}),Le=Oe({mutationFn:async se=>await Pe("/api/white-label-affiliate/payment-account","POST",se),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/white-label-affiliate/payment-account"]}),k(!1),L({bankName:"",accountOwnerName:"",accountNumber:"",accountType:"checking"}),n({title:"Success",description:"Payment account created successfully"})},onError:se=>{n({title:"Error",description:se.message||"Failed to create payment account",variant:"destructive"})}}),Ie=Oe({mutationFn:async se=>await Pe("/api/white-label-affiliate/payment-account","PUT",se),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/white-label-affiliate/payment-account"]}),k(!1),n({title:"Success",description:"Payment account updated successfully"})},onError:se=>{n({title:"Error",description:se.message||"Failed to update payment account",variant:"destructive"})}}),qe=se=>{const me=ie==null?void 0:ie.referralCode;if(!me)return;const Xe=xe==null?void 0:xe.domainPath;if(!Xe){n({title:"Error",description:"Domain path not available",variant:"destructive"});return}const He=`${window.location.origin}/${Xe}?${me}`;navigator.clipboard.writeText(He),n({title:"Referral URL Copied!",description:"Your referral URL has been copied to clipboard"})},z=se=>{N(se),C(null),_(null),se.trim().length>=3&&Ne.mutate(se.trim())},de=()=>{b.trim().length>=3&&S==="available"&&Me.mutate(b.trim())},ee=()=>{w(!0),N((ie==null?void 0:ie.referralCode)||""),C(null)},Te=()=>{w(!1),N(""),C(null)},Nt=()=>{X&&L({bankName:X.bankName,accountOwnerName:X.accountOwnerName,accountNumber:X.accountNumber,accountType:X.accountType}),k(!0)},dt=()=>{k(!1),L({bankName:"",accountOwnerName:"",accountNumber:"",accountType:"checking"})},ae=()=>{if(!E.bankName||!E.accountOwnerName||!E.accountNumber){n({title:"Error",description:"All fields are required",variant:"destructive"});return}X?Ie.mutate(E):Le.mutate(E)};return r||T||O?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading White Label Affiliate dashboard..."})]})}):t?s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center py-4 sm:py-6 gap-3 sm:gap-0",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white truncate",children:"White Label Affiliate Dashboard"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 truncate",children:["Welcome back, ",(e==null?void 0:e.firstName)||(e==null?void 0:e.name)||(e==null?void 0:e.email)]})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs(M,{onClick:()=>{fetch("/api/auth/logout",{method:"POST"}).then(()=>{window.location.href="/"}).catch(console.error)},variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 w-full sm:w-auto",children:[s.jsx(hc,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2"}),"Logout"]})})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8",children:s.jsxs(es,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-2 sm:grid-cols-5 gap-2",children:[s.jsx(Ge,{value:"overview",className:"text-xs sm:text-sm",children:"Overview"}),s.jsx(Ge,{value:"referrals",className:"text-xs sm:text-sm",children:"Referrals"}),s.jsx(Ge,{value:"commissions",className:"text-xs sm:text-sm",children:"Commissions"}),s.jsx(Ge,{value:"announcements",className:"text-xs sm:text-sm",children:"Announcements"}),s.jsx(Ge,{value:"payments",className:"text-xs sm:text-sm",children:"Payments"})]}),s.jsxs(Ye,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Referrals"}),s.jsx(ct,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(H==null?void 0:H.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time referrals"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Commission"}),s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c((R==null?void 0:R.reduce((se,me)=>{var Xe;return se+(((Xe=me.metrics)==null?void 0:Xe.affiliateCommission)||0)},0))||0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your total commission earnings"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Main Site Plans"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(D==null?void 0:D.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Available plans"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{className:"flex items-center gap-2",children:"Your Referral URL"}),s.jsx(tt,{children:"Create and manage your unique referral URL for commission tracking"})]}),s.jsx(G,{children:pe||je?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):xe!=null&&xe.domainPath?j?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col sm:flex-row items-stretch border rounded-md",children:[s.jsxs("div",{className:"px-3 py-2 bg-gray-50 text-gray-600 text-sm border-b sm:border-b-0 sm:border-r",children:[window.location.origin,"/",xe.domainPath,"?"]}),s.jsx(J,{value:b,onChange:se=>z(se.target.value),placeholder:"Enter referral code (min 3 characters)",className:"border-0 focus:ring-0 rounded-l-none",disabled:Me.isPending})]}),S&&s.jsx(be,{variant:S==="available"?"default":S==="current"?"secondary":"destructive",className:S==="available"?"bg-green-100 text-green-800":S==="current"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800",children:P||(S==="available"?"Available":S==="current"?"Your Current Referral URL":"Not Available")})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(M,{onClick:de,size:"sm",disabled:!b.trim()||S!=="available"||Me.isPending,children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),Me.isPending?"Saving...":"Save"]}),s.jsxs(M,{onClick:Te,size:"sm",variant:"outline",disabled:Me.isPending,children:[s.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"space-y-3",children:ie!=null&&ie.hasReferralCode?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[s.jsxs("div",{className:"flex-1 w-full px-3 py-2 bg-green-50 border border-green-200 rounded-md font-mono text-sm break-all",children:[window.location.origin,"/",xe.domainPath,"?",ie.referralCode]}),s.jsx("div",{className:"flex gap-2 shrink-0",children:s.jsx(M,{onClick:()=>qe(),size:"sm",variant:"outline",children:s.jsx(qn,{className:"w-4 h-4"})})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(be,{variant:"default",className:"bg-green-100 text-green-800",children:"Your Current Referral URL"}),s.jsxs(M,{onClick:ee,size:"sm",variant:"outline",children:[s.jsx(Cd,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]}):s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[s.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-500",children:"No referral URL set"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(be,{variant:"outline",className:"text-gray-600",children:"Not Available"}),s.jsxs(M,{onClick:ee,size:"sm",variant:"outline",children:[s.jsx(Cd,{className:"w-4 h-4 mr-2"}),"Create"]})]})]})})}):s.jsx("div",{className:"px-3 py-2 bg-red-50 border border-red-200 rounded-md text-sm text-red-600",children:"Domain path not available. Please contact support."})})]}),(ie==null?void 0:ie.hasReferralCode)&&(xe==null?void 0:xe.domainPath)&&s.jsx(wC,{url:`${window.location.origin}/${xe.domainPath}?${ie.referralCode}`,title:"Referral URL",size:180})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"w-5 h-5"}),"Recent Activity"]}),s.jsx(tt,{children:"Latest updates from platform"})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Yo,{className:"w-5 h-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Platform announcement posted"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Check announcements for latest updates"})]})]}),s.jsx(be,{variant:"outline",children:"New"})]})})})]})]}),s.jsx(Ye,{value:"referrals",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:"Referral Management"}),s.jsx(tt,{children:"Track your white-label client referrals and earnings"})]}),s.jsx(G,{className:"space-y-6",children:(H==null?void 0:H.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ct,{className:"h-12 w-12 mx-auto mb-4",style:vr("Users",{primaryColor:i,secondaryColor:o})}),s.jsx("p",{className:"text-gray-500",children:"No referrals yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Start sharing your referral link to earn commissions"})]}):s.jsx("div",{className:"space-y-4",children:H==null?void 0:H.map((se,me)=>{var Xe,He,Qe,mt,it,Vr;return s.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-semibold text-lg",children:((Xe=se.business)==null?void 0:Xe.businessName)||`${((He=se.purchaser)==null?void 0:He.firstName)||""} ${((Qe=se.purchaser)==null?void 0:Qe.lastName)||""}`.trim()||((mt=se.purchaser)==null?void 0:mt.email)}),s.jsx(be,{variant:"default",className:"bg-green-100 text-green-800",children:((it=se.purchaser)==null?void 0:it.role)==="white_label_client"?"White-Label Client":"Customer"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",(Vr=se.purchaser)==null?void 0:Vr.email]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Plans Purchased:"})," ",se.planSummary]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Total Purchases:"})," ",se.totalPurchases]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Last Purchase:"})," ",l(se.lastPurchaseDate)]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:c(parseFloat(se.totalCommission)||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Commission Earned"})]})]})},me)})})})]})}),s.jsx(Ye,{value:"commissions",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:"Commission Overview"}),s.jsx(tt,{children:"Track your earnings from main site plan referrals"})]}),s.jsx(G,{children:I?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(R==null?void 0:R.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tt,{className:"h-12 w-12 mx-auto mb-4",style:vr("DollarSign",{primaryColor:i,secondaryColor:o})}),s.jsx("p",{className:"text-gray-500",children:"No commissions yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Commissions will appear here once your referrals make purchases"})]}):s.jsx("div",{className:"space-y-4",children:R==null?void 0:R.map((se,me)=>{var Xe,He,Qe,mt,it,Vr;return s.jsxs("div",{className:"border rounded-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:(Xe=se.plan)==null?void 0:Xe.name}),s.jsx("p",{className:"text-gray-600 text-sm",children:(He=se.plan)==null?void 0:He.description})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>y(g===me?null:me),children:[g===me?"Hide":"View"," Details"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:((Qe=se.metrics)==null?void 0:Qe.totalPurchases)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Purchases"})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c(((mt=se.metrics)==null?void 0:mt.affiliateCommission)||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Your Commission"})]})]}),g===me&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Commission Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Plan Price:"}),s.jsx("span",{className:"ml-2 font-medium",children:c(parseFloat(((it=se.plan)==null?void 0:it.monthlyPrice)||0))})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Commission Rate:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[((Vr=se.plan)==null?void 0:Vr.affiliateCommissionPercentage)||0,"%"]})]})]})]})]},me)})})})]})}),s.jsx(Ye,{value:"announcements",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:"Platform Announcements"}),s.jsx(tt,{children:"Stay updated with latest platform news and updates"})]}),s.jsx(G,{children:O?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):($==null?void 0:$.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ms,{className:"h-12 w-12 mx-auto mb-4",style:vr("Bell",{primaryColor:i,secondaryColor:o})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Announcements"}),s.jsx("p",{className:"text-gray-600",children:"Platform announcements will appear here."})]}):s.jsx("div",{className:"space-y-4",children:$==null?void 0:$.map(se=>s.jsx("div",{className:"border rounded-lg p-4 sm:p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-base sm:text-lg flex-1 min-w-0",children:se.title}),s.jsx(be,{variant:se.type==="info"?"default":se.type==="success"?"secondary":"destructive",className:"text-xs",children:se.type})]}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:se.content}),se.attachments&&Array.isArray(se.attachments)&&se.attachments.length>0&&s.jsx("div",{className:"space-y-3",children:s.jsx("div",{className:"grid grid-cols-1 gap-3",children:se.attachments.map((me,Xe)=>{var mt,it,Vr,ir;const He=((mt=me.type)==null?void 0:mt.startsWith("image/"))||me.type==="image"||((it=me.name)==null?void 0:it.match(/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i)),Qe=((Vr=me.type)==null?void 0:Vr.startsWith("video/"))||me.type==="video"||((ir=me.name)==null?void 0:ir.match(/\.(mp4|webm|ogg|mov|avi)$/i));return s.jsx("div",{className:"rounded-lg overflow-hidden border",children:He?s.jsx("img",{src:me.url,alt:me.name||"Announcement image",className:"w-full h-40 sm:h-48 object-cover cursor-pointer",onClick:()=>window.open(me.url,"_blank"),onError:rs=>{console.error("Failed to load image:",me.url),rs.currentTarget.style.display="none",rs.currentTarget.parentElement.innerHTML=`
                                                <div class="p-3 sm:p-4 bg-gray-50 flex items-center">
                                                  <p class="text-xs text-gray-500">Failed to load image: ${me.name}</p>
                                                </div>
                                              `}}):Qe?s.jsx("video",{controls:!0,className:"w-full h-40 sm:h-48",src:me.url}):s.jsxs("div",{className:"p-3 sm:p-4 bg-gray-50 flex items-center",children:[s.jsx(Bt,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-3",style:{color:o||"#8B5CF6"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-xs sm:text-sm",children:me.name}),s.jsx("p",{className:"text-xs text-gray-500",children:"File attachment"})]})]})},Xe)})})}),s.jsx("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l(se.createdAt)]})})]}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(M,{variant:se.userLiked?"default":"outline",size:"sm",onClick:()=>oe.mutate(se.id),disabled:oe.isPending,className:"text-xs sm:text-sm","data-testid":`button-like-${se.id}`,style:se.userLiked?{backgroundColor:i||"#3b82f6",borderColor:i||"#3b82f6"}:{},children:[s.jsx(UD,{className:`w-3 h-3 sm:w-4 sm:h-4 mr-1 ${se.userLiked?"fill-current":""}`}),"Like (",se.likesCount||0,")"]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>{h(se),p(!0)},className:"text-xs sm:text-sm",children:[s.jsx(Yo,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Comments (",se.commentsCount||0,")"]})]})})]})},se.id))})})]})}),s.jsxs(Ye,{value:"payments",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-5 h-5"}),"Payment Account"]}),s.jsx(tt,{children:"Manage your payment account information for commission payouts"})]}),s.jsx(G,{className:"space-y-6",children:B?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-gray-500",children:"Loading payment account..."})}):!X&&!A?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ht,{className:"h-16 w-16 mx-auto mb-4",style:vr("CreditCard",{primaryColor:i,secondaryColor:o})}),s.jsx("h3",{className:"font-medium text-lg mb-2",children:"Add Account To Get Your Commission"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Set up your payment account information to receive commission payouts"}),s.jsx(M,{onClick:()=>k(!0),children:"Add Account"})]}):A?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-lg",children:X?"Edit Account Information":"Add Account Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Bank Name"}),s.jsx(J,{placeholder:"Enter bank name",value:E.bankName,onChange:se=>L({...E,bankName:se.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Account Owner Name"}),s.jsx(J,{placeholder:"Full name on account",value:E.accountOwnerName,onChange:se=>L({...E,accountOwnerName:se.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Account Number"}),s.jsx(J,{placeholder:"Account number",value:E.accountNumber,onChange:se=>L({...E,accountNumber:se.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Account Type"}),s.jsxs(an,{value:E.accountType,onValueChange:se=>L({...E,accountType:se}),children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:"Select account type"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"checking",children:"Personal Checking"}),s.jsx(Ae,{value:"savings",children:"Personal Savings"}),s.jsx(Ae,{value:"business_checking",children:"Business Checking"}),s.jsx(Ae,{value:"business_savings",children:"Business Savings"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{onClick:ae,disabled:Le.isPending||Ie.isPending,children:Le.isPending||Ie.isPending?"Saving...":X?"Update Account":"Add Account"}),s.jsx(M,{variant:"outline",onClick:dt,children:"Cancel"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-lg",children:"Account Information"}),s.jsxs(M,{variant:"outline",onClick:Nt,children:[s.jsx(Cd,{className:"w-4 h-4 mr-2"}),"Edit"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Bank Name"}),s.jsx("p",{className:"font-medium",children:X==null?void 0:X.bankName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Account Owner Name"}),s.jsx("p",{className:"font-medium",children:X==null?void 0:X.accountOwnerName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Account Number"}),s.jsxs("p",{className:"font-medium",children:["****",(Se=X==null?void 0:X.accountNumber)==null?void 0:Se.slice(-4)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Account Type"}),s.jsx("p",{className:"font-medium capitalize",children:(bt=X==null?void 0:X.accountType)==null?void 0:bt.replace("_"," ")})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-5 h-5 text-green-600 mr-2"}),s.jsx("span",{className:"text-green-800 font-medium",children:"Account Ready for Payouts"})]}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Your payment account is set up and ready to receive commission payouts."})]})]})})]}),X&&s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"w-5 h-5"}),"Payment Transaction History"]}),s.jsx(tt,{children:"Track your commission payments and transaction history"})]}),s.jsx(G,{children:ve?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-gray-500",children:"Loading payment history..."})}):ce.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Oa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"font-medium text-lg mb-2",children:"No Payment History"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Your payment transaction history will appear here once payments are made."})]}):s.jsxs("div",{className:"space-y-4",children:[ce.slice(0,3).map((se,me)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("div",{className:"text-lg font-semibold text-green-600",children:["$",parseFloat(se.amount||"0").toFixed(2)]}),s.jsx(be,{variant:se.status==="completed"?"default":se.status==="pending"?"secondary":"destructive",className:se.status==="completed"?"bg-green-100 text-green-800":"",children:se.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",se.paymentMethod||"Bank Transfer"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",l(se.createdAt)]}),se.description&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",se.description]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:se.transactionProofUrl&&s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>window.open(se.transactionProofUrl,"_blank"),children:[s.jsx(Ir,{className:"w-4 h-4 mr-1"}),"Proof"]})})]},se.id||me)),ce.length>0&&s.jsx("div",{className:"flex justify-center pt-4",children:s.jsxs(M,{variant:"outline",onClick:()=>U(!0),className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"w-4 h-4",style:vr("History",{primaryColor:i,secondaryColor:o})}),"View Lifetime History (",ce.length," transactions)"]})})]})})]})]})]})}),s.jsx(ar,{open:f,onOpenChange:p,children:s.jsxs(Yt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsx(Qt,{children:u==null?void 0:u.title}),s.jsxs(gs,{children:["Posted on ",u!=null&&u.createdAt?l(u.createdAt):""]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:s.jsx("p",{children:u==null?void 0:u.content})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Comments"}),!q||q.length===0?s.jsx("p",{className:"text-gray-500 text-sm",children:"No comments yet."}):s.jsx("div",{className:"space-y-3",children:q.map((se,me)=>s.jsx("div",{className:"flex gap-3 p-3 bg-white border rounded-lg",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:se.authorName||"Anonymous"}),s.jsx("span",{className:"text-xs text-gray-500",children:l(se.createdAt)})]}),s.jsx("p",{className:"text-sm",children:se.content})]})},se.id||me))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pr,{value:x,onChange:se=>m(se.target.value),placeholder:"Add a comment...",rows:2,className:"flex-1"}),s.jsx(M,{onClick:()=>le.mutate({announcementId:u==null?void 0:u.id,comment:x}),disabled:!x.trim()||le.isPending,children:"Post"})]})]})]})]})}),s.jsx(ar,{open:F,onOpenChange:U,children:s.jsxs(Yt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"w-5 h-5"}),"Lifetime Payment History"]}),s.jsx(gs,{children:"Complete payment transaction history and records"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:ce.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Transactions"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",ce.reduce((se,me)=>se+parseFloat(me.amount||"0"),0).toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Received"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ce.filter(se=>se.status==="completed").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(M,{variant:"outline",onClick:()=>d(),className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-4 h-4"}),"Export PDF"]})}),s.jsx("div",{className:"space-y-3",children:ce.map((se,me)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("div",{className:"text-lg font-semibold text-green-600",children:["$",parseFloat(se.amount||"0").toFixed(2)]}),s.jsx(be,{variant:se.status==="completed"?"default":se.status==="pending"?"secondary":"destructive",className:se.status==="completed"?"bg-green-100 text-green-800":"",children:se.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",se.paymentMethod||"Bank Transfer"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",l(se.createdAt)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",se.id]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Bank:"})," ",se.historicalBankName||"N/A"]}),se.description&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",se.description]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:se.transactionProofUrl&&s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>window.open(se.transactionProofUrl,"_blank"),children:[s.jsx(Ir,{className:"w-4 h-4 mr-1"}),"View Proof"]})})]},se.id||me))}),ce.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Oa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"font-medium text-lg mb-2",children:"No Payment History"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Your payment transaction history will appear here once payments are made."})]})]})]})})]}):null}var h0="Popover",[RL]=zr(h0,[ol]),wp=ol(),[Mse,ul]=RL(h0),$L=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=wp(t),c=v.useRef(null),[d,u]=v.useState(!1),[h,f]=ga({prop:n,defaultProp:a??!1,onChange:i,caller:h0});return s.jsx(LS,{...l,children:s.jsx(Mse,{scope:t,contentId:fa(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:d,onCustomAnchorAdd:v.useCallback(()=>u(!0),[]),onCustomAnchorRemove:v.useCallback(()=>u(!1),[]),modal:o,children:r})})};$L.displayName=h0;var LL="PopoverAnchor",Dse=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ul(LL,r),i=wp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(fp,{...i,...n,ref:t})});Dse.displayName=LL;var FL="PopoverTrigger",zL=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ul(FL,r),i=wp(r),o=et(t,a.triggerRef),l=s.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":HL(a.open),...n,ref:o,onClick:Ce(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(fp,{asChild:!0,...i,children:l})});zL.displayName=FL;var CC="PopoverPortal",[Ise,Rse]=RL(CC,{forceMount:void 0}),BL=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=ul(CC,t);return s.jsx(Ise,{scope:t,forceMount:r,children:s.jsx(Br,{present:r||i.open,children:s.jsx(Yu,{asChild:!0,container:a,children:n})})})};BL.displayName=CC;var mu="PopoverContent",UL=v.forwardRef((e,t)=>{const r=Rse(mu,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=ul(mu,e.__scopePopover);return s.jsx(Br,{present:n||i.open,children:i.modal?s.jsx(Lse,{...a,ref:t}):s.jsx(Fse,{...a,ref:t})})});UL.displayName=mu;var $se=Ko("PopoverContent.RemoveScroll"),Lse=v.forwardRef((e,t)=>{const r=ul(mu,e.__scopePopover),n=v.useRef(null),a=et(t,n),i=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return Kv(o)},[]),s.jsx(pp,{as:$se,allowPinchZoom:!0,children:s.jsx(WL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Fse=v.forwardRef((e,t)=>{const r=ul(mu,e.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return s.jsx(WL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),WL=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,f=ul(mu,r),p=wp(r);return Hv(),s.jsx(mp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(_c,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(Bv,{"data-state":HL(f.open),role:"dialog",id:f.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),VL="PopoverClose",zse=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ul(VL,r);return s.jsx(ze.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,()=>a.onOpenChange(!1))})});zse.displayName=VL;var Bse="PopoverArrow",Use=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=wp(r);return s.jsx(Uv,{...a,...n,ref:t})});Use.displayName=Bse;function HL(e){return e?"open":"closed"}var Wse=$L,Vse=zL,Hse=BL,qL=UL;const qse=Wse,Kse=Vse,KL=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Hse,{children:s.jsx(qL,{ref:a,align:t,sideOffset:r,className:De("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));KL.displayName=qL.displayName;var f0="Checkbox",[Gse]=zr(f0),[Yse,PC]=Gse(f0);function Xse(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[f,p]=ga({prop:r,defaultProp:a??!1,onChange:c,caller:f0}),[x,m]=v.useState(null),[g,y]=v.useState(null),j=v.useRef(!1),w=x?!!o||!!x.closest("form"):!0,b={checked:f,disabled:i,setChecked:p,control:x,setControl:m,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:j,required:d,defaultChecked:Bo(a)?!1:a,isFormControl:w,bubbleInput:g,setBubbleInput:y};return s.jsx(Yse,{scope:t,...b,children:Qse(h)?h(b):n})}var GL="CheckboxTrigger",YL=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:x}=PC(GL,e),m=et(a,u),g=v.useRef(c);return v.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const j=()=>h(g.current);return y.addEventListener("reset",j),()=>y.removeEventListener("reset",j)}},[i,h]),s.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":Bo(c)?"mixed":c,"aria-required":d,"data-state":e8(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:Ce(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Ce(r,y=>{h(j=>Bo(j)?!0:!j),x&&p&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});YL.displayName=GL;var kC=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return s.jsx(Xse,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>s.jsxs(s.Fragment,{children:[s.jsx(YL,{...h,ref:t,__scopeCheckbox:r}),f&&s.jsx(JL,{__scopeCheckbox:r})]})})});kC.displayName=f0;var XL="CheckboxIndicator",QL=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=PC(XL,r);return s.jsx(Br,{present:n||Bo(i.checked)||i.checked===!0,children:s.jsx(ze.span,{"data-state":e8(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});QL.displayName=XL;var ZL="CheckboxBubbleInput",JL=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:f,setBubbleInput:p}=PC(ZL,e),x=et(r,p),m=s0(i),g=zv(n);v.useEffect(()=>{const j=f;if(!j)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,S=!a.current;if(m!==i&&N){const C=new Event("click",{bubbles:S});j.indeterminate=Bo(i),N.call(j,Bo(i)?!1:i),j.dispatchEvent(C)}},[f,m,i,a]);const y=v.useRef(Bo(i)?!1:i);return s.jsx(ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});JL.displayName=ZL;function Qse(e){return typeof e=="function"}function Bo(e){return e==="indeterminate"}function e8(e){return Bo(e)?"indeterminate":e?"checked":"unchecked"}const Uo=v.forwardRef(({className:e,...t},r)=>s.jsx(kC,{ref:r,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(QL,{className:De("flex items-center justify-center text-current"),children:s.jsx(Qr,{className:"h-4 w-4"})})}));Uo.displayName=kC.displayName;var t8="AlertDialog",[Zse]=zr(t8,[zI]),Vi=zI(),r8=e=>{const{__scopeAlertDialog:t,...r}=e,n=Vi(t);return s.jsx(rR,{...n,...r,modal:!0})};r8.displayName=t8;var Jse="AlertDialogTrigger",n8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Vi(r);return s.jsx(nR,{...a,...n,ref:t})});n8.displayName=Jse;var eae="AlertDialogPortal",s8=e=>{const{__scopeAlertDialog:t,...r}=e,n=Vi(t);return s.jsx(sR,{...n,...r})};s8.displayName=eae;var tae="AlertDialogOverlay",a8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Vi(r);return s.jsx(WS,{...a,...n,ref:t})});a8.displayName=tae;var Ed="AlertDialogContent",[rae,nae]=Zse(Ed),sae=cD("AlertDialogContent"),i8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Vi(r),o=v.useRef(null),l=et(t,o),c=v.useRef(null);return s.jsx(RX,{contentName:Ed,titleName:o8,docsSlug:"alert-dialog",children:s.jsx(rae,{scope:r,cancelRef:c,children:s.jsxs(VS,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ce(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(sae,{children:n}),s.jsx(iae,{contentRef:o})]})})})});i8.displayName=Ed;var o8="AlertDialogTitle",l8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Vi(r);return s.jsx(HS,{...a,...n,ref:t})});l8.displayName=o8;var c8="AlertDialogDescription",d8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Vi(r);return s.jsx(qS,{...a,...n,ref:t})});d8.displayName=c8;var aae="AlertDialogAction",u8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Vi(r);return s.jsx(KS,{...a,...n,ref:t})});u8.displayName=aae;var h8="AlertDialogCancel",f8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=nae(h8,r),i=Vi(r),o=et(t,a);return s.jsx(KS,{...i,...n,ref:o})});f8.displayName=h8;var iae=({contentRef:e})=>{const t=`\`${Ed}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ed}\` by passing a \`${c8}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ed}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},oae=r8,lae=n8,cae=s8,m8=a8,p8=i8,g8=u8,x8=f8,y8=l8,v8=d8;const dae=oae,uae=lae,hae=cae,b8=v.forwardRef(({className:e,...t},r)=>s.jsx(m8,{className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));b8.displayName=m8.displayName;const w8=v.forwardRef(({className:e,...t},r)=>s.jsxs(hae,{children:[s.jsx(b8,{}),s.jsx(p8,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));w8.displayName=p8.displayName;const j8=({className:e,...t})=>s.jsx("div",{className:De("flex flex-col space-y-2 text-center sm:text-left",e),...t});j8.displayName="AlertDialogHeader";const N8=({className:e,...t})=>s.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});N8.displayName="AlertDialogFooter";const S8=v.forwardRef(({className:e,...t},r)=>s.jsx(y8,{ref:r,className:De("text-lg font-semibold",e),...t}));S8.displayName=y8.displayName;const C8=v.forwardRef(({className:e,...t},r)=>s.jsx(v8,{ref:r,className:De("text-sm text-muted-foreground",e),...t}));C8.displayName=v8.displayName;const P8=v.forwardRef(({className:e,...t},r)=>s.jsx(g8,{ref:r,className:De(GS(),e),...t}));P8.displayName=g8.displayName;const k8=v.forwardRef(({className:e,...t},r)=>s.jsx(x8,{ref:r,className:De(GS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));k8.displayName=x8.displayName;var M1=["Enter"," "],fae=["ArrowDown","PageUp","Home"],_8=["ArrowUp","PageDown","End"],mae=[...fae,..._8],pae={ltr:[...M1,"ArrowRight"],rtl:[...M1,"ArrowLeft"]},gae={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jp="Menu",[um,xae,yae]=Mv(jp),[Oc,A8]=zr(jp,[yae,ol,nh]),m0=ol(),E8=nh(),[vae,Mc]=Oc(jp),[bae,Np]=Oc(jp),T8=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=m0(t),[c,d]=v.useState(null),u=v.useRef(!1),h=gr(i),f=rh(a);return v.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(LS,{...l,children:s.jsx(vae,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(bae,{scope:t,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:n})})})};T8.displayName=jp;var wae="MenuAnchor",_C=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=m0(r);return s.jsx(fp,{...a,...n,ref:t})});_C.displayName=wae;var AC="MenuPortal",[jae,O8]=Oc(AC,{forceMount:void 0}),M8=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Mc(AC,t);return s.jsx(jae,{scope:t,forceMount:r,children:s.jsx(Br,{present:r||i.open,children:s.jsx(Yu,{asChild:!0,container:a,children:n})})})};M8.displayName=AC;var Ls="MenuContent",[Nae,EC]=Oc(Ls),D8=v.forwardRef((e,t)=>{const r=O8(Ls,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Mc(Ls,e.__scopeMenu),o=Np(Ls,e.__scopeMenu);return s.jsx(um.Provider,{scope:e.__scopeMenu,children:s.jsx(Br,{present:n||i.open,children:s.jsx(um.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Sae,{...a,ref:t}):s.jsx(Cae,{...a,ref:t})})})})}),Sae=v.forwardRef((e,t)=>{const r=Mc(Ls,e.__scopeMenu),n=v.useRef(null),a=et(t,n);return v.useEffect(()=>{const i=n.current;if(i)return Kv(i)},[]),s.jsx(TC,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ce(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Cae=v.forwardRef((e,t)=>{const r=Mc(Ls,e.__scopeMenu);return s.jsx(TC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Pae=Ko("MenuContent.ScrollLock"),TC=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:x,...m}=e,g=Mc(Ls,r),y=Np(Ls,r),j=m0(r),w=E8(r),b=xae(r),[N,S]=v.useState(null),C=v.useRef(null),P=et(t,C,g.onContentChange),_=v.useRef(0),A=v.useRef(""),k=v.useRef(0),E=v.useRef(null),L=v.useRef("right"),F=v.useRef(0),U=x?pp:v.Fragment,W=x?{as:Pae,allowPinchZoom:!0}:void 0,V=T=>{var je,xe;const $=A.current+T,O=b().filter(pe=>!pe.disabled),R=document.activeElement,I=(je=O.find(pe=>pe.ref.current===R))==null?void 0:je.textValue,H=O.map(pe=>pe.textValue),he=Lae(H,$,I),ie=(xe=O.find(pe=>pe.textValue===he))==null?void 0:xe.ref.current;(function pe(ye){A.current=ye,window.clearTimeout(_.current),ye!==""&&(_.current=window.setTimeout(()=>pe(""),1e3))})($),ie&&setTimeout(()=>ie.focus())};v.useEffect(()=>()=>window.clearTimeout(_.current),[]),Hv();const D=v.useCallback(T=>{var O,R;return L.current===((O=E.current)==null?void 0:O.side)&&zae(T,(R=E.current)==null?void 0:R.area)},[]);return s.jsx(Nae,{scope:r,searchRef:A,onItemEnter:v.useCallback(T=>{D(T)&&T.preventDefault()},[D]),onItemLeave:v.useCallback(T=>{var $;D(T)||(($=C.current)==null||$.focus(),S(null))},[D]),onTriggerLeave:v.useCallback(T=>{D(T)&&T.preventDefault()},[D]),pointerGraceTimerRef:k,onPointerGraceIntentChange:v.useCallback(T=>{E.current=T},[]),children:s.jsx(U,{...W,children:s.jsx(mp,{asChild:!0,trapped:a,onMountAutoFocus:Ce(i,T=>{var $;T.preventDefault(),($=C.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(_c,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:s.jsx(uC,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:Ce(c,T=>{y.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Bv,{role:"menu","aria-orientation":"vertical","data-state":X8(g.open),"data-radix-menu-content":"",dir:y.dir,...j,...m,ref:P,style:{outline:"none",...m.style},onKeyDown:Ce(m.onKeyDown,T=>{const O=T.target.closest("[data-radix-menu-content]")===T.currentTarget,R=T.ctrlKey||T.altKey||T.metaKey,I=T.key.length===1;O&&(T.key==="Tab"&&T.preventDefault(),!R&&I&&V(T.key));const H=C.current;if(T.target!==H||!mae.includes(T.key))return;T.preventDefault();const ie=b().filter(je=>!je.disabled).map(je=>je.ref.current);_8.includes(T.key)&&ie.reverse(),Rae(ie)}),onBlur:Ce(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(_.current),A.current="")}),onPointerMove:Ce(e.onPointerMove,hm(T=>{const $=T.target,O=F.current!==T.clientX;if(T.currentTarget.contains($)&&O){const R=T.clientX>F.current?"right":"left";L.current=R,F.current=T.clientX}}))})})})})})})});D8.displayName=Ls;var kae="MenuGroup",OC=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ze.div,{role:"group",...n,ref:t})});OC.displayName=kae;var _ae="MenuLabel",I8=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ze.div,{...n,ref:t})});I8.displayName=_ae;var ey="MenuItem",FA="menu.itemSelect",p0=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=v.useRef(null),o=Np(ey,e.__scopeMenu),l=EC(ey,e.__scopeMenu),c=et(t,i),d=v.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const f=new CustomEvent(FA,{bubbles:!0,cancelable:!0});h.addEventListener(FA,p=>n==null?void 0:n(p),{once:!0}),yS(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(R8,{...a,ref:c,disabled:r,onClick:Ce(e.onClick,u),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),d.current=!0},onPointerUp:Ce(e.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Ce(e.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||M1.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});p0.displayName=ey;var R8=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=EC(ey,r),l=E8(r),c=v.useRef(null),d=et(t,c),[u,h]=v.useState(!1),[f,p]=v.useState("");return v.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[i.children]),s.jsx(um.ItemSlot,{scope:r,disabled:n,textValue:a??f,children:s.jsx(hC,{asChild:!0,...l,focusable:!n,children:s.jsx(ze.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:Ce(e.onPointerMove,hm(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(e.onPointerLeave,hm(x=>o.onItemLeave(x))),onFocus:Ce(e.onFocus,()=>h(!0)),onBlur:Ce(e.onBlur,()=>h(!1))})})})}),Aae="MenuCheckboxItem",$8=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(U8,{scope:e.__scopeMenu,checked:r,children:s.jsx(p0,{role:"menuitemcheckbox","aria-checked":ty(r)?"mixed":r,...a,ref:t,"data-state":DC(r),onSelect:Ce(a.onSelect,()=>n==null?void 0:n(ty(r)?!0:!r),{checkForDefaultPrevented:!1})})})});$8.displayName=Aae;var L8="MenuRadioGroup",[Eae,Tae]=Oc(L8,{value:void 0,onValueChange:()=>{}}),F8=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=gr(n);return s.jsx(Eae,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(OC,{...a,ref:t})})});F8.displayName=L8;var z8="MenuRadioItem",B8=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=Tae(z8,e.__scopeMenu),i=r===a.value;return s.jsx(U8,{scope:e.__scopeMenu,checked:i,children:s.jsx(p0,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":DC(i),onSelect:Ce(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});B8.displayName=z8;var MC="MenuItemIndicator",[U8,Oae]=Oc(MC,{checked:!1}),W8=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Oae(MC,r);return s.jsx(Br,{present:n||ty(i.checked)||i.checked===!0,children:s.jsx(ze.span,{...a,ref:t,"data-state":DC(i.checked)})})});W8.displayName=MC;var Mae="MenuSeparator",V8=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});V8.displayName=Mae;var Dae="MenuArrow",H8=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=m0(r);return s.jsx(Uv,{...a,...n,ref:t})});H8.displayName=Dae;var Iae="MenuSub",[BOe,q8]=Oc(Iae),cf="MenuSubTrigger",K8=v.forwardRef((e,t)=>{const r=Mc(cf,e.__scopeMenu),n=Np(cf,e.__scopeMenu),a=q8(cf,e.__scopeMenu),i=EC(cf,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>u,[u]),v.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(_C,{asChild:!0,...d,children:s.jsx(R8,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":X8(r.open),...e,ref:Ov(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ce(e.onPointerMove,hm(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Ce(e.onPointerLeave,hm(h=>{var p,x;u();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const m=(x=r.content)==null?void 0:x.dataset.side,g=m==="right",y=g?-5:5,j=f[g?"left":"right"],w=f[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:j,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:j,y:f.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(e.onKeyDown,h=>{var p;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||pae[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});K8.displayName=cf;var G8="MenuSubContent",Y8=v.forwardRef((e,t)=>{const r=O8(Ls,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Mc(Ls,e.__scopeMenu),o=Np(Ls,e.__scopeMenu),l=q8(G8,e.__scopeMenu),c=v.useRef(null),d=et(t,c);return s.jsx(um.Provider,{scope:e.__scopeMenu,children:s.jsx(Br,{present:n||i.open,children:s.jsx(um.Slot,{scope:e.__scopeMenu,children:s.jsx(TC,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ce(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ce(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ce(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),f=gae[o.dir].includes(u.key);h&&f&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});Y8.displayName=G8;function X8(e){return e?"open":"closed"}function ty(e){return e==="indeterminate"}function DC(e){return ty(e)?"indeterminate":e?"checked":"unchecked"}function Rae(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function $ae(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Lae(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=$ae(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Fae(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,f=c.y;u>n!=f>n&&r<(h-d)*(n-u)/(f-u)+d&&(a=!a)}return a}function zae(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Fae(r,t)}function hm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Bae=T8,Uae=_C,Wae=M8,Vae=D8,Hae=OC,qae=I8,Kae=p0,Gae=$8,Yae=F8,Xae=B8,Qae=W8,Zae=V8,Jae=H8,eie=K8,tie=Y8,g0="DropdownMenu",[rie]=zr(g0,[A8]),$n=A8(),[nie,Q8]=rie(g0),Z8=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=$n(t),d=v.useRef(null),[u,h]=ga({prop:a,defaultProp:i??!1,onChange:o,caller:g0});return s.jsx(nie,{scope:t,triggerId:fa(),triggerRef:d,contentId:fa(),open:u,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:l,children:s.jsx(Bae,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:r})})};Z8.displayName=g0;var J8="DropdownMenuTrigger",eF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=Q8(J8,r),o=$n(r);return s.jsx(Uae,{asChild:!0,...o,children:s.jsx(ze.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ov(t,i.triggerRef),onPointerDown:Ce(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ce(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});eF.displayName=J8;var sie="DropdownMenuPortal",tF=e=>{const{__scopeDropdownMenu:t,...r}=e,n=$n(t);return s.jsx(Wae,{...n,...r})};tF.displayName=sie;var rF="DropdownMenuContent",nF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Q8(rF,r),i=$n(r),o=v.useRef(!1);return s.jsx(Vae,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ce(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ce(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nF.displayName=rF;var aie="DropdownMenuGroup",iie=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$n(r);return s.jsx(Hae,{...a,...n,ref:t})});iie.displayName=aie;var oie="DropdownMenuLabel",sF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$n(r);return s.jsx(qae,{...a,...n,ref:t})});sF.displayName=oie;var lie="DropdownMenuItem",aF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$n(r);return s.jsx(Kae,{...a,...n,ref:t})});aF.displayName=lie;var cie="DropdownMenuCheckboxItem",iF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$n(r);return s.jsx(Gae,{...a,...n,ref:t})});iF.displayName=cie;var die="DropdownMenuRadioGroup",uie=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$n(r);return s.jsx(Yae,{...a,...n,ref:t})});uie.displayName=die;var hie="DropdownMenuRadioItem",oF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$n(r);return s.jsx(Xae,{...a,...n,ref:t})});oF.displayName=hie;var fie="DropdownMenuItemIndicator",lF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$n(r);return s.jsx(Qae,{...a,...n,ref:t})});lF.displayName=fie;var mie="DropdownMenuSeparator",cF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$n(r);return s.jsx(Zae,{...a,...n,ref:t})});cF.displayName=mie;var pie="DropdownMenuArrow",gie=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$n(r);return s.jsx(Jae,{...a,...n,ref:t})});gie.displayName=pie;var xie="DropdownMenuSubTrigger",dF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$n(r);return s.jsx(eie,{...a,...n,ref:t})});dF.displayName=xie;var yie="DropdownMenuSubContent",uF=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$n(r);return s.jsx(tie,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uF.displayName=yie;var vie=Z8,bie=eF,wie=tF,hF=nF,fF=sF,mF=aF,pF=iF,gF=oF,xF=lF,yF=cF,vF=dF,bF=uF;const D1=vie,I1=bie,jie=v.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(vF,{ref:a,className:De("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(Bi,{className:"ml-auto"})]}));jie.displayName=vF.displayName;const Nie=v.forwardRef(({className:e,...t},r)=>s.jsx(bF,{ref:r,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Nie.displayName=bF.displayName;const ry=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(wie,{children:s.jsx(hF,{ref:n,sideOffset:t,className:De("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));ry.displayName=hF.displayName;const ci=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(mF,{ref:n,className:De("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));ci.displayName=mF.displayName;const Sie=v.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(pF,{ref:a,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(xF,{children:s.jsx(Qr,{className:"h-4 w-4"})})}),t]}));Sie.displayName=pF.displayName;const Cie=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(gF,{ref:n,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(xF,{children:s.jsx(RD,{className:"h-2 w-2 fill-current"})})}),t]}));Cie.displayName=gF.displayName;const Pie=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(fF,{ref:n,className:De("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Pie.displayName=fF.displayName;const kie=v.forwardRef(({className:e,...t},r)=>s.jsx(yF,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",e),...t}));kie.displayName=yF.displayName;function IC({titleFieldId:e,descriptionFieldId:t,contentType:r,className:n="text-xs",size:a="sm",variant:i="outline",disabled:o=!1,onContentGenerated:l}){const{toast:c}=Ct(),d=Oe({mutationFn:async h=>{let f="",p="";switch(h.contentType){case"plan":p="plan_description",f=h.existingDescription?`Enhance and improve this plan description for better clarity and correctness: "${h.existingDescription}" for plan "${h.title}"`:`Create a clear and compelling description for this plan: "${h.title}"`;break;case"category":p="category_description",f=h.existingDescription?`Enhance and improve this category description for better clarity and correctness: "${h.existingDescription}" for category "${h.title}"`:`Create a clear and informative description for this category: "${h.title}"`;break;case"news":p="news_content",f=h.existingDescription?`Enhance and improve this news content for better clarity and engagement: "${h.existingDescription}" with title "${h.title}"`:`Create engaging news content based on this title: "${h.title}"`;break;case"product":p="product_description",f=h.existingDescription?`Enhance this product description: "${h.existingDescription}" for product "${h.title}"`:`Create a compelling product description for: "${h.title}"`;break;default:p="general_description",f=h.existingDescription?`Enhance and improve this description: "${h.existingDescription}" for "${h.title}"`:`Create a description for: "${h.title}"`}return await(await Pe("/api/ai/generate-content","POST",{type:p,prompt:f,tone:"professional",length:"medium"})).json()},onSuccess:h=>{var f,p;if(l)l(h.content);else{const x=document.getElementById(t);if(x){x.value=h.content,x.focus();const m=new Event("input",{bubbles:!0}),g=new Event("change",{bubbles:!0});x.dispatchEvent(m),x.dispatchEvent(g);const y=((f=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"))==null?void 0:f.set)||((p=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:p.set);y&&(y.call(x,h.content),x.dispatchEvent(new Event("input",{bubbles:!0})))}}c({title:"Description Generated!",description:"AI has created an enhanced description for you."})},onError:()=>{c({title:"Generation Failed",description:"Unable to generate description. Please try again.",variant:"destructive"})}}),u=()=>{var m,g;const h=document.getElementById(e),f=document.getElementById(t),p=(m=h==null?void 0:h.value)==null?void 0:m.trim();if(!p){c({title:"Title Required",description:`Please enter a ${r==="news"?"title":r==="plan"?"plan name":r==="category"?"category name":"title"} first to generate a description.`,variant:"destructive"});return}const x=(g=f==null?void 0:f.value)==null?void 0:g.trim();d.mutate({title:p,existingDescription:x,contentType:r})};return s.jsxs(M,{type:"button",size:a,variant:i,onClick:u,disabled:o||d.isPending,className:n,children:[s.jsx(aa,{className:"h-3 w-3 mr-1"}),d.isPending?"Generating...":"AI Generated Description"]})}function pw(){const{user:e}=ft(),{primaryColor:t,secondaryColor:r}=Ur(),n=Zt(),{toast:a}=Ct(),[i,o]=v.useState(!1),[l,c]=v.useState(null),[d,u]=v.useState(new Set),[h,f]=v.useState(new Set),[p,x]=v.useState(new Set),[m,g]=v.useState(!1),[y,j]=v.useState(!1),[w,b]=v.useState(null),[N,S]=v.useState({basic:new Set,advanced:new Set,premium:new Set}),[C,P]=v.useState("create"),[_,A]=v.useState("create"),[k,E]=v.useState({}),L=q=>{A(q)},F=()=>[{id:"create",label:l?"Update Plan":"Add Plan"},{id:"draft",label:"Save as Draft"},{id:"schedule",label:"Schedule for Later"}].filter(oe=>oe.id!==_),U=()=>{switch(_!==C?_:C){case"draft":return"Draft";case"schedule":return"Schedule";default:return l?"Update Plan":"Add Plan"}},W=sessionStorage.getItem("selectedRole")||(e==null?void 0:e.role)||"Super Admin",{data:V,isLoading:D}=ue({queryKey:["/api/plans"]}),{data:T}=ue({queryKey:["/api/white-labels/my"],enabled:!!e&&(e==null?void 0:e.role)==="white_label_client"}),{data:$=[]}=ue({queryKey:["/api/categories"]}),{data:O=[]}=ue({queryKey:["/api/products"]}),R=q=>{const oe=new Set(p);oe.has(q)?oe.delete(q):oe.add(q),x(oe)},I=q=>{if(!Array.isArray($))return[];const oe=[];return $.filter(Ne=>Ne.parentCategoryId===q).forEach(Ne=>{oe.push(Ne.id),oe.push(...I(Ne.id))}),oe},H=q=>{if(!Array.isArray(O))return[];const oe=[q,...I(q)];return O.filter(le=>oe.includes(le.categoryId)).map(le=>le.id)},he=(q,oe,le)=>{const Ne=`${q==="category"?"cat":"prod"}-${oe}`;if(q==="category"){const Me=new Set(d),Le=new Set(h);Me.has(Ne)?(Me.delete(Ne),I(oe).forEach(z=>{Me.delete(`cat-${z}`)}),H(oe).forEach(z=>{Le.delete(`prod-${z}`)})):(Me.add(Ne),I(oe).forEach(z=>{Me.add(`cat-${z}`)}),H(oe).forEach(z=>{Le.add(`prod-${z}`)})),u(Me),f(Le)}else{const Me=new Set(h);if(Me.has(Ne))Me.delete(Ne);else{Me.add(Ne);const Le=Array.isArray(O)?O.find(Ie=>Ie.id===oe):null;Le&&setTimeout(()=>xe(Le),100)}f(Me)}},ie=(q=null)=>Array.isArray($)?$.filter(oe=>oe.parentCategoryId===q).map(oe=>({...oe,children:ie(oe.id),products:Array.isArray(O)?O.filter(le=>le.categoryId===oe.id):[]})):[],je=(q,oe=0)=>{var z,de;const le=q.children&&q.children.length>0,Ne=q.products&&q.products.length>0,Me=p.has(q.id),Le=oe*16,Ie=`cat-${q.id}`,qe=d.has(Ie);return s.jsxs("div",{children:[s.jsxs("div",{className:`flex items-center py-2 px-3 hover:bg-gray-100 ${qe?"bg-primary/10 text-primary":""}`,style:{paddingLeft:`${Le+8}px`},children:[(le||Ne)&&s.jsx("button",{onClick:ee=>{ee.stopPropagation(),R(q.id)},className:"mr-1 p-0.5 hover:bg-gray-200 rounded",children:Me?s.jsx(qa,{className:"h-3 w-3",style:{color:r}}):s.jsx(Bi,{className:"h-3 w-3",style:{color:r}})}),!le&&!Ne&&s.jsx("div",{className:"w-4 mr-1"}),s.jsx(Uo,{checked:qe,onCheckedChange:()=>he("category",q.id,q.name),className:"mr-2 h-5 w-5"}),Me?s.jsx(zD,{className:"h-4 w-4 mr-2",style:{color:r}}):s.jsx(Qn,{className:"h-4 w-4 mr-2",style:{color:r||"#6366f1"}}),s.jsx("span",{className:"text-sm cursor-pointer",onClick:()=>he("category",q.id,q.name),children:q.name})]}),Me&&s.jsxs("div",{children:[(z=q.children)==null?void 0:z.map(ee=>je(ee,oe+1)),(de=q.products)==null?void 0:de.map(ee=>{const Te=`prod-${ee.id}`,Nt=h.has(Te);return s.jsxs("div",{className:`flex items-center py-2 px-3 hover:bg-gray-100 ${Nt?"bg-primary/10 text-primary":""}`,style:{paddingLeft:`${Le+32}px`},children:[s.jsx(Uo,{checked:Nt,onCheckedChange:()=>he("product",ee.id,ee.name),className:"mr-2 h-5 w-5"}),s.jsx(Bt,{className:"h-4 w-4 mr-2",style:{color:r}}),s.jsx("span",{className:"text-sm cursor-pointer",onClick:()=>he("product",ee.id,ee.name),children:ee.name})]},`prod-${ee.id}`)})]})]},q.id)},xe=q=>{const oe=document.getElementById("name"),le=document.getElementById("price"),Ne=document.getElementById("description");oe&&(oe.value=q.name),le&&(le.value=q.price),Ne&&(Ne.value=q.description||""),oe&&oe.dispatchEvent(new Event("change",{bubbles:!0})),le&&le.dispatchEvent(new Event("change",{bubbles:!0})),Ne&&Ne.dispatchEvent(new Event("change",{bubbles:!0}))},pe=()=>{if(d.size===0&&h.size===0)return s.jsx("div",{className:"text-gray-500 text-sm p-4 text-center",children:"Select categories or products to view features"});const q=Array.from(h).map(Ne=>{const Me=parseInt(Ne.replace("prod-",""));return Array.isArray(O)?O.find(Le=>Le.id===Me):null}).filter(Boolean),oe=Array.from(d).map(Ne=>{const Me=parseInt(Ne.replace("cat-",""));return Array.isArray($)?$.find(Le=>Le.id===Me):null}).filter(Boolean),le=()=>{const Ne=new Set,Me=oe.filter(Ie=>{const qe=Ie.parentCategoryId===null,z=Ie.parentCategoryId?oe.some(de=>de.id===Ie.parentCategoryId):!1;return qe||!z}),Le=(Ie,qe=0)=>{Ne.add(Ie.id);const z=qe*20,de=q.filter(Te=>Te.categoryId===Ie.id),ee=oe.filter(Te=>Te.parentCategoryId===Ie.id);return s.jsxs("div",{style:{marginLeft:`${z}px`},children:[s.jsxs("div",{className:"flex items-center text-sm font-medium text-primary mb-1",children:[s.jsx(Qn,{className:"h-4 w-4 mr-2"})," ",Ie.name]}),de.map(Te=>s.jsxs("div",{style:{marginLeft:`${z+20}px`},className:"flex items-center text-sm text-gray-700 mb-1",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2 text-primary"})," ",Te.name]},Te.id)),ee.map(Te=>Le(Te,qe+1))]},Ie.id)};return s.jsxs("div",{className:"space-y-2",children:[q.filter(Ie=>Ie.categoryId===null).map(Ie=>s.jsxs("div",{className:"flex items-center text-sm text-blue-700 mb-1",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2 text-blue-600"})," ",Ie.name]},Ie.id)),Me.map(Ie=>Le(Ie,0)),q.filter(Ie=>Ie.categoryId!==null&&!oe.some(qe=>qe.id===Ie.categoryId)).map(Ie=>{const qe=Array.isArray($)?$.find(z=>z.id===Ie.categoryId):null;return s.jsxs("div",{className:"flex items-center text-sm text-primary mb-1",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2 text-primary"})," ",Ie.name," ",s.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["(from ",qe==null?void 0:qe.name,")"]})]},Ie.id)})]})};return s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"border-b pb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" Selected Plan Features Tree:"}),le()]})})},ye=Oe({mutationFn:async q=>await Pe("/api/plans","POST",q),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/plans"]}),n.invalidateQueries({queryKey:["/api/plans/public"]}),o(!1),a({title:"Success",description:"Plan created successfully"})},onError:q=>{console.error("Error creating plan:",q),a({title:"Error",description:"Failed to create plan. Please try again.",variant:"destructive"})}}),X=Oe({mutationFn:async({id:q,...oe})=>await Pe(`/api/plans/${q}`,"PUT",oe),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/plans"]}),n.invalidateQueries({queryKey:["/api/plans/public"]}),c(null),a({title:"Success",description:"Plan updated successfully"})},onError:q=>{console.error("Error updating plan:",q),a({title:"Error",description:"Failed to update plan. Please try again.",variant:"destructive"})}}),B=Oe({mutationFn:async q=>Pe(`/api/plans/${q}`,"DELETE"),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/plans"]}),a({title:"Success",description:"Plan deleted successfully"})},onError:q=>{console.error("Error deleting plan:",q),a({title:"Error",description:"Failed to delete plan",variant:"destructive"})}}),ce=(q,oe)=>{var Nt;q.preventDefault();const le=new FormData(q.currentTarget),Ne=oe||C,Me=le.get("name"),Le=le.get("price"),Ie=le.get("features"),qe=[];if(Me!=null&&Me.trim()||qe.push("Plan Name is required"),Le!=null&&Le.trim()||qe.push("Price ($) is required"),Ie!=null&&Ie.trim()||qe.push("Features are required"),qe.length>0){const dt={};Me!=null&&Me.trim()||(dt.name="Plan Name is required"),Le!=null&&Le.trim()||(dt.price="Price ($) is required"),Ie!=null&&Ie.trim()||(dt.features="Features are required"),E(dt);return}E({});const z=le.get("commissionRate"),de=le.getAll("accesses"),ee=le.get("scheduledAt"),Te={name:le.get("name"),description:le.get("description"),monthlyPrice:Le?parseFloat(Le).toString():null,features:(Nt=le.get("features"))==null?void 0:Nt.split(`
`).filter(dt=>dt.trim()),allowAffiliatePromotion:le.get("allowAffiliatePromotion")==="on",affiliateCommissionPercentage:z?parseFloat(z).toString():null,selectedCategories:Array.from(d).map(dt=>{const ae=dt.replace("cat-","");return parseInt(ae)}).filter(dt=>!isNaN(dt)),selectedProducts:Array.from(h).map(dt=>{const ae=dt.replace("prod-","");return parseInt(ae)}).filter(dt=>!isNaN(dt)),accesses:(e==null?void 0:e.role)==="super_admin"?de:void 0,isActive:Ne==="create",isMainSitePlan:Ne==="create",status:Ne==="create"?"published":Ne==="schedule"?"scheduled":Ne,scheduledAt:Ne==="schedule"&&ee?new Date(ee).toISOString():null,publishedAt:Ne==="create"?new Date().toISOString():null};console.log("Submitting plan data:",{action:Ne,status:Te.status,isMainSitePlan:Te.isMainSitePlan,scheduledAt:Te.scheduledAt,scheduleDateValue:ee}),l?X.mutate({id:l.id,...Te}):ye.mutate(Te)},ve=()=>{const q=_!==C?_:C;console.log("handleConfirmAction:",{pendingAction:_,submissionAction:C,actionToUse:q}),P(q);const oe=document.querySelectorAll("form"),le=oe[oe.length-1];le&&ce({preventDefault:()=>{},currentTarget:le},q)};return D?s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{isMobileOpen:y,onMobileToggle:()=>j(!y)}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>j(!0),className:"text-gray-600",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Subscription Plans"}),s.jsx("div",{className:"w-10"})]}),s.jsx(Fr,{title:"Subscription Plans",subtitle:"Manage subscription plans and pricing"}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-center py-12",children:"Loading plans..."})})]})]}):s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{isMobileOpen:y,onMobileToggle:()=>j(!y)}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>j(!0),className:"text-gray-600",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Subscription Plans"}),s.jsx("div",{className:"w-10"})]}),s.jsx(Fr,{title:"Subscription Plans",subtitle:"Manage subscription plans and pricing"}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Current Role: ",W]}),s.jsxs(M,{onClick:()=>{c(null),o(!0),u(new Set),f(new Set),b(null),P("create"),A("create"),E({})},className:"text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300",style:{background:`linear-gradient(135deg, ${t}, ${r})`},children:[s.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Add Plan"]})]}),(i||l)&&s.jsxs(K,{className:"mb-8",children:[s.jsx(re,{children:s.jsx(ne,{children:l?"Edit Plan":"Add New Plan"})}),s.jsx(G,{children:s.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"name",children:"Plan Name *"}),s.jsx(J,{id:"name",name:"name",defaultValue:(l==null?void 0:l.name)||"",required:!0,className:k.name?"border-destructive":""},l?`name-${l.id}`:"name-new"),k.name&&s.jsx("p",{className:"text-destructive text-sm mt-1",children:k.name})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"price",children:"Price ($) *"}),s.jsx(J,{id:"price",name:"price",type:"number",step:"0.01",defaultValue:(l==null?void 0:l.monthlyPrice)||"",required:!0,className:k.price?"border-destructive":""},l?`price-${l.id}`:"price-new"),k.price&&s.jsx("p",{className:"text-destructive text-sm mt-1",children:k.price})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Y,{htmlFor:"description",children:"Description"}),s.jsx(IC,{titleFieldId:"name",descriptionFieldId:"description",contentType:"plan",onContentGenerated:q=>{const oe=document.getElementById("description");oe&&(oe.value=q)}})]}),s.jsx(pr,{id:"description",name:"description",defaultValue:(l==null?void 0:l.description)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"category",children:"Select Category Or Product"}),s.jsxs(qse,{open:m,onOpenChange:g,children:[s.jsx(Kse,{asChild:!0,children:s.jsxs(M,{variant:"outline",role:"combobox","aria-expanded":m,className:"w-full justify-between",children:[d.size+h.size>0?`Selected: ${d.size} categories, ${h.size} products`:"Choose categories or products...",s.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0",style:{color:r||"#6366f1"}})]})}),s.jsx(KL,{className:"w-full p-0 max-h-80 overflow-y-auto",children:s.jsxs("div",{className:"py-1",children:[s.jsxs("div",{className:"flex items-center py-2 px-3 hover:bg-gray-100 cursor-pointer border-b mb-2",onClick:()=>{u(new Set),f(new Set),g(!1)},children:[s.jsx(Qn,{className:"h-4 w-4 mr-2",style:{color:r||"#6366f1"}}),s.jsx("span",{className:"text-sm",children:"Clear All Selections"})]}),ie().map(q=>je(q,0)),Array.isArray(O)&&O.filter(q=>q.categoryId===null).length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center py-2 px-3 text-gray-500 text-sm font-medium border-t mt-2 pt-2",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2",style:{color:r}}),"Unassigned Products"]}),O.filter(q=>q.categoryId===null).map(q=>{const oe=`prod-${q.id}`,le=h.has(oe);return s.jsxs("div",{className:`flex items-center py-2 px-3 hover:bg-gray-100 ml-4 ${le?"bg-primary/10 text-primary":""}`,children:[s.jsx(Uo,{checked:le,onCheckedChange:()=>he("product",q.id,q.name),className:"mr-2 h-5 w-5"}),s.jsx(Bt,{className:"h-4 w-4 mr-2",style:{color:r}}),s.jsx("span",{className:"text-sm cursor-pointer",onClick:()=>he("product",q.id,q.name),children:q.name})]},`unassigned-${q.id}`)})]})]})})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"border rounded-lg p-6 max-h-80 overflow-y-auto bg-white shadow-sm",children:pe()})}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"features",children:"Plan Features *"}),s.jsx(pr,{id:"features",name:"features",defaultValue:Array.isArray(l==null?void 0:l.features)?l.features.join(`
`):(l==null?void 0:l.features)||"",placeholder:`Premium Support
Advanced Analytics
Custom Branding
Priority Processing
Dedicated Account Manager`,required:!0,className:k.features?"border-destructive":"",rows:5}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter each feature on a new line"}),k.features&&s.jsx("p",{className:"text-destructive text-sm mt-1",children:k.features})]}),s.jsxs("div",{className:"flex items-start space-x-3 rounded-md border p-4",children:[s.jsx("input",{type:"checkbox",id:"allowAffiliatePromotion",name:"allowAffiliatePromotion",defaultChecked:(l==null?void 0:l.allowAffiliatePromotion)||!1,className:"mt-1",onChange:q=>{const oe=document.getElementById("commissionRateContainer");oe&&(oe.style.display=q.target.checked?"block":"none")}}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Y,{htmlFor:"allowAffiliatePromotion",className:"text-sm font-medium leading-none",children:"Allow Affiliates To Promote Plan"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, affiliates can promote this plan and earn commissions."})]})]}),s.jsxs("div",{id:"commissionRateContainer",style:{display:l!=null&&l.allowAffiliatePromotion?"block":"none"},children:[s.jsx(Y,{htmlFor:"commissionRate",children:"Commission Rate (%)"}),s.jsx(J,{id:"commissionRate",name:"commissionRate",type:"number",step:"0.1",max:"100",defaultValue:l!=null&&l.affiliateCommissionPercentage?parseFloat(l.affiliateCommissionPercentage).toString():"",placeholder:"Enter commission rate (0-100)"},l?`commissionRate-${l.id}`:"commissionRate-new")]}),(e==null?void 0:e.role)==="super_admin"&&s.jsxs("div",{children:[s.jsx(Y,{children:"Plan Access Features"}),s.jsxs("div",{className:"mt-2 space-y-2 border rounded-lg p-4 bg-gray-50",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Select which features this plan will unlock for customers:"}),[{id:"categories",label:"Categories Management",description:"Create and organize product categories"},{id:"affiliates",label:"Affiliates Management",description:"Manage affiliate partners and commissions"},{id:"landing_page_builder",label:"Landing Page Builder",description:"Advanced drag-and-drop page builder"}].map(q=>{var oe;return s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-white rounded border hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",id:`access-${q.id}`,name:"accesses",value:q.id,defaultChecked:((oe=l==null?void 0:l.accesses)==null?void 0:oe.includes(q.id))||!1,className:"mt-1"}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:`access-${q.id}`,className:"font-medium",children:q.label}),s.jsx("p",{className:"text-sm text-gray-500",children:q.description})]})]},q.id)})]})]}),_==="schedule"&&s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"scheduledAt",children:"Schedule Date & Time *"}),s.jsx(J,{id:"scheduledAt",name:"scheduledAt",type:"datetime-local",defaultValue:l!=null&&l.scheduledAt?new Date(l.scheduledAt).toISOString().slice(0,16):"",required:_==="schedule",min:new Date().toISOString().slice(0,16),className:"mt-1"},l?`scheduledAt-${l.id}`:"scheduledAt-new")]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>{o(!1),c(null),u(new Set),f(new Set),P("create"),A("create"),E({})},children:"Cancel"}),s.jsxs("div",{className:"flex",children:[s.jsx(M,{type:"button",onClick:()=>ve(),disabled:ye.isPending||X.isPending,className:"text-white font-semibold rounded-r-none border-r-0 shadow-lg hover:shadow-xl transition-all duration-300",style:{background:`linear-gradient(135deg, ${t}, ${r||"#6366f1"})`},children:U()}),s.jsxs(D1,{children:[s.jsx(I1,{asChild:!0,children:s.jsx(M,{type:"button",onClick:()=>ve(),disabled:ye.isPending||X.isPending,className:"text-white font-semibold px-2 rounded-l-none border-l border-l-gray-300 dark:border-l-gray-600 shadow-lg hover:shadow-xl transition-all duration-300",variant:"default",style:{background:`linear-gradient(135deg, ${t}, ${r||"#6366f1"})`},children:s.jsx(ID,{className:"h-4 w-4 text-white"})})}),s.jsx(ry,{align:"end",className:"w-48",children:F().map(q=>s.jsx(ci,{onClick:()=>L(q.id),disabled:ye.isPending||X.isPending,children:q.label},q.id))})]})]})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.isArray(V)&&V.map(q=>s.jsxs(K,{className:`relative cursor-pointer transition-all duration-200 hover:shadow-lg ${(w==null?void 0:w.id)===q.id?"ring-2 ring-blue-500 shadow-lg":""}`,onClick:()=>b(q),children:[s.jsx(re,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(ne,{className:"flex items-center space-x-2",children:s.jsx("span",{children:q.name})}),s.jsx("div",{className:"flex space-x-2",children:q.status==="published"?s.jsxs(be,{variant:"success",className:"border-0",style:{backgroundColor:t||"#3b82f6",color:"white",borderColor:t||"#3b82f6"},children:[s.jsx(vt,{className:"h-3 w-3 mr-1"}),"Public"]}):q.status==="scheduled"?s.jsxs(be,{variant:"warning",className:"border-0",style:{backgroundColor:`${r||"#64748b"}20`,color:r||"#64748b",borderColor:`${r||"#64748b"}40`},children:[s.jsx(Go,{className:"h-3 w-3 mr-1"}),"Scheduled"]}):s.jsxs(be,{variant:"info",className:"border-0",style:{backgroundColor:r||"#64748b",color:"white",borderColor:r||"#64748b"},children:[s.jsx(Ot,{className:"h-3 w-3 mr-1"}),"Draft"]})})]}),s.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[s.jsx(Tt,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-3xl font-bold",children:q.monthlyPrice?`$${parseFloat(q.monthlyPrice).toFixed(2)}`:"Contact for Pricing"}),q.monthlyPrice&&s.jsx("span",{className:"text-gray-500",children:"/month"})]})]}),((e==null?void 0:e.role)==="super_admin"||(e==null?void 0:e.role)==="white_label_client")&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(M,{size:"sm",variant:"outline",onClick:oe=>{if(oe.stopPropagation(),console.log(" EDIT PLAN DEBUG - Full plan object:",q),console.log(" EDIT PLAN DEBUG - selectedCategories:",q.selectedCategories),console.log(" EDIT PLAN DEBUG - selectedCategories type:",typeof q.selectedCategories),console.log(" EDIT PLAN DEBUG - selectedCategories isArray:",Array.isArray(q.selectedCategories)),console.log(" EDIT PLAN DEBUG - selectedProducts:",q.selectedProducts),console.log(" EDIT PLAN DEBUG - selectedProducts type:",typeof q.selectedProducts),console.log(" EDIT PLAN DEBUG - selectedProducts isArray:",Array.isArray(q.selectedProducts)),c(q),o(!0),b(q),q.status==="draft"?(P("draft"),A("draft")):q.status==="scheduled"?(P("schedule"),A("schedule")):(q.status,P("create"),A("create")),q.selectedCategories&&Array.isArray(q.selectedCategories)){const le=new Set(q.selectedCategories.map(Ne=>`cat-${Ne}`));console.log(" EDIT PLAN DEBUG - Setting selectedCategories to:",le),u(le)}else console.log(" EDIT PLAN DEBUG - selectedCategories is not valid array, setting empty set"),u(new Set);if(q.selectedProducts&&Array.isArray(q.selectedProducts)){const le=new Set(q.selectedProducts.map(Ne=>`prod-${Ne}`));console.log(" EDIT PLAN DEBUG - Setting selectedProducts to:",le),f(le)}else console.log(" EDIT PLAN DEBUG - selectedProducts is not valid array, setting empty set"),f(new Set)},children:s.jsx(up,{className:"h-4 w-4"})}),s.jsxs(dae,{children:[s.jsx(uae,{asChild:!0,children:s.jsx(M,{size:"sm",variant:"outline",disabled:B.isPending,onClick:oe=>oe.stopPropagation(),children:s.jsx(Ui,{className:"h-4 w-4"})})}),s.jsxs(w8,{children:[s.jsxs(j8,{children:[s.jsx(S8,{children:"Are you sure?"}),s.jsxs(C8,{children:['This will permanently delete the plan "',q.name,'". This action cannot be undone.']})]}),s.jsxs(N8,{children:[s.jsx(k8,{children:"Cancel"}),s.jsx(P8,{onClick:()=>B.mutate(q.id),className:"bg-red-600 hover:bg-red-700",children:"Delete Plan"})]})]})]})]})]})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:q.description}),s.jsx("div",{className:"space-y-2 mb-4",children:(q.features?Array.isArray(q.features)?q.features:typeof q.features=="string"?q.features.split(",").map(oe=>oe.trim()):[]:[]).map((oe,le)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-sm",children:oe})]},le))}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ru,{className:"h-4 w-4",style:{color:r}}),s.jsx("span",{children:q.allowAffiliatePromotion?"Affiliate Promotion Enabled":"Affiliate Promotion Disabled"})]}),s.jsxs("div",{className:"flex items-center space-x-2 col-span-2",children:[s.jsx(Tt,{className:"h-4 w-4",style:{color:r}}),s.jsx("span",{children:q.affiliateCommissionPercentage?`${parseFloat(q.affiliateCommissionPercentage).toFixed(1)}% Commission`:"Commission Not Set"})]})]})]})]},q.id))||[]}),(!Array.isArray(V)||V.length===0)&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-500 mb-4",children:"No plans created yet"}),W==="Super Admin"&&s.jsxs(M,{onClick:()=>o(!0),children:[s.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Add Your First Plan"]})]})]}),s.jsxs("div",{className:"w-96 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 p-6 overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 pb-4 border-b border-gray-200 dark:border-gray-700 mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[s.jsx(vt,{className:"mr-2 h-5 w-5",style:{color:r||"#6366f1"}}),"Live Preview"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:w?`Previewing: ${w.name}`:"Select a plan to preview"})]}),w?s.jsx("div",{className:"space-y-6",children:s.jsx(K,{className:"relative border-0 shadow-xl hover:shadow-2xl transition-all duration-300 transform",children:s.jsxs(G,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-2xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${t}, ${r})`},children:s.jsx(ru,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:w.name}),s.jsx("p",{className:"text-gray-600 mb-6",children:w.description}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"flex items-baseline justify-center",children:w.monthlyPrice&&parseFloat(w.monthlyPrice)>0?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",parseFloat(w.monthlyPrice).toFixed(0)]}),s.jsx("span",{className:"text-gray-500 ml-1",children:"/month"})]}):s.jsx("span",{className:"text-2xl font-bold text-primary",children:"Contact for Pricing"})})}),s.jsxs(M,{className:"w-full mb-6 text-white font-semibold py-3 shadow-lg hover:shadow-xl transition-all duration-300",style:{background:`linear-gradient(135deg, ${t}, ${r})`},children:[w.monthlyPrice&&parseFloat(w.monthlyPrice)>0?`Purchase Now - ${parseFloat(w.monthlyPrice).toFixed(0)}`:"Purchase Now",s.jsx(Os,{className:"ml-2 h-4 w-4",style:{color:"white"}})]}),s.jsx("div",{className:"space-y-3 text-left",children:(()=>{let q=w.features;if(typeof q=="string")try{q=JSON.parse(q)}catch{q=[]}return Array.isArray(q)||(q=[]),q.map((oe,le)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"h-5 w-5 mr-3",style:{color:r}}),s.jsx("span",{className:"text-sm text-gray-700",children:oe})]},le))})()}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Visibility Status:"}),s.jsx("div",{className:"flex space-x-2",children:w.isMainSitePlan?s.jsxs(be,{variant:"success",className:"text-white border-0",style:{backgroundColor:t||"#3b82f6",color:"white"},children:[s.jsx(vt,{className:"h-3 w-3 mr-1"}),W==="Super Admin"?"Public on /pricing":`Public on /${(T==null?void 0:T.domainPath)||(e==null?void 0:e.username)||"domain"}`]}):s.jsx(be,{variant:"purple",className:"bg-gray-100 text-gray-800",children:W==="Super Admin"?"Hidden from /pricing":`Hidden from /${(T==null?void 0:T.domainPath)||(e==null?void 0:e.username)||"domain"}`})})]})})]})})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ot,{className:"mx-auto h-12 w-12 mb-4",style:{color:r||"#6366f1"}}),s.jsx("p",{className:"text-gray-500 mb-4",children:"No plan selected for preview"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Click on any plan card to see a live preview here"})]})]})]})]})]})}function zA(){var pe,ye;const{user:e,isAuthenticated:t}=ft(),{toast:r}=Ct(),{primaryColor:n,secondaryColor:a}=Ur(),i=Zt(),[o,l]=v.useState(null),[c,d]=v.useState(!1),[u,h]=v.useState(!1),[f,p]=v.useState(null),[x,m]=v.useState(""),[g,y]=v.useState(""),[j,w]=v.useState(null),[b,N]=v.useState(!1),[S,C]=v.useState(null),{data:P=[],isLoading:_}=ue({queryKey:["/api/affiliates"],enabled:!!e&&t&&(e.role==="super_admin"||e.role==="white_label_client")}),{data:A=[],isLoading:k}=ue({queryKey:["/api/top-affiliates"],enabled:!!e&&t}),{data:E=[],isLoading:L}=ue({queryKey:["/api/affiliate-payment-summary"],enabled:!!e&&t&&(e.role==="super_admin"||e.role==="super_admin_affiliate"||e.role==="white_label_client")}),{data:F=[],isLoading:U}=ue({queryKey:["/api/commissions"],enabled:!!e&&t}),{data:W,isLoading:V}=ue({queryKey:["/api/affiliate-details",o==null?void 0:o.id],queryFn:()=>o?Pe(`/api/affiliate-details/${o.id}`):null,enabled:!!(o!=null&&o.id)}),{data:D,isLoading:T}=ue({queryKey:["/api/affiliate-payment-account",f==null?void 0:f.id],queryFn:async()=>{if(!f)return null;console.log(" React Query fetching payment account for:",f.id);const B=await(await Pe(`/api/affiliate-payment-account/${f.id}`)).json();return console.log(" Raw API Response Data:",B),B},enabled:!!(f!=null&&f.id)&&u,staleTime:0,cacheTime:0}),{data:$,isLoading:O}=ue({queryKey:["/api/affiliate-payments",S==null?void 0:S.id],queryFn:async()=>{if(!S)return null;console.log(" Fetching payment history for affiliate:",S.id);const B=await(await Pe(`/api/affiliate-payments/${S.id}`)).json();return console.log(" Payment History Data:",B),B},enabled:!!(S!=null&&S.id)&&b,staleTime:0,cacheTime:0}),R=X=>new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),I=X=>{switch(X){case"super_admin_affiliate":return"Super Admin Affiliate";case"white_label_affiliate":return"White Label Affiliate";case"end_user":return"End User";default:return X}};if(!t||!e)return s.jsx("div",{children:"Please log in to access this page."});const H=X=>{l(X),d(!0)},he=X=>{console.log(" Payment modal opening for affiliate:",X.id,X.name),p(X),m(X.needToPay.toString()),h(!0),i.invalidateQueries({queryKey:["/api/affiliate-payment-account"]})},ie=X=>{C(X),N(!0)},je=async X=>{try{if(!(X!=null&&X.id))return;const ce=await(await Pe(`/api/affiliate-payments/${X.id}`)).json();if(!ce||ce.length===0){r({title:"No Payment History",description:"This affiliate has no payment history to export.",variant:"destructive"});return}const{jsPDF:ve}=await mC(async()=>{const{jsPDF:Me}=await import("./jspdf.es.min-wCfSMqX5.js").then(Le=>Le.j);return{jsPDF:Me}},[]),q=new ve;q.setFontSize(20),q.setTextColor(40,40,40),q.text("Payment History Report",20,25),q.setFontSize(14),q.text(`Affiliate: ${X.name}`,20,35),q.text(`Email: ${X.email}`,20,43),q.text(`Generated: ${new Date().toLocaleDateString()}`,20,51);const oe=ce.reduce((Me,Le)=>Me+parseFloat(Le.amount||0),0),le=ce.length;q.setFontSize(12),q.text(`Total Payments: ${le}`,20,65),q.text(`Total Amount: $${oe.toFixed(2)}`,20,73),q.setLineWidth(.5),q.line(20,80,190,80);let Ne=95;for(let Me=0;Me<ce.length;Me++){const Le=ce[Me];if(Ne>250&&(q.addPage(),Ne=25),q.setFontSize(12),q.setTextColor(0,0,0),q.text(`Payment #${Me+1}`,20,Ne),q.setFontSize(10),q.text(`Date: ${R(Le.createdAt)}`,20,Ne+8),q.text(`Amount: $${parseFloat(Le.amount||0).toFixed(2)}`,20,Ne+16),q.text(`Method: ${Le.paymentMethod||"Bank Transfer"}`,20,Ne+24),q.text(`Status: ${Le.status||"Completed"}`,20,Ne+32),Le.description&&q.text(`Description: ${Le.description}`,20,Ne+40),Le.historicalBankName&&Le.historicalAccountNumber){const Ie=`Transfer To: ${Le.historicalBankName} ${Le.historicalAccountNumber}`;q.setFontSize(9),q.setTextColor(100,100,100),q.text(Ie,20,Ne+(Le.description?48:40)),q.setFontSize(10),q.setTextColor(0,0,0)}if(Le.transactionProofUrl||Le.receiptImageUrl){const Ie=Le.transactionProofUrl||Le.receiptImageUrl;try{const qe=new Image;qe.crossOrigin="anonymous",await new Promise((z,de)=>{qe.onload=()=>{try{const ee=document.createElement("canvas"),Te=ee.getContext("2d");ee.width=qe.width,ee.height=qe.height,Te==null||Te.drawImage(qe,0,0);const Nt=ee.toDataURL("image/jpeg",.8),dt=30,ae=qe.height/qe.width*dt;Ne+50+ae>280&&(q.addPage(),Ne=25),q.addImage(Nt,"JPEG",150,Ne+8,dt,ae),q.text("Proof:",150,Ne),z(null)}catch(ee){console.error("Error processing image:",ee),q.text("Proof Image: Available",120,Ne),z(null)}},qe.onerror=()=>{q.text("Proof Image: Available",120,Ne),z(null)},qe.src=Ie})}catch(qe){console.error("Error loading image:",qe),q.text("Proof: Available",150,Ne)}}else q.text("Proof: Not Available",150,Ne);Ne+=60,q.setLineWidth(.2),q.line(20,Ne,190,Ne),Ne+=10}q.save(`${X.name}_payment_history.pdf`),r({title:"Export Successful",description:`Payment history PDF exported for ${X.name}`})}catch(B){console.error("Error exporting payment history:",B),r({title:"Export Failed",description:"Failed to export payment history PDF.",variant:"destructive"})}},xe=Oe({mutationFn:async X=>{let B=null;if(j){const ve=new FormData;ve.append("proofImage",j);const q=await fetch("/api/upload-payment-proof",{method:"POST",body:ve,credentials:"include"});if(q.ok)B=(await q.json()).imageUrl;else{const oe=await q.json().catch(()=>({error:"Upload failed"}));throw new Error(`Failed to upload proof image: ${oe.error||"Unknown error"}`)}}const ce={...X,transactionProofUrl:B};return await Pe("/api/affiliate-payment","POST",ce)},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/affiliate-payment-summary"]}),i.invalidateQueries({queryKey:["/api/affiliate-payments"]}),h(!1),p(null),m(""),y(""),w(null),r({title:"Success",description:"Payment recorded successfully with proof image"})},onError:X=>{r({title:"Error",description:X.message||"Failed to record payment",variant:"destructive"})}});return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:[s.jsx(kr,{}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx(Fr,{}),s.jsx("div",{className:"flex-1 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Affiliate Partners"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Look at your top performing affiliate partners"})]}),s.jsxs(es,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-3",children:[s.jsx(Ge,{value:"overview",children:"Overview"}),s.jsx(Ge,{value:"affiliates",children:"Affiliates"}),s.jsx(Ge,{value:"pay",children:"Pay"})]}),s.jsxs(Ye,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Affiliates"}),s.jsx(ct,{className:"h-4 w-4",style:{color:n||"#3b82f6"}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",style:{color:n||"#3b82f6"},children:P.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active affiliate partners"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Lifetime Sales"}),s.jsx(Tt,{className:"h-4 w-4",style:{color:a||"#10b981"}})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold",style:{color:a||"#10b981"},children:["$",F.reduce((X,B)=>X+(B.totalRevenue||0),0).toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total referral revenue"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Referrals"}),s.jsx(ct,{className:"h-4 w-4",style:{color:n||"#3b82f6"}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",style:{color:n||"#3b82f6"},children:F.reduce((X,B)=>X+(B.totalReferrals||0),0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Users referred by affiliates"})]})]})]}),s.jsxs(K,{className:"border-0 shadow-sm",children:[s.jsxs(re,{children:[s.jsx(ne,{className:"text-lg flex items-center",children:" Top Performers (Lifetime)"}),s.jsx(tt,{children:"Your affiliate partners will appear here once they start referring customers"})]}),s.jsx(G,{children:U?s.jsx("div",{className:"flex items-center justify-center h-24",children:s.jsx("div",{style:{color:n||"#3b82f6"},children:"Loading top affiliates..."})}):F.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ct,{className:"h-16 w-16 mx-auto mb-4",style:{color:n||"#3b82f6",opacity:.3}}),s.jsx("p",{className:"font-medium text-lg",style:{color:n||"#3b82f6"},children:"No Affiliates Yet"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Your affiliate partners will appear here once they start referring customers"})]}):s.jsx("div",{className:"space-y-1",children:F.filter(X=>X.totalCommissions>0).sort((X,B)=>B.totalCommissions-X.totalCommissions).slice(0,5).map((X,B)=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{borderColor:`${n||"#3b82f6"}20`,backgroundColor:"white"},onMouseEnter:ce=>{ce.currentTarget.style.backgroundColor=`${n||"#3b82f6"}05`},onMouseLeave:ce=>{ce.currentTarget.style.backgroundColor="white"},children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:`${n||"#3b82f6"}20`,color:n||"#3b82f6"},children:s.jsxs("span",{className:"font-bold text-sm",children:["#",B+1]})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",style:{color:n||"#3b82f6"},children:X.affiliateName}),s.jsx("p",{className:"text-sm",style:{color:a||"#10b981"},children:X.affiliateEmail}),s.jsx(be,{variant:"outline",className:"text-xs mt-1",style:{backgroundColor:`${a||"#10b981"}20`,color:a||"#10b981",borderColor:a||"#10b981"},children:I(X.role)})]})]}),s.jsxs("div",{className:"text-right flex items-center space-x-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-lg",style:{color:a||"#10b981"},children:["$",X.totalCommissions.toFixed(2)]}),s.jsxs("p",{className:"text-sm",style:{color:n||"#3b82f6"},children:["$",X.totalRevenue.toFixed(2)," revenue"]}),s.jsxs("p",{className:"text-xs",style:{color:`${n||"#3b82f6"}80`},children:[X.totalReferrals," referrals"]})]}),s.jsx(M,{variant:"outline",size:"sm",style:{borderColor:a||"#10b981",color:a||"#10b981"},onClick:()=>H(X.affiliateId),children:"View Details"})]})]},X.affiliateId))})})]})]}),s.jsx(Ye,{value:"affiliates",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:" Affiliate Partners"}),s.jsx(tt,{children:"All affiliate partners across the platform"})]}),s.jsx(G,{children:_?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading affiliates..."})}):P.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ct,{className:"h-12 w-12 mx-auto mb-4",style:{color:n||"#3b82f6",opacity:.3}}),s.jsx("p",{className:"font-medium",style:{color:n||"#3b82f6"},children:"No Active Affiliates"}),s.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:"Affiliate partners who refer customers to your plans will appear here."})]}):s.jsx("div",{className:"space-y-4",children:P.map(X=>{var ce;const B=F.find(ve=>ve.affiliateId===X.id);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${a||"#10b981"}20`},children:s.jsx(Jn,{className:"w-5 h-5",style:{color:a||"#10b981"}})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:X.name}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:[s.jsx(Wn,{className:"w-3 h-3 mr-1",style:{color:n||"#3b82f6"}}),X.email]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(be,{variant:"secondary",className:"text-xs",style:{backgroundColor:`${n||"#3b82f6"}20`,color:n||"#3b82f6"},children:I(X.role)}),X.whiteLabelBusiness&&s.jsx(be,{variant:"outline",className:"text-xs",style:{borderColor:a||"#10b981",color:a||"#10b981"},children:X.whiteLabelBusiness})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Nn,{className:"w-3 h-3 mr-1",style:{color:n||"#3b82f6"}}),R(X.joinDate)]}),s.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:[(B==null?void 0:B.totalReferrals)||0," sales  $",((ce=B==null?void 0:B.totalRevenue)==null?void 0:ce.toFixed(2))||"0.00"]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>H({...X,...B}),className:"mt-2 text-xs",style:{borderColor:n||"#3b82f6",color:n||"#3b82f6"},children:[s.jsx(vt,{className:"w-3 h-3 mr-1"}),"View Details"]})]})]},X.id)})})})]})}),s.jsx(Ye,{value:"pay",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ne,{children:" Affiliate Payments"}),s.jsx(tt,{children:"Manage affiliate commission payments and track payment status"})]}),s.jsx(G,{children:L?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-gray-500",children:"Loading payment data..."})}):E.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ht,{className:"h-12 w-12 mx-auto mb-4",style:{color:n||"#3b82f6",opacity:.3}}),s.jsx("p",{className:"font-medium",style:{color:n||"#3b82f6"},children:"No Affiliates Found"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Affiliate payment data will appear once affiliates start generating sales"})]}):s.jsx("div",{className:"space-y-4",children:E.map(X=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${n||"#3b82f6"}20`},children:s.jsx(Ht,{className:"w-5 h-5",style:{color:n||"#3b82f6"}})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:X.name}),s.jsx("p",{className:"text-sm text-gray-500",children:X.email}),s.jsx(be,{variant:"secondary",className:"text-xs mt-1",style:{backgroundColor:`${a||"#10b981"}20`,color:a||"#10b981"},children:I(X.role)})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-xs",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Total Commission"}),s.jsxs("p",{className:"font-medium",style:{color:a||"#10b981"},children:["$",X.totalCommission.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Total Paid"}),s.jsxs("p",{className:"font-medium",style:{color:n||"#3b82f6"},children:["$",X.totalPaid.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Need to Pay"}),s.jsxs("p",{className:`font-medium ${X.needToPay>0?"text-orange-600":"text-gray-500"}`,children:["$",X.needToPay.toFixed(2)]})]}),s.jsxs("div",{className:"flex flex-col space-y-2 justify-center",children:[X.needToPay>0?s.jsxs(M,{size:"sm",onClick:()=>he(X),className:"text-xs",style:{backgroundColor:a||"#10b981",color:"white"},disabled:xe.isPending,children:[s.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Make Payment"]}):s.jsx("span",{className:"text-xs text-gray-400",children:"Paid Up"}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>ie(X),className:"text-xs",style:{borderColor:n||"#3b82f6",color:n||"#3b82f6"},children:[s.jsx(vt,{className:"w-3 h-3 mr-1"}),"Payment History"]})]})]})})]},X.id))})})]})})]})]})})]}),s.jsx(ar,{open:c,onOpenChange:d,children:s.jsxs(Yt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsxs(Qt,{className:"flex items-center space-x-2",children:[s.jsx(Jn,{className:"w-5 h-5"}),s.jsx("span",{children:(o==null?void 0:o.name)||"Affiliate Details"})]}),s.jsx(gs,{children:"Complete affiliate performance and earnings breakdown"})]}),V?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-gray-500",children:"Loading affiliate details..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium",children:o==null?void 0:o.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),s.jsx(be,{variant:"secondary",children:I(o==null?void 0:o.role)})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs(K,{children:[s.jsx(re,{className:"pb-2",children:s.jsxs(ne,{className:"text-sm flex items-center",children:[s.jsx(en,{className:"w-4 h-4 mr-2",style:{color:n||"#3b82f6"}}),"Total Purchases"]})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",style:{color:n||"#3b82f6"},children:(()=>{const X=F.find(B=>B.affiliateId===(o==null?void 0:o.id));return(X==null?void 0:X.totalReferrals)||0})()}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Purchases from referrals"})]})]}),s.jsxs(K,{children:[s.jsx(re,{className:"pb-2",children:s.jsxs(ne,{className:"text-sm flex items-center",children:[s.jsx(Tt,{className:"w-4 h-4 mr-2",style:{color:a||"#10b981"}}),"Revenue Generated"]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold",style:{color:a||"#10b981"},children:["$",(()=>{var B;const X=F.find(ce=>ce.affiliateId===(o==null?void 0:o.id));return((B=X==null?void 0:X.totalRevenue)==null?void 0:B.toFixed(2))||"0.00"})()]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total referral revenue"})]})]}),s.jsxs(K,{children:[s.jsx(re,{className:"pb-2",children:s.jsxs(ne,{className:"text-sm flex items-center",children:[s.jsx(wn,{className:"w-4 h-4 mr-2",style:{color:n||"#3b82f6"}}),"Referrals Made"]})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",style:{color:n||"#8b5cf6"},children:(()=>{const X=F.find(B=>B.affiliateId===(o==null?void 0:o.id));return(X==null?void 0:X.totalReferrals)||0})()}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Users referred"})]})]})]})]})]})}),s.jsx(ar,{open:u,onOpenChange:h,children:s.jsxs(Yt,{className:"max-w-2xl",children:[s.jsxs(Xt,{children:[s.jsxs(Qt,{className:"flex items-center space-x-2",children:[s.jsx(Ht,{className:"w-5 h-5",style:{color:n||"#3b82f6"}}),s.jsxs("span",{children:["Make Payment to ",f==null?void 0:f.name]})]}),s.jsx(gs,{children:"Process commission payment for affiliate"})]}),s.jsxs("div",{className:"space-y-6",children:[T?s.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center justify-center h-32",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-gray-100"}),s.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading account details..."})]})}):D?s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6 bg-white dark:bg-gray-800 shadow-sm",children:[(console.log(" Payment Account Data Received by React:",D),console.log(" PaymentAccount Fields:",{bankName:D.bankName,accountOwnerName:D.accountOwnerName,accountNumber:D.accountNumber,accountType:D.accountType}),null),s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg mr-3",children:s.jsx(Ht,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Details"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Affiliate bank account information"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100 dark:border-gray-700",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Bank Name"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(D==null?void 0:D.bankName)||"Not provided"})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100 dark:border-gray-700",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Account Owner"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(D==null?void 0:D.accountOwnerName)||"Not provided"})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100 dark:border-gray-700",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Account Number"}),s.jsx("span",{className:"text-sm font-mono font-bold text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded",children:(D==null?void 0:D.accountNumber)||"Not provided"})]}),s.jsxs("div",{className:"flex justify-between items-center py-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Account Type"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white capitalize",children:((pe=D==null?void 0:D.accountType)==null?void 0:pe.replace("_"," "))||"Not specified"})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Account Verified"}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"Complete account details available for secure money transfer"})]})]})})]}):s.jsxs("div",{className:"border border-red-200 dark:border-red-800 rounded-xl p-6 bg-red-50 dark:bg-red-900/20",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg mr-3",children:s.jsx(Ht,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-red-900 dark:text-red-200",children:"Account Required"}),s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Bank details needed for payment processing"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[s.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium text-sm",children:"This Affiliate Not Add an Account Details"}),s.jsx("p",{className:"text-red-700 text-xs mt-1",children:"This affiliate needs to add their bank account information before payments can be processed."})]})]}),s.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-green-700 font-medium text-sm",children:"Need To Pay"}),s.jsxs("p",{className:"text-3xl font-bold text-green-800",children:["$",((ye=f==null?void 0:f.needToPay)==null?void 0:ye.toFixed(2))||"0.00"]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"How Much You Are Paying ($)"}),s.jsx(J,{type:"number",step:"0.01",value:x,onChange:X=>m(X.target.value),placeholder:"0.00",className:"mt-1 text-lg font-semibold"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Add Proof of Payment Transaction"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:X=>{var B;return w(((B=X.target.files)==null?void 0:B[0])||null)},className:"hidden",id:"proof-upload"}),s.jsx("label",{htmlFor:"proof-upload",className:`flex flex-col items-center justify-center w-full p-6 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${j?"border-green-400 bg-green-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,onDrop:X=>{X.preventDefault();const B=X.dataTransfer.files;B.length>0&&w(B[0])},onDragOver:X=>X.preventDefault(),children:s.jsx("div",{className:"text-center",children:j?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Dx,{className:"w-8 h-8 text-green-600 mx-auto"}),s.jsx("p",{className:"text-sm font-medium text-green-600",children:j.name}),s.jsx("p",{className:"text-xs text-green-500",children:"File uploaded successfully"})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Wi,{className:"w-8 h-8 text-gray-400 mx-auto"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Drag & drop receipt here"}),s.jsx("p",{className:"text-xs text-gray-500",children:"or click to browse (Images & PDF)"})]})})}),j&&s.jsx("button",{type:"button",onClick:()=>w(null),className:"mt-2 text-xs text-red-600 hover:text-red-700 underline",children:"Remove file"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Payment Notes (Optional)"}),s.jsx(pr,{value:g,onChange:X=>y(X.target.value),placeholder:"e.g., Commission payment for Q4 2024",className:"mt-1",rows:2})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(M,{variant:"outline",onClick:()=>h(!1),disabled:xe.isPending,children:"Cancel"}),s.jsx(M,{onClick:()=>{if(!x||isNaN(parseFloat(x))){r({title:"Error",description:"Please enter a valid payment amount",variant:"destructive"});return}if(!(f!=null&&f.hasAccountDetails)){r({title:"Account Required",description:`${f.name} must add their bank account details before receiving payments. Please ask them to update their payment information first.`,variant:"destructive"});return}xe.mutate({affiliateId:f.id,amount:parseFloat(x),description:g.trim()||void 0})},disabled:xe.isPending||!(f!=null&&f.hasAccountDetails),className:`${f!=null&&f.hasAccountDetails?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"}`,children:xe.isPending?"Processing Payment...":"Complete Payment"})]})]})]})}),s.jsx(ar,{open:b,onOpenChange:N,children:s.jsxs(Yt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsxs(Qt,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{className:"w-5 h-5"}),s.jsxs("span",{children:["Payment History - ",S==null?void 0:S.name]})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>je(S),className:"text-xs",disabled:O,children:[s.jsx(Sn,{className:"w-3 h-3 mr-1"}),"Export Lifetime History"]})]}),s.jsxs(gs,{children:["Complete payment history with proof images and transaction details for ",S==null?void 0:S.name]})]}),s.jsx("div",{className:"mt-6",children:O?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-gray-500",children:"Loading payment history..."})}):!$||$.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ht,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"No Payment History"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"No payments have been made to this affiliate yet"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Payments"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:$.length})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Amount Paid"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:["$",$.reduce((X,B)=>X+parseFloat(B.amount||0),0).toFixed(2)]})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Last Payment"}),s.jsx("p",{className:"text-lg font-bold text-purple-700",children:$.length>0?R($[0].createdAt):"N/A"})]})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b",children:s.jsx("h3",{className:"font-medium text-gray-900",children:"Payment Records"})}),s.jsx("div",{className:"divide-y divide-gray-200",children:$.map((X,B)=>s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:s.jsx(Tt,{className:"w-4 h-4 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-lg",children:["$",parseFloat(X.amount||0).toFixed(2)]}),s.jsx("p",{className:"text-sm text-gray-500",children:R(X.createdAt)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Payment Method"}),s.jsx("p",{className:"font-medium",children:X.paymentMethod||"Bank Transfer"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Status"}),s.jsx(be,{variant:"secondary",className:"text-xs",children:X.status||"Completed"})]})]}),X.description&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Description"}),s.jsx("p",{className:"text-gray-900",children:X.description})]}),X.historicalBankName&&X.historicalAccountNumber&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Transfer Details"}),s.jsxs("p",{className:"text-gray-900 font-medium",children:["Transfer To: ",X.historicalBankName," ",X.historicalAccountNumber]})]})]}),s.jsx("div",{className:"ml-6",children:X.transactionProofUrl?s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Transaction Proof"}),s.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden",children:s.jsx("img",{src:X.transactionProofUrl,alt:"Transaction Proof",className:"w-32 h-32 object-cover cursor-pointer hover:opacity-80",onClick:()=>window.open(X.transactionProofUrl,"_blank")})}),s.jsx("p",{className:"text-xs text-gray-400 mt-1 text-center",children:"Click to view full size"})]}):X.receiptImageUrl?s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Receipt"}),s.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden",children:s.jsx("img",{src:X.receiptImageUrl,alt:"Payment Receipt",className:"w-32 h-32 object-cover cursor-pointer hover:opacity-80",onClick:()=>window.open(X.receiptImageUrl,"_blank")})}),s.jsx("p",{className:"text-xs text-gray-400 mt-1 text-center",children:"Click to view full size"})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"No Proof Image"}),s.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx(Dx,{className:"w-8 h-8 text-gray-400"})})]})})]})},X.id||B))})]})]})}),s.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t mt-6",children:s.jsx(M,{variant:"outline",onClick:()=>N(!1),children:"Close"})})]})})]})}function BA(){const{user:e}=ft(),{primaryColor:t,secondaryColor:r}=Ur(),n=Zt(),[a,i]=v.useState(""),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,h]=v.useState(null),[f,p]=v.useState(!1),[x,m]=v.useState(!1),[g,y]=v.useState(null),[j,w]=v.useState(!1),[b,N]=v.useState({businessName:"",domainPath:"",organizationFirstName:"",organizationLastName:"",industry:"",username:"",password:"",website:""}),[S,C]=v.useState(!1),[P,_]=v.useState("single"),[A,k]=v.useState({email:"",businessName:"",firstName:"",lastName:""}),[E,L]=v.useState(null),[F,U]=v.useState([]),[W,V]=v.useState(""),[D,T]=v.useState(!1),$=sessionStorage.getItem("selectedRole")||(e==null?void 0:e.role)||"Super Admin";console.log("ClientsPage Debug:",{selectedRole:$,userRole:e==null?void 0:e.role,sessionRole:sessionStorage.getItem("selectedRole")});const{data:O,isLoading:R}=ue({queryKey:["/api/white-labels"]}),{data:I,error:H}=ue({queryKey:["/api/white-labels/stats"],retry:2,staleTime:0});console.log("Stats data:",I,"Stats error:",H);const he=Oe({mutationFn:async({id:z,status:de})=>{const ee=await fetch(`/api/white-labels/${z}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:de})});if(!ee.ok)throw new Error("Failed to update status");return ee.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/white-labels"]})}}),{data:ie}=ue({queryKey:[`/api/white-labels/${u==null?void 0:u.id}/analytics/stats`],enabled:!!(u!=null&&u.id)}),{data:je}=ue({queryKey:[`/api/white-labels/${u==null?void 0:u.id}/analytics/activities`],enabled:!!(u!=null&&u.id)}),{data:xe}=ue({queryKey:[`/api/white-labels/${u==null?void 0:u.id}/analytics/purchases`],enabled:!!(u!=null&&u.id)}),pe=z=>{h(z),p(!0)},ye=Oe({mutationFn:async z=>{console.log("Starting impersonation for userId:",z);const de=await fetch(`/api/admin/impersonate/${z}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!de.ok){const ee=await de.text();throw new Error(`Impersonation failed: ${ee}`)}return de.json()},onSuccess:z=>{console.log("Impersonation successful:",z),sessionStorage.setItem("originalAdminRole",(e==null?void 0:e.role)||"super_admin"),sessionStorage.setItem("originalAdminId",(e==null?void 0:e.id)||""),sessionStorage.setItem("impersonatedClientId",z.impersonatedUser.id),window.location.href="/"},onError:z=>{console.error("Impersonation failed:",z),alert(`Impersonation failed: ${z.message}`)}}),X=z=>{confirm(`Are you sure you want to impersonate ${z.businessName}? You will be logged in as this client and can make changes to their account.`)&&ye.mutate(z.userId)},B=(z,de)=>{if(N(ee=>({...ee,[z]:de})),z==="businessName"){const ee=de.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");N(Te=>({...Te,domainPath:ee}))}},ce=Oe({mutationFn:async z=>{const de=await fetch("/api/admin/create-organization",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(z)});if(!de.ok){const ee=await de.text();throw new Error(ee)}return de.json()},onSuccess:z=>{console.log("Organization created successfully:",z),alert(`Organization "${z.organization.whiteLabel.businessName}" created successfully!`),w(!1),N({businessName:"",domainPath:"",organizationFirstName:"",organizationLastName:"",industry:"",username:"",password:"",website:""}),n.invalidateQueries({queryKey:["/api/white-labels"]}),n.invalidateQueries({queryKey:["/api/white-labels/stats"]})},onError:z=>{console.error("Error creating organization:",z),alert(`Failed to create organization: ${z.message}`)}}),ve=()=>{const{businessName:z,organizationFirstName:de,organizationLastName:ee,username:Te,password:Nt,domainPath:dt}=b;if(!z||!de||!ee||!Te||!Nt||!dt){alert("Please fill in all required fields (marked with *)");return}console.log("Creating organization with data:",b),ce.mutate(b)},q=()=>{const z=`email,firstName,lastName
example@company.com,John,Doe
`,de=new Blob([z],{type:"text/csv"}),ee=window.URL.createObjectURL(de),Te=document.createElement("a");Te.href=ee,Te.download="white-label-invitation-template.csv",document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),window.URL.revokeObjectURL(ee)},oe=z=>{var Te;const de=(Te=z.target.files)==null?void 0:Te[0];if(!de)return;if(de.type!=="text/csv"&&!de.name.endsWith(".csv")){V("Please upload a CSV file");return}L(de);const ee=new FileReader;ee.onload=Nt=>{var se;const ae=((se=Nt.target)==null?void 0:se.result).split(`
`).filter(me=>me.trim()),Se=ae[0].split(",").map(me=>me.trim());if(!Se.includes("email")||!Se.includes("firstName")||!Se.includes("lastName")){V("CSV must contain columns: email, firstName, lastName"),U([]);return}const bt=ae.slice(1).map(me=>{const Xe=me.split(",").map(Qe=>Qe.trim()),He={};return Se.forEach((Qe,mt)=>{He[Qe]=Xe[mt]||""}),He}).filter(me=>me.email);U(bt),V(`${bt.length} invitations ready to send`)},ee.readAsText(de)},le=Oe({mutationFn:async z=>{const de=await fetch("/api/admin/send-invitation",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(z)});if(!de.ok){const ee=await de.text();throw new Error(ee)}return de.json()},onSuccess:()=>{alert("Invitation sent successfully!"),k({email:"",businessName:"",firstName:"",lastName:""}),C(!1)},onError:z=>{alert(`Failed to send invitation: ${z.message}`)}}),Ne=Oe({mutationFn:async z=>{const de=await fetch("/api/admin/send-bulk-invitations",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({invitations:z})});if(!de.ok){const ee=await de.text();throw new Error(ee)}return de.json()},onSuccess:z=>{alert(`Successfully sent ${z.successCount} invitations! ${z.errorCount>0?`${z.errorCount} failed.`:""}`),L(null),U([]),V(""),C(!1)},onError:z=>{alert(`Failed to send bulk invitations: ${z.message}`)}}),Me=()=>{const{email:z,businessName:de,firstName:ee,lastName:Te}=A;if(!z||!de||!ee||!Te){alert("Please fill in all fields");return}le.mutate({email:z,businessName:de,firstName:ee,lastName:Te,inviterName:`${(e==null?void 0:e.firstName)||""} ${(e==null?void 0:e.lastName)||""}`.trim()||(e==null?void 0:e.username)||"Super Admin"})},Le=()=>{if(F.length===0){alert("Please upload a CSV file with invitation data");return}const z=F.map(de=>({...de,businessName:de.businessName||`${de.firstName} ${de.lastName}'s Business`,inviterName:`${(e==null?void 0:e.firstName)||""} ${(e==null?void 0:e.lastName)||""}`.trim()||(e==null?void 0:e.username)||"Super Admin"}));Ne.mutate(z)},Ie=O==null?void 0:O.filter(z=>{var Te,Nt;const de=((Te=z.businessName)==null?void 0:Te.toLowerCase().includes(a.toLowerCase()))||((Nt=z.contactEmail)==null?void 0:Nt.toLowerCase().includes(a.toLowerCase())),ee=o==="all"||z.status===o;return de&&ee}),qe=z=>{switch(z){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return R?s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{isMobileOpen:c,onMobileToggle:()=>d(!c)}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>d(!0),className:"text-gray-600",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"White-Label Clients"}),s.jsx("div",{className:"w-10"})]}),s.jsx(Fr,{title:"White-Label Clients",subtitle:"Manage your white-label client accounts"}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-center py-12",children:"Loading clients..."})})]})]}):s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50",children:[s.jsx(kr,{isMobileOpen:c,onMobileToggle:()=>d(!c)}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between shadow-sm",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>d(!0),className:"text-gray-600 hover:bg-gray-100",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"White-Label Clients"}),s.jsx("div",{className:"w-10"})]}),s.jsx(Fr,{title:"White-Label Clients",subtitle:"Manage your white-label client accounts"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(K,{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium text-gray-700",children:"Total Clients"}),s.jsx(Eh,{className:"h-5 w-5",style:{color:t||"#3b82f6"}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:(I==null?void 0:I.total)||0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All white-label clients"})]})]}),s.jsxs(K,{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium text-gray-700",children:"Active"}),s.jsx(tm,{className:"h-5 w-5",style:{color:t||"#3b82f6"}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:(I==null?void 0:I.active)||0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Have purchased plans"})]})]}),s.jsxs(K,{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium text-gray-700",children:"Pending"}),s.jsx(Nn,{className:"h-5 w-5 text-gray-500"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:(I==null?void 0:I.pending)||0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No plans purchased"})]})]})]}),s.jsx("div",{className:"mb-8",children:s.jsxs(K,{className:"bg-white border border-gray-200 shadow-sm",children:[s.jsx(re,{className:"border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:s.jsx(Wn,{className:"h-4 w-4",style:{color:t||"#3b82f6"}})}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg font-semibold text-gray-900",children:"Client Invitations"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Send invitations to new clients"})]})]})}),s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(M,{onClick:()=>C(!0),className:"flex-1 text-white font-medium shadow-sm hover:shadow-md transition-all duration-300",style:{backgroundColor:t||"#3b82f6"},children:[s.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Send Invitations"]}),s.jsxs(M,{variant:"outline",onClick:q,className:"flex-1 bg-white font-medium transition-all duration-300 hover:bg-gray-50",style:{borderColor:r||"#10b981",color:r||"#10b981"},onMouseEnter:z=>{z.currentTarget.style.backgroundColor=`${r||"#10b981"}10`},onMouseLeave:z=>{z.currentTarget.style.backgroundColor="white"},children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Download Template"]})]})})]})}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:s.jsx(ct,{className:"h-5 w-5",style:{color:t||"#3b82f6"}})}),"Client Management"]}),s.jsx("p",{className:"text-gray-500 mt-1 ml-11",children:"Create and manage client organizations"})]}),s.jsxs(ar,{open:j,onOpenChange:w,children:[s.jsx(Yv,{asChild:!0,children:s.jsxs(M,{className:"text-white font-medium shadow-sm hover:shadow-md transition-all duration-300",style:{backgroundColor:t||"#3b82f6"},children:[s.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Create Organization"]})}),s.jsxs(Yt,{className:"sm:max-w-[600px]",children:[s.jsxs(Xt,{children:[s.jsx(Qt,{children:"Create New Organization"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Set up a new white-label organization in under 2 minutes. All fields with * are required."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"businessName",className:"text-sm font-medium",children:"Business Name *"}),s.jsx(J,{id:"businessName",placeholder:"Enter business or organization name",value:b.businessName,onChange:z=>B("businessName",z.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"organizationFirstName",className:"text-sm font-medium",children:"Organization First Name *"}),s.jsx(J,{id:"organizationFirstName",placeholder:"John",value:b.organizationFirstName,onChange:z=>B("organizationFirstName",z.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"organizationLastName",className:"text-sm font-medium",children:"Organization Last Name *"}),s.jsx(J,{id:"organizationLastName",placeholder:"Smith",value:b.organizationLastName,onChange:z=>B("organizationLastName",z.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"industry",className:"text-sm font-medium",children:"Industry"}),s.jsxs(an,{value:b.industry,onValueChange:z=>B("industry",z),children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:"Select an industry"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"technology",children:"Technology"}),s.jsx(Ae,{value:"healthcare",children:"Healthcare"}),s.jsx(Ae,{value:"finance",children:"Finance"}),s.jsx(Ae,{value:"education",children:"Education"}),s.jsx(Ae,{value:"retail",children:"Retail"}),s.jsx(Ae,{value:"manufacturing",children:"Manufacturing"}),s.jsx(Ae,{value:"construction",children:"Construction"}),s.jsx(Ae,{value:"real-estate",children:"Real Estate"}),s.jsx(Ae,{value:"consulting",children:"Consulting"}),s.jsx(Ae,{value:"marketing",children:"Marketing"}),s.jsx(Ae,{value:"food-beverage",children:"Food & Beverage"}),s.jsx(Ae,{value:"automotive",children:"Automotive"}),s.jsx(Ae,{value:"entertainment",children:"Entertainment"}),s.jsx(Ae,{value:"nonprofit",children:"Non-Profit"}),s.jsx(Ae,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"username",className:"text-sm font-medium",children:"Username *"}),s.jsx(J,{id:"username",placeholder:"admin_user",value:b.username,onChange:z=>B("username",z.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"password",className:"text-sm font-medium",children:"Password *"}),s.jsx(J,{id:"password",type:"password",placeholder:"Strong password",value:b.password,onChange:z=>B("password",z.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"domainPath",className:"text-sm font-medium",children:"Domain Path *"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:[window.location.hostname,"/"]}),s.jsx(J,{id:"domainPath",placeholder:"business-name",value:b.domainPath,onChange:z=>B("domainPath",z.target.value),className:"flex-1"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Auto-generated from business name, but you can customize it"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"website",className:"text-sm font-medium",children:"Website"}),s.jsx(J,{id:"website",placeholder:"https://www.business.com",value:b.website,onChange:z=>B("website",z.target.value)})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[s.jsx(M,{variant:"outline",onClick:()=>w(!1),className:"transition-all duration-300",style:{borderColor:r||"#10b981",color:r||"#10b981"},onMouseEnter:z=>{z.currentTarget.style.backgroundColor=`${r||"#10b981"}10`},onMouseLeave:z=>{z.currentTarget.style.backgroundColor="transparent"},children:"Cancel"}),s.jsx(M,{onClick:ve,className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:ce.isPending||!b.businessName||!b.organizationFirstName||!b.organizationLastName||!b.username||!b.password||!b.domainPath,children:ce.isPending?"Creating...":"Create Organization"})]})]})]})]}),s.jsx(K,{className:"mb-6 bg-white border border-gray-200 shadow-sm",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(J,{placeholder:"Search clients by name or email...",value:a,onChange:z=>i(z.target.value),className:"pl-10 border-gray-300 focus:border-2 focus:ring-2 transition-all duration-300",style:{"--tw-ring-color":`${t||"#3b82f6"}40`}})]})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100",children:[s.jsx(FD,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"})]}),s.jsxs("select",{value:o,onChange:z=>l(z.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-700 focus:border-2 focus:ring-2 transition-all duration-300",style:{"--tw-ring-color":`${t||"#3b82f6"}40`},children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})})}),s.jsxs(K,{className:"bg-white border border-gray-200 shadow-sm",children:[s.jsx(re,{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs(ne,{className:"flex items-center gap-2 text-gray-900",children:[s.jsx(Eh,{className:"h-5 w-5",style:{color:t||"#3b82f6"}}),"Client Accounts (",(Ie==null?void 0:Ie.length)||0,")"]})}),s.jsx(G,{className:"p-0",children:s.jsxs("div",{className:"space-y-0",children:[Ie==null?void 0:Ie.map((z,de)=>s.jsxs("div",{className:"flex items-center justify-between p-6 border-b last:border-b-0 hover:bg-gray-50 transition-colors duration-200",style:{background:de%2===0?"white":"#fafafa"},children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center",children:s.jsx(Eh,{className:"h-6 w-6",style:{color:t||"#3b82f6"}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:z.businessName}),s.jsxs("p",{className:"text-gray-600 flex items-center gap-1",children:[s.jsx(Wn,{className:"h-3 w-3"}),z.contactEmail]}),z.customDomain&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-1 bg-gray-100 text-gray-700",children:z.customDomain})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.planName}),s.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(Nn,{className:"h-3 w-3",style:{color:r||"#10b981"}}),"Joined ",new Date(z.createdAt).toLocaleDateString()]})]}),s.jsx(be,{className:`${qe(z.status)} font-medium px-3 py-1`,children:z.status}),s.jsxs("div",{className:"flex items-center space-x-2",children:[($==="Super Admin"||$==="super_admin"||(e==null?void 0:e.role)==="super_admin")&&s.jsx(M,{size:"sm",variant:"outline",onClick:()=>X(z),title:"Impersonate Client",className:"border-gray-300 text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-all duration-200",children:s.jsx(SS,{className:"h-3 w-3"})}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>pe(z),title:"View Analytics",className:"transition-all duration-200",style:{borderColor:r||"#10b981",color:r||"#10b981"},children:s.jsx(vt,{className:"h-3 w-3"})}),($==="Super Admin"||$==="super_admin"||(e==null?void 0:e.role)==="super_admin")&&s.jsxs("div",{className:"flex space-x-1",children:[z.status==="pending"&&s.jsx(M,{size:"sm",onClick:()=>he.mutate({id:z.id,status:"active"}),disabled:he.isPending,className:"text-white shadow-sm hover:shadow-md transition-all duration-300",style:{backgroundColor:t||"#3b82f6",borderColor:t||"#3b82f6"},children:"Approve"}),z.status==="active"&&s.jsx(M,{size:"sm",variant:"outline",onClick:()=>he.mutate({id:z.id,status:"suspended"}),disabled:he.isPending,className:"border-red-300 text-red-600 hover:bg-red-50 transition-all duration-300",children:"Suspend"}),z.status==="suspended"&&s.jsx(M,{size:"sm",onClick:()=>he.mutate({id:z.id,status:"active"}),disabled:he.isPending,className:"text-white shadow-sm hover:shadow-md transition-all duration-300",style:{backgroundColor:t||"#3b82f6",borderColor:t||"#3b82f6"},children:"Reactivate"}),s.jsx(M,{size:"sm",variant:"outline",className:"hover:shadow-md transition-all duration-300",style:{borderColor:r||"#10b981",color:r||"#10b981"},children:s.jsx(NS,{className:"h-3 w-3"})})]})]})]})]},z.id)),(!Ie||Ie.length===0)&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${t||"#3b82f6"}20, ${r||"#10b981"}20)`},children:s.jsx(Eh,{className:"h-10 w-10",style:{color:t||"#3b82f6"}})}),s.jsx("div",{className:"text-gray-600 mb-2 text-lg font-medium",children:a||o!=="all"?"No clients match your filters":"No clients yet"}),s.jsx("p",{className:"text-gray-500",children:a||o!=="all"?"Try adjusting your search or filters":"Client accounts will appear here when they sign up"})]})]})})]})]})]}),s.jsx(ar,{open:S,onOpenChange:C,children:s.jsxs(Yt,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"h-5 w-5",style:{color:t||"#3b82f6"}}),"Send White-Label Invitations"]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Invite potential clients to join your platform. Invitations will be sent from ",(e==null?void 0:e.firstName)||(e==null?void 0:e.username)||"Super Admin","."]})]}),s.jsxs(es,{value:P,onValueChange:_,className:"w-full",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-2 bg-gray-100",children:[s.jsx(Ge,{value:"single",className:"data-[state=active]:text-white data-[state=active]:shadow-sm",style:{backgroundColor:P==="single"?t||"#3b82f6":"transparent"},children:"Single Invitation"}),s.jsx(Ge,{value:"bulk",className:"data-[state=active]:text-white data-[state=active]:shadow-sm",style:{backgroundColor:P==="bulk"?t||"#3b82f6":"transparent"},children:"Bulk Upload (CSV)"})]}),s.jsx(Ye,{value:"single",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsxs(Y,{htmlFor:"invite-email",className:"text-sm font-medium text-gray-700",children:["Email Address ",s.jsx("span",{style:{color:r||"#10b981"},children:"*"})]}),s.jsx(J,{id:"invite-email",type:"email",placeholder:"client@company.com",value:A.email,onChange:z=>k(de=>({...de,email:z.target.value})),className:"mt-2 border-gray-300 focus:border-2 transition-all duration-300",style:{"--tw-ring-color":`${t||"#3b82f6"}50`,borderColor:`${t||"#3b82f6"}40`}})]}),s.jsxs("div",{children:[s.jsxs(Y,{htmlFor:"invite-business",className:"text-sm font-medium text-gray-700",children:["Business Name ",s.jsx("span",{style:{color:r||"#10b981"},children:"*"})]}),s.jsx(J,{id:"invite-business",placeholder:"Company Name",value:A.businessName,onChange:z=>k(de=>({...de,businessName:z.target.value})),className:"mt-2 border-gray-300 focus:border-2 transition-all duration-300",style:{"--tw-ring-color":`${t||"#3b82f6"}50`,borderColor:`${t||"#3b82f6"}40`}})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Y,{htmlFor:"invite-firstname",className:"text-sm font-medium text-gray-700",children:["First Name ",s.jsx("span",{style:{color:r||"#10b981"},children:"*"})]}),s.jsx(J,{id:"invite-firstname",placeholder:"John",value:A.firstName,onChange:z=>k(de=>({...de,firstName:z.target.value})),className:"mt-2 border-gray-300 focus:border-2 transition-all duration-300",style:{"--tw-ring-color":`${t||"#3b82f6"}50`,borderColor:`${t||"#3b82f6"}40`}})]}),s.jsxs("div",{children:[s.jsxs(Y,{htmlFor:"invite-lastname",className:"text-sm font-medium text-gray-700",children:["Last Name ",s.jsx("span",{style:{color:r||"#10b981"},children:"*"})]}),s.jsx(J,{id:"invite-lastname",placeholder:"Doe",value:A.lastName,onChange:z=>k(de=>({...de,lastName:z.target.value})),className:"mt-2 border-gray-300 focus:border-2 transition-all duration-300",style:{"--tw-ring-color":`${t||"#3b82f6"}50`,borderColor:`${t||"#3b82f6"}40`}})]})]}),s.jsx("div",{className:"rounded-lg p-6 border border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wn,{className:"h-6 w-6 mt-0.5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-lg text-gray-900",children:"Invitation Preview"}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"The client will receive a professional invitation email with setup instructions and login credentials."})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(M,{variant:"outline",onClick:()=>C(!1),className:"px-6 transition-all duration-300",style:{borderColor:r||"#10b981",color:r||"#10b981"},onMouseEnter:z=>{z.currentTarget.style.backgroundColor=`${r||"#10b981"}10`},onMouseLeave:z=>{z.currentTarget.style.backgroundColor="transparent"},children:"Cancel"}),s.jsx(M,{onClick:Me,disabled:le.isPending,className:"px-6 text-white shadow-sm hover:shadow-md transition-all duration-300",style:{backgroundColor:t||"#3b82f6"},children:le.isPending?"Sending...":"Send Invitation"})]})]})}),s.jsxs(Ye,{value:"bulk",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Bt,{className:"h-5 w-5 text-amber-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-amber-900",children:"CSV Format Instructions"}),s.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["Your CSV file must contain these columns: ",s.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"email"}),", ",s.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"firstName"}),", ",s.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"lastName"})]}),s.jsxs(M,{variant:"link",className:"text-amber-700 hover:text-amber-800 p-0 h-auto mt-2",onClick:q,children:[s.jsx(Sn,{className:"h-4 w-4 mr-1"}),"Download Template"]})]})]})}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"csv-upload",className:"text-sm font-medium",children:"Upload CSV File"}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{htmlFor:"csv-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(Wi,{className:"w-8 h-8 mb-4 text-gray-500"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"CSV files only"})]}),s.jsx("input",{id:"csv-upload",type:"file",accept:".csv",className:"hidden",onChange:oe})]})})})]}),W&&s.jsx("div",{className:`p-3 rounded-lg ${F.length>0?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:s.jsx("p",{className:`text-sm ${F.length>0?"text-green-700":"text-red-700"}`,children:W})}),F.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium mb-2",children:["Preview (",F.length," invitations)"]}),s.jsx("div",{className:"max-h-48 overflow-y-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Email"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Business"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Name"})]})}),s.jsxs("tbody",{children:[F.slice(0,5).map((z,de)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:z.email}),s.jsx("td",{className:"px-3 py-2",children:z.businessName}),s.jsxs("td",{className:"px-3 py-2",children:[z.firstName," ",z.lastName]})]},de)),F.length>5&&s.jsx("tr",{className:"border-t",children:s.jsxs("td",{colSpan:3,className:"px-3 py-2 text-center text-gray-500",children:["... and ",F.length-5," more"]})})]})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[s.jsx(M,{variant:"outline",onClick:()=>C(!1),className:"transition-all duration-300",style:{borderColor:r||"#10b981",color:r||"#10b981"},onMouseEnter:z=>{z.currentTarget.style.backgroundColor=`${r||"#10b981"}10`},onMouseLeave:z=>{z.currentTarget.style.backgroundColor="transparent"},children:"Cancel"}),s.jsx(M,{onClick:Le,disabled:Ne.isPending||F.length===0,className:"bg-green-600 hover:bg-green-700 text-white",children:Ne.isPending?"Sending...":`Send ${F.length} Invitations`})]})]})]})]})}),s.jsx(ar,{open:f,onOpenChange:p,children:s.jsxs(Yt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Xt,{children:s.jsxs(Qt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-800 rounded-full flex items-center justify-center",children:s.jsx(Eh,{className:"h-5 w-5",style:{color:r||"#10b981"}})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:u==null?void 0:u.businessName}),s.jsx("div",{className:"text-sm text-gray-600",children:u==null?void 0:u.contactEmail})]})]})}),u&&s.jsx("div",{className:"mt-6",children:s.jsxs(es,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-3",children:[s.jsx(Ge,{value:"overview",children:"Overview"}),s.jsx(Ge,{value:"activities",children:"User Activities"}),s.jsx(Ge,{value:"purchases",children:"Purchase History"})]}),s.jsxs(Ye,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Signups"}),s.jsx(ct,{className:"h-4 w-4",style:{color:r||"#10b981"}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(ie==null?void 0:ie.totalSignups)||"0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Active Users"}),s.jsx(tm,{className:"h-4 w-4",style:{color:r||"#10b981"}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:(ie==null?void 0:ie.activeUsers)||"0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Logins"}),s.jsx(ha,{className:"h-4 w-4",style:{color:r||"#10b981"}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(ie==null?void 0:ie.totalLogins)||"0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Purchases"}),s.jsx(en,{className:"h-4 w-4",style:{color:r||"#10b981"}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(ie==null?void 0:ie.totalPurchases)||"0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders completed"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(Tt,{className:"h-4 w-4",style:{color:r||"#10b981"}})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:["$",parseFloat((ie==null?void 0:ie.totalRevenue)||"0").toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time earnings"})]})]})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Client Information"})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Business Name"}),s.jsx("p",{className:"text-lg",children:u.businessName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Contact Email"}),s.jsx("p",{className:"text-lg",children:u.contactEmail})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Domain Path"}),s.jsxs("p",{className:"text-lg",children:["/",u.domainPath]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),s.jsx(be,{className:qe(u.status),children:u.status})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Joined Date"}),s.jsx("p",{className:"text-lg",children:new Date(u.createdAt).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Plan"}),s.jsx("p",{className:"text-lg",children:u.planName||"No Plan"})]})]})})]})]}),s.jsx(Ye,{value:"activities",className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-5 w-5",style:{color:r||"#10b981"}}),"Recent End User Activities"]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:(je==null?void 0:je.length)>0?je.map((z,de)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ct,{className:"h-4 w-4",style:{color:r||"#10b981"}})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:z.description||z.action}),s.jsx("p",{className:"text-sm text-gray-600",children:z.userEmail||z.userId})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(Go,{className:"h-4 w-4",style:{color:r||"#10b981"}}),new Date(z.createdAt||z.timestamp).toLocaleString()]})]},de)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ha,{className:"h-12 w-12 mx-auto mb-4 opacity-50",style:{color:r||"#10b981"}}),s.jsx("p",{children:"No recent activities found"})]})})})]})}),s.jsx(Ye,{value:"purchases",className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-5 w-5",style:{color:r||"#10b981"}}),"Purchase History"]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:(xe==null?void 0:xe.length)>0?xe.map((z,de)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Tt,{className:"h-4 w-4",style:{color:r||"#10b981"}})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:z.planName||z.productName}),s.jsx("p",{className:"text-sm text-gray-600",children:z.customerEmail||z.userEmail})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold text-green-600",children:["$",parseFloat(z.amount||z.total||"0").toFixed(2)]}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(z.createdAt||z.purchaseDate).toLocaleDateString()})]})]},de)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(en,{className:"h-12 w-12 mx-auto mb-4 opacity-50",style:{color:r||"#10b981"}}),s.jsx("p",{children:"No purchases found"})]})})})]})})]})})]})})]})}var _ie=Array.isArray,ts=_ie,Aie=typeof Mp=="object"&&Mp&&Mp.Object===Object&&Mp,wF=Aie,Eie=wF,Tie=typeof self=="object"&&self&&self.Object===Object&&self,Oie=Eie||Tie||Function("return this")(),Za=Oie,Mie=Za,Die=Mie.Symbol,Sp=Die,UA=Sp,jF=Object.prototype,Iie=jF.hasOwnProperty,Rie=jF.toString,Bh=UA?UA.toStringTag:void 0;function $ie(e){var t=Iie.call(e,Bh),r=e[Bh];try{e[Bh]=void 0;var n=!0}catch{}var a=Rie.call(e);return n&&(t?e[Bh]=r:delete e[Bh]),a}var Lie=$ie,Fie=Object.prototype,zie=Fie.toString;function Bie(e){return zie.call(e)}var Uie=Bie,WA=Sp,Wie=Lie,Vie=Uie,Hie="[object Null]",qie="[object Undefined]",VA=WA?WA.toStringTag:void 0;function Kie(e){return e==null?e===void 0?qie:Hie:VA&&VA in Object(e)?Wie(e):Vie(e)}var Hi=Kie;function Gie(e){return e!=null&&typeof e=="object"}var qi=Gie,Yie=Hi,Xie=qi,Qie="[object Symbol]";function Zie(e){return typeof e=="symbol"||Xie(e)&&Yie(e)==Qie}var ah=Zie,Jie=ts,eoe=ah,toe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,roe=/^\w*$/;function noe(e,t){if(Jie(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||eoe(e)?!0:roe.test(e)||!toe.test(e)||t!=null&&e in Object(t)}var RC=noe;function soe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hl=soe;const ih=zt(hl);var aoe=Hi,ioe=hl,ooe="[object AsyncFunction]",loe="[object Function]",coe="[object GeneratorFunction]",doe="[object Proxy]";function uoe(e){if(!ioe(e))return!1;var t=aoe(e);return t==loe||t==coe||t==ooe||t==doe}var $C=uoe;const at=zt($C);var hoe=Za,foe=hoe["__core-js_shared__"],moe=foe,gw=moe,HA=function(){var e=/[^.]+$/.exec(gw&&gw.keys&&gw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function poe(e){return!!HA&&HA in e}var goe=poe,xoe=Function.prototype,yoe=xoe.toString;function voe(e){if(e!=null){try{return yoe.call(e)}catch{}try{return e+""}catch{}}return""}var NF=voe,boe=$C,woe=goe,joe=hl,Noe=NF,Soe=/[\\^$.*+?()[\]{}|]/g,Coe=/^\[object .+?Constructor\]$/,Poe=Function.prototype,koe=Object.prototype,_oe=Poe.toString,Aoe=koe.hasOwnProperty,Eoe=RegExp("^"+_oe.call(Aoe).replace(Soe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Toe(e){if(!joe(e)||woe(e))return!1;var t=boe(e)?Eoe:Coe;return t.test(Noe(e))}var Ooe=Toe;function Moe(e,t){return e==null?void 0:e[t]}var Doe=Moe,Ioe=Ooe,Roe=Doe;function $oe(e,t){var r=Roe(e,t);return Ioe(r)?r:void 0}var Dc=$oe,Loe=Dc,Foe=Loe(Object,"create"),x0=Foe,qA=x0;function zoe(){this.__data__=qA?qA(null):{},this.size=0}var Boe=zoe;function Uoe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Woe=Uoe,Voe=x0,Hoe="__lodash_hash_undefined__",qoe=Object.prototype,Koe=qoe.hasOwnProperty;function Goe(e){var t=this.__data__;if(Voe){var r=t[e];return r===Hoe?void 0:r}return Koe.call(t,e)?t[e]:void 0}var Yoe=Goe,Xoe=x0,Qoe=Object.prototype,Zoe=Qoe.hasOwnProperty;function Joe(e){var t=this.__data__;return Xoe?t[e]!==void 0:Zoe.call(t,e)}var ele=Joe,tle=x0,rle="__lodash_hash_undefined__";function nle(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tle&&t===void 0?rle:t,this}var sle=nle,ale=Boe,ile=Woe,ole=Yoe,lle=ele,cle=sle;function oh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}oh.prototype.clear=ale;oh.prototype.delete=ile;oh.prototype.get=ole;oh.prototype.has=lle;oh.prototype.set=cle;var dle=oh;function ule(){this.__data__=[],this.size=0}var hle=ule;function fle(e,t){return e===t||e!==e&&t!==t}var LC=fle,mle=LC;function ple(e,t){for(var r=e.length;r--;)if(mle(e[r][0],t))return r;return-1}var y0=ple,gle=y0,xle=Array.prototype,yle=xle.splice;function vle(e){var t=this.__data__,r=gle(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():yle.call(t,r,1),--this.size,!0}var ble=vle,wle=y0;function jle(e){var t=this.__data__,r=wle(t,e);return r<0?void 0:t[r][1]}var Nle=jle,Sle=y0;function Cle(e){return Sle(this.__data__,e)>-1}var Ple=Cle,kle=y0;function _le(e,t){var r=this.__data__,n=kle(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Ale=_le,Ele=hle,Tle=ble,Ole=Nle,Mle=Ple,Dle=Ale;function lh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}lh.prototype.clear=Ele;lh.prototype.delete=Tle;lh.prototype.get=Ole;lh.prototype.has=Mle;lh.prototype.set=Dle;var v0=lh,Ile=Dc,Rle=Za,$le=Ile(Rle,"Map"),FC=$le,KA=dle,Lle=v0,Fle=FC;function zle(){this.size=0,this.__data__={hash:new KA,map:new(Fle||Lle),string:new KA}}var Ble=zle;function Ule(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Wle=Ule,Vle=Wle;function Hle(e,t){var r=e.__data__;return Vle(t)?r[typeof t=="string"?"string":"hash"]:r.map}var b0=Hle,qle=b0;function Kle(e){var t=qle(this,e).delete(e);return this.size-=t?1:0,t}var Gle=Kle,Yle=b0;function Xle(e){return Yle(this,e).get(e)}var Qle=Xle,Zle=b0;function Jle(e){return Zle(this,e).has(e)}var ece=Jle,tce=b0;function rce(e,t){var r=tce(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var nce=rce,sce=Ble,ace=Gle,ice=Qle,oce=ece,lce=nce;function ch(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ch.prototype.clear=sce;ch.prototype.delete=ace;ch.prototype.get=ice;ch.prototype.has=oce;ch.prototype.set=lce;var zC=ch,SF=zC,cce="Expected a function";function BC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(cce);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(BC.Cache||SF),r}BC.Cache=SF;var CF=BC;const dce=zt(CF);var uce=CF,hce=500;function fce(e){var t=uce(e,function(n){return r.size===hce&&r.clear(),n}),r=t.cache;return t}var mce=fce,pce=mce,gce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xce=/\\(\\)?/g,yce=pce(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gce,function(r,n,a,i){t.push(a?i.replace(xce,"$1"):n||r)}),t}),vce=yce;function bce(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var UC=bce,GA=Sp,wce=UC,jce=ts,Nce=ah,YA=GA?GA.prototype:void 0,XA=YA?YA.toString:void 0;function PF(e){if(typeof e=="string")return e;if(jce(e))return wce(e,PF)+"";if(Nce(e))return XA?XA.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Sce=PF,Cce=Sce;function Pce(e){return e==null?"":Cce(e)}var kF=Pce,kce=ts,_ce=RC,Ace=vce,Ece=kF;function Tce(e,t){return kce(e)?e:_ce(e,t)?[e]:Ace(Ece(e))}var _F=Tce,Oce=ah;function Mce(e){if(typeof e=="string"||Oce(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var w0=Mce,Dce=_F,Ice=w0;function Rce(e,t){t=Dce(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ice(t[r++])];return r&&r==n?e:void 0}var WC=Rce,$ce=WC;function Lce(e,t,r){var n=e==null?void 0:$ce(e,t);return n===void 0?r:n}var AF=Lce;const Fs=zt(AF);function Fce(e){return e==null}var zce=Fce;const pt=zt(zce);var Bce=Hi,Uce=ts,Wce=qi,Vce="[object String]";function Hce(e){return typeof e=="string"||!Uce(e)&&Wce(e)&&Bce(e)==Vce}var qce=Hce;const vc=zt(qce);var EF={exports:{}},Lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=Symbol.for("react.element"),HC=Symbol.for("react.portal"),j0=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),C0=Symbol.for("react.provider"),P0=Symbol.for("react.context"),Kce=Symbol.for("react.server_context"),k0=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),A0=Symbol.for("react.suspense_list"),E0=Symbol.for("react.memo"),T0=Symbol.for("react.lazy"),Gce=Symbol.for("react.offscreen"),TF;TF=Symbol.for("react.module.reference");function Hs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case VC:switch(e=e.type,e){case j0:case S0:case N0:case _0:case A0:return e;default:switch(e=e&&e.$$typeof,e){case Kce:case P0:case k0:case T0:case E0:case C0:return e;default:return t}}case HC:return t}}}Lt.ContextConsumer=P0;Lt.ContextProvider=C0;Lt.Element=VC;Lt.ForwardRef=k0;Lt.Fragment=j0;Lt.Lazy=T0;Lt.Memo=E0;Lt.Portal=HC;Lt.Profiler=S0;Lt.StrictMode=N0;Lt.Suspense=_0;Lt.SuspenseList=A0;Lt.isAsyncMode=function(){return!1};Lt.isConcurrentMode=function(){return!1};Lt.isContextConsumer=function(e){return Hs(e)===P0};Lt.isContextProvider=function(e){return Hs(e)===C0};Lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===VC};Lt.isForwardRef=function(e){return Hs(e)===k0};Lt.isFragment=function(e){return Hs(e)===j0};Lt.isLazy=function(e){return Hs(e)===T0};Lt.isMemo=function(e){return Hs(e)===E0};Lt.isPortal=function(e){return Hs(e)===HC};Lt.isProfiler=function(e){return Hs(e)===S0};Lt.isStrictMode=function(e){return Hs(e)===N0};Lt.isSuspense=function(e){return Hs(e)===_0};Lt.isSuspenseList=function(e){return Hs(e)===A0};Lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===j0||e===S0||e===N0||e===_0||e===A0||e===Gce||typeof e=="object"&&e!==null&&(e.$$typeof===T0||e.$$typeof===E0||e.$$typeof===C0||e.$$typeof===P0||e.$$typeof===k0||e.$$typeof===TF||e.getModuleId!==void 0)};Lt.typeOf=Hs;EF.exports=Lt;var Yce=EF.exports,Xce=Hi,Qce=qi,Zce="[object Number]";function Jce(e){return typeof e=="number"||Qce(e)&&Xce(e)==Zce}var OF=Jce;const ede=zt(OF);var tde=OF;function rde(e){return tde(e)&&e!=+e}var nde=rde;const dh=zt(nde);var la=function(t){return t===0?0:t>0?1:-1},$l=function(t){return vc(t)&&t.indexOf("%")===t.length-1},Ee=function(t){return ede(t)&&!dh(t)},sde=function(t){return pt(t)},Rr=function(t){return Ee(t)||vc(t)},ade=0,uh=function(t){var r=++ade;return"".concat(t||"").concat(r)},bc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(t)&&!vc(t))return n;var i;if($l(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return dh(i)&&(i=n),a&&i>r&&(i=r),i},ho=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ide=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ln=function(t,r){return Ee(t)&&Ee(r)?function(n){return t+n*(r-t)}:function(){return r}};function ny(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Fs(n,t))===r})}var ode=function(t,r){return Ee(t)&&Ee(r)?t-r:vc(t)&&vc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Td(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}var lde=["viewBox","children"],cde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QA=["points","pathLength"],xw={svg:lde,polygon:QA,polyline:QA},qC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!ih(n))return null;var a={};return Object.keys(n).forEach(function(i){qC.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},dde=function(t,r,n){return function(a){return t(r,n,a),null}},ay=function(t,r,n){if(!ih(t)||R1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];qC.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=dde(o,r,n))}),a},ude=["children"],hde=["children"];function ZA(e,t){if(e==null)return{};var r=fde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}var JA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ji=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},eE=null,yw=null,KC=function e(t){if(t===eE&&Array.isArray(yw))return yw;var r=[];return v.Children.forEach(t,function(n){pt(n)||(Yce.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),yw=r,eE=t,r};function zs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ji(a)}):n=[ji(t)],KC(e).forEach(function(a){var i=Fs(a,"type.displayName")||Fs(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function is(e,t){var r=zs(e,t);return r&&r[0]}var tE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ee(n)||n<=0||!Ee(a)||a<=0)},mde=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pde=function(t){return t&&t.type&&vc(t.type)&&mde.indexOf(t.type)>=0},MF=function(t){return t&&$1(t)==="object"&&"clipDot"in t},gde=function(t,r,n,a){var i,o=(i=xw==null?void 0:xw[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!at(t)&&(a&&o.includes(r)||cde.includes(r))||n&&qC.includes(r)},lt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!ih(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;gde((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},L1=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return rE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!rE(i,o))return!1}return!0},rE=function(t,r){if(pt(t)&&pt(r))return!0;if(!pt(t)&&!pt(r)){var n=t.props||{},a=n.children,i=ZA(n,ude),o=r.props||{},l=o.children,c=ZA(o,hde);return a&&l?Td(i,c)&&L1(a,l):!a&&!l?Td(i,c):!1}return!1},nE=function(t,r){var n=[],a={};return KC(t).forEach(function(i,o){if(pde(i))n.push(i);else if(i){var l=ji(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);n.push(h),a[l]=!0}}}),n},xde=function(t){var r=t&&t.type;return r&&JA[r]?JA[r]:null},yde=function(t,r){return KC(r).indexOf(t)},vde=["children","width","height","viewBox","className","style","title","desc"];function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F1.apply(this,arguments)}function bde(e,t){if(e==null)return{};var r=wde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z1(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=bde(e,vde),u=a||{width:r,height:n,x:0,y:0},h=xt("recharts-surface",i);return Z.createElement("svg",F1({},lt(d,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Z.createElement("title",null,l),Z.createElement("desc",null,c),t)}var jde=["children","className"];function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B1.apply(this,arguments)}function Nde(e,t){if(e==null)return{};var r=Sde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Gt=Z.forwardRef(function(e,t){var r=e.children,n=e.className,a=Nde(e,jde),i=xt("recharts-layer",n);return Z.createElement("g",B1({className:i},lt(a,!0),{ref:t}),r)}),Ni=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Cde(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Pde=Cde,kde=Pde;function _de(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:kde(e,t,r)}var Ade=_de,Ede="\\ud800-\\udfff",Tde="\\u0300-\\u036f",Ode="\\ufe20-\\ufe2f",Mde="\\u20d0-\\u20ff",Dde=Tde+Ode+Mde,Ide="\\ufe0e\\ufe0f",Rde="\\u200d",$de=RegExp("["+Rde+Ede+Dde+Ide+"]");function Lde(e){return $de.test(e)}var DF=Lde;function Fde(e){return e.split("")}var zde=Fde,IF="\\ud800-\\udfff",Bde="\\u0300-\\u036f",Ude="\\ufe20-\\ufe2f",Wde="\\u20d0-\\u20ff",Vde=Bde+Ude+Wde,Hde="\\ufe0e\\ufe0f",qde="["+IF+"]",U1="["+Vde+"]",W1="\\ud83c[\\udffb-\\udfff]",Kde="(?:"+U1+"|"+W1+")",RF="[^"+IF+"]",$F="(?:\\ud83c[\\udde6-\\uddff]){2}",LF="[\\ud800-\\udbff][\\udc00-\\udfff]",Gde="\\u200d",FF=Kde+"?",zF="["+Hde+"]?",Yde="(?:"+Gde+"(?:"+[RF,$F,LF].join("|")+")"+zF+FF+")*",Xde=zF+FF+Yde,Qde="(?:"+[RF+U1+"?",U1,$F,LF,qde].join("|")+")",Zde=RegExp(W1+"(?="+W1+")|"+Qde+Xde,"g");function Jde(e){return e.match(Zde)||[]}var eue=Jde,tue=zde,rue=DF,nue=eue;function sue(e){return rue(e)?nue(e):tue(e)}var aue=sue,iue=Ade,oue=DF,lue=aue,cue=kF;function due(e){return function(t){t=cue(t);var r=oue(t)?lue(t):void 0,n=r?r[0]:t.charAt(0),a=r?iue(r,1).join(""):t.slice(1);return n[e]()+a}}var uue=due,hue=uue,fue=hue("toUpperCase"),mue=fue;const O0=zt(mue);function Vt(e){return function(){return e}}const BF=Math.cos,iy=Math.sin,ba=Math.sqrt,oy=Math.PI,M0=2*oy,V1=Math.PI,H1=2*V1,Pl=1e-6,pue=H1-Pl;function UF(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function gue(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UF;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class xue{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UF:gue(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=a-r,u=o-t,h=l-r,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Pl)if(!(Math.abs(h*c-d*u)>Pl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,x=a-l,m=c*c+d*d,g=p*p+x*x,y=Math.sqrt(m),j=Math.sqrt(f),w=i*Math.tan((V1-Math.acos((m+f-g)/(2*y*j)))/2),b=w/j,N=w/y;Math.abs(b-1)>Pl&&this._append`L${t+b*u},${r+b*h}`,this._append`A${i},${i},0,0,${+(h*p>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=t+l,u=r+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Pl||Math.abs(this._y1-u)>Pl)&&this._append`L${d},${u}`,n&&(f<0&&(f=f%H1+H1),f>pue?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=u}`:f>Pl&&this._append`A${n},${n},0,${+(f>=V1)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function GC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new xue(t)}function YC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WF(e){this._context=e}WF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function D0(e){return new WF(e)}function VF(e){return e[0]}function HF(e){return e[1]}function qF(e,t){var r=Vt(!0),n=null,a=D0,i=null,o=GC(l);e=typeof e=="function"?e:e===void 0?VF:Vt(e),t=typeof t=="function"?t:t===void 0?HF:Vt(t);function l(c){var d,u=(c=YC(c)).length,h,f=!1,p;for(n==null&&(i=a(p=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,d,c),+t(h,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Vt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Vt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Vt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Ng(e,t,r){var n=null,a=Vt(!0),i=null,o=D0,l=null,c=GC(d);e=typeof e=="function"?e:e===void 0?VF:Vt(+e),t=typeof t=="function"?t:Vt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?HF:Vt(+r);function d(h){var f,p,x,m=(h=YC(h)).length,g,y=!1,j,w=new Array(m),b=new Array(m);for(i==null&&(l=o(j=c())),f=0;f<=m;++f){if(!(f<m&&a(g=h[f],f,h))===y)if(y=!y)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=f-1;x>=p;--x)l.point(w[x],b[x]);l.lineEnd(),l.areaEnd()}y&&(w[f]=+e(g,f,h),b[f]=+t(g,f,h),l.point(n?+n(g,f,h):w[f],r?+r(g,f,h):b[f]))}if(j)return l=null,j+""||null}function u(){return qF().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:Vt(+h),n=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Vt(+h),d):e},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Vt(+h),d):n},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:Vt(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Vt(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Vt(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Vt(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class KF{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function yue(e){return new KF(e,!0)}function vue(e){return new KF(e,!1)}const XC={draw(e,t){const r=ba(t/oy);e.moveTo(r,0),e.arc(0,0,r,0,M0)}},bue={draw(e,t){const r=ba(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},GF=ba(1/3),wue=GF*2,jue={draw(e,t){const r=ba(t/wue),n=r*GF;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Nue={draw(e,t){const r=ba(t),n=-r/2;e.rect(n,n,r,r)}},Sue=.8908130915292852,YF=iy(oy/10)/iy(7*oy/10),Cue=iy(M0/10)*YF,Pue=-BF(M0/10)*YF,kue={draw(e,t){const r=ba(t*Sue),n=Cue*r,a=Pue*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=M0*i/5,l=BF(o),c=iy(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},vw=ba(3),_ue={draw(e,t){const r=-ba(t/(vw*3));e.moveTo(0,r*2),e.lineTo(-vw*r,-r),e.lineTo(vw*r,-r),e.closePath()}},Ss=-.5,Cs=ba(3)/2,q1=1/ba(12),Aue=(q1/2+1)*3,Eue={draw(e,t){const r=ba(t/Aue),n=r/2,a=r*q1,i=n,o=r*q1+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ss*n-Cs*a,Cs*n+Ss*a),e.lineTo(Ss*i-Cs*o,Cs*i+Ss*o),e.lineTo(Ss*l-Cs*c,Cs*l+Ss*c),e.lineTo(Ss*n+Cs*a,Ss*a-Cs*n),e.lineTo(Ss*i+Cs*o,Ss*o-Cs*i),e.lineTo(Ss*l+Cs*c,Ss*c-Cs*l),e.closePath()}};function Tue(e,t){let r=null,n=GC(a);e=typeof e=="function"?e:Vt(e||XC),t=typeof t=="function"?t:Vt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Vt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Vt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function ly(){}function cy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function XF(e){this._context=e}XF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Oue(e){return new XF(e)}function QF(e){this._context=e}QF.prototype={areaStart:ly,areaEnd:ly,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mue(e){return new QF(e)}function ZF(e){this._context=e}ZF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Due(e){return new ZF(e)}function JF(e){this._context=e}JF.prototype={areaStart:ly,areaEnd:ly,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Iue(e){return new JF(e)}function sE(e){return e<0?-1:1}function aE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(sE(i)+sE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function iE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function bw(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function dy(e){this._context=e}dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bw(this,this._t0,iE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bw(this,iE(this,r=aE(this,e,t)),r);break;default:bw(this,this._t0,r=aE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function e9(e){this._context=new t9(e)}(e9.prototype=Object.create(dy.prototype)).point=function(e,t){dy.prototype.point.call(this,t,e)};function t9(e){this._context=e}t9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Rue(e){return new dy(e)}function $ue(e){return new e9(e)}function r9(e){this._context=e}r9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=oE(e),a=oE(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function oE(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Lue(e){return new r9(e)}function I0(e,t){this._context=e,this._t=t}I0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Fue(e){return new I0(e,.5)}function zue(e){return new I0(e,0)}function Bue(e){return new I0(e,1)}function pu(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function K1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Uue(e,t){return e[t]}function Wue(e){const t=[];return t.key=e,t}function Vue(){var e=Vt([]),t=K1,r=pu,n=Uue;function a(i){var o=Array.from(e.apply(this,arguments),Wue),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,i)]).data=h;for(l=0,u=YC(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Vt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Vt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?K1:typeof i=="function"?i:Vt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??pu,a):r},a}function Hue(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}pu(e,t)}}function que(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}pu(e,t)}}function Kue(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[n][1]||0,f=u[n-1][1]||0,p=(h-f)/2,x=0;x<l;++x){var m=e[t[x]],g=m[n][1]||0,y=m[n-1][1]||0;p+=g-y}c+=h,d+=p*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,pu(e,t)}}function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}var Gue=["type","size","sizeType"];function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G1.apply(this,arguments)}function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(n){Yue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yue(e,t,r){return t=Xue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xue(e){var t=Que(e,"string");return fm(t)=="symbol"?t:t+""}function Que(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zue(e,t){if(e==null)return{};var r=Jue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var n9={symbolCircle:XC,symbolCross:bue,symbolDiamond:jue,symbolSquare:Nue,symbolStar:kue,symbolTriangle:_ue,symbolWye:Eue},ehe=Math.PI/180,the=function(t){var r="symbol".concat(O0(t));return n9[r]||XC},rhe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*ehe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},nhe=function(t,r){n9["symbol".concat(O0(t))]=r},QC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Zue(t,Gue),d=cE(cE({},c),{},{type:n,size:i,sizeType:l}),u=function(){var g=the(n),y=Tue().type(g).size(rhe(i,l,n));return y()},h=d.className,f=d.cx,p=d.cy,x=lt(d,!0);return f===+f&&p===+p&&i===+i?Z.createElement("path",G1({},x,{className:xt("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};QC.registerSymbol=nhe;function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(this,arguments)}function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function she(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(r),!0).forEach(function(n){mm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ahe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ihe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a9(n.key),n)}}function ohe(e,t,r){return t&&ihe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lhe(e,t,r){return t=uy(t),che(e,s9()?Reflect.construct(t,r||[],uy(e).constructor):t.apply(e,r))}function che(e,t){if(t&&(gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dhe(e)}function dhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s9=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(e)}function uhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X1(e,t)}function X1(e,t){return X1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X1(e,t)}function mm(e,t,r){return t=a9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=hhe(e,"string");return gu(t)=="symbol"?t:t+""}function hhe(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ps=32,ZC=function(e){function t(){return ahe(this,t),lhe(this,t,arguments)}return uhe(t,e),ohe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ps/2,o=Ps/6,l=Ps/3,c=n.inactive?a:n.color;if(n.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ps,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ps,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ps/8,"h").concat(Ps,"v").concat(Ps*3/4,"h").concat(-Ps,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(n.legendIcon)){var d=she({},n);return delete d.legendIcon,Z.cloneElement(n.legendIcon,d)}return Z.createElement(QC,{fill:c,cx:i,cy:i,size:Ps,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Ps,height:Ps},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,x){var m=p.formatter||c,g=xt(mm(mm({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=at(p.value)?null:p.value;Ni(!at(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=p.inactive?d:p.color;return Z.createElement("li",Y1({className:g,style:h,key:"legend-item-".concat(x)},ay(n.props,p,x)),Z.createElement(z1,{width:o,height:o,viewBox:u,style:f},n.renderIcon(p)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},m?m(y,p,x):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);mm(ZC,"displayName","Legend");mm(ZC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fhe=v0;function mhe(){this.__data__=new fhe,this.size=0}var phe=mhe;function ghe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var xhe=ghe;function yhe(e){return this.__data__.get(e)}var vhe=yhe;function bhe(e){return this.__data__.has(e)}var whe=bhe,jhe=v0,Nhe=FC,She=zC,Che=200;function Phe(e,t){var r=this.__data__;if(r instanceof jhe){var n=r.__data__;if(!Nhe||n.length<Che-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new She(n)}return r.set(e,t),this.size=r.size,this}var khe=Phe,_he=v0,Ahe=phe,Ehe=xhe,The=vhe,Ohe=whe,Mhe=khe;function hh(e){var t=this.__data__=new _he(e);this.size=t.size}hh.prototype.clear=Ahe;hh.prototype.delete=Ehe;hh.prototype.get=The;hh.prototype.has=Ohe;hh.prototype.set=Mhe;var i9=hh,Dhe="__lodash_hash_undefined__";function Ihe(e){return this.__data__.set(e,Dhe),this}var Rhe=Ihe;function $he(e){return this.__data__.has(e)}var Lhe=$he,Fhe=zC,zhe=Rhe,Bhe=Lhe;function hy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Fhe;++t<r;)this.add(e[t])}hy.prototype.add=hy.prototype.push=zhe;hy.prototype.has=Bhe;var o9=hy;function Uhe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var l9=Uhe;function Whe(e,t){return e.has(t)}var c9=Whe,Vhe=o9,Hhe=l9,qhe=c9,Khe=1,Ghe=2;function Yhe(e,t,r,n,a,i){var o=r&Khe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var h=-1,f=!0,p=r&Ghe?new Vhe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var x=e[h],m=t[h];if(n)var g=o?n(m,x,h,t,e,i):n(x,m,h,e,t,i);if(g!==void 0){if(g)continue;f=!1;break}if(p){if(!Hhe(t,function(y,j){if(!qhe(p,j)&&(x===y||a(x,y,r,n,i)))return p.push(j)})){f=!1;break}}else if(!(x===m||a(x,m,r,n,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var d9=Yhe,Xhe=Za,Qhe=Xhe.Uint8Array,Zhe=Qhe;function Jhe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var efe=Jhe;function tfe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var JC=tfe,uE=Sp,hE=Zhe,rfe=LC,nfe=d9,sfe=efe,afe=JC,ife=1,ofe=2,lfe="[object Boolean]",cfe="[object Date]",dfe="[object Error]",ufe="[object Map]",hfe="[object Number]",ffe="[object RegExp]",mfe="[object Set]",pfe="[object String]",gfe="[object Symbol]",xfe="[object ArrayBuffer]",yfe="[object DataView]",fE=uE?uE.prototype:void 0,ww=fE?fE.valueOf:void 0;function vfe(e,t,r,n,a,i,o){switch(r){case yfe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xfe:return!(e.byteLength!=t.byteLength||!i(new hE(e),new hE(t)));case lfe:case cfe:case hfe:return rfe(+e,+t);case dfe:return e.name==t.name&&e.message==t.message;case ffe:case pfe:return e==t+"";case ufe:var l=sfe;case mfe:var c=n&ife;if(l||(l=afe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=ofe,o.set(e,t);var u=nfe(l(e),l(t),n,a,i,o);return o.delete(e),u;case gfe:if(ww)return ww.call(e)==ww.call(t)}return!1}var bfe=vfe;function wfe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var u9=wfe,jfe=u9,Nfe=ts;function Sfe(e,t,r){var n=t(e);return Nfe(e)?n:jfe(n,r(e))}var Cfe=Sfe;function Pfe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var kfe=Pfe;function _fe(){return[]}var Afe=_fe,Efe=kfe,Tfe=Afe,Ofe=Object.prototype,Mfe=Ofe.propertyIsEnumerable,mE=Object.getOwnPropertySymbols,Dfe=mE?function(e){return e==null?[]:(e=Object(e),Efe(mE(e),function(t){return Mfe.call(e,t)}))}:Tfe,Ife=Dfe;function Rfe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var $fe=Rfe,Lfe=Hi,Ffe=qi,zfe="[object Arguments]";function Bfe(e){return Ffe(e)&&Lfe(e)==zfe}var Ufe=Bfe,pE=Ufe,Wfe=qi,h9=Object.prototype,Vfe=h9.hasOwnProperty,Hfe=h9.propertyIsEnumerable,qfe=pE(function(){return arguments}())?pE:function(e){return Wfe(e)&&Vfe.call(e,"callee")&&!Hfe.call(e,"callee")},eP=qfe,fy={exports:{}};function Kfe(){return!1}var Gfe=Kfe;fy.exports;(function(e,t){var r=Za,n=Gfe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(fy,fy.exports);var f9=fy.exports,Yfe=9007199254740991,Xfe=/^(?:0|[1-9]\d*)$/;function Qfe(e,t){var r=typeof e;return t=t??Yfe,!!t&&(r=="number"||r!="symbol"&&Xfe.test(e))&&e>-1&&e%1==0&&e<t}var tP=Qfe,Zfe=9007199254740991;function Jfe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Zfe}var rP=Jfe,eme=Hi,tme=rP,rme=qi,nme="[object Arguments]",sme="[object Array]",ame="[object Boolean]",ime="[object Date]",ome="[object Error]",lme="[object Function]",cme="[object Map]",dme="[object Number]",ume="[object Object]",hme="[object RegExp]",fme="[object Set]",mme="[object String]",pme="[object WeakMap]",gme="[object ArrayBuffer]",xme="[object DataView]",yme="[object Float32Array]",vme="[object Float64Array]",bme="[object Int8Array]",wme="[object Int16Array]",jme="[object Int32Array]",Nme="[object Uint8Array]",Sme="[object Uint8ClampedArray]",Cme="[object Uint16Array]",Pme="[object Uint32Array]",tr={};tr[yme]=tr[vme]=tr[bme]=tr[wme]=tr[jme]=tr[Nme]=tr[Sme]=tr[Cme]=tr[Pme]=!0;tr[nme]=tr[sme]=tr[gme]=tr[ame]=tr[xme]=tr[ime]=tr[ome]=tr[lme]=tr[cme]=tr[dme]=tr[ume]=tr[hme]=tr[fme]=tr[mme]=tr[pme]=!1;function kme(e){return rme(e)&&tme(e.length)&&!!tr[eme(e)]}var _me=kme;function Ame(e){return function(t){return e(t)}}var m9=Ame,my={exports:{}};my.exports;(function(e,t){var r=wF,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(my,my.exports);var Eme=my.exports,Tme=_me,Ome=m9,gE=Eme,xE=gE&&gE.isTypedArray,Mme=xE?Ome(xE):Tme,p9=Mme,Dme=$fe,Ime=eP,Rme=ts,$me=f9,Lme=tP,Fme=p9,zme=Object.prototype,Bme=zme.hasOwnProperty;function Ume(e,t){var r=Rme(e),n=!r&&Ime(e),a=!r&&!n&&$me(e),i=!r&&!n&&!a&&Fme(e),o=r||n||a||i,l=o?Dme(e.length,String):[],c=l.length;for(var d in e)(t||Bme.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Lme(d,c)))&&l.push(d);return l}var Wme=Ume,Vme=Object.prototype;function Hme(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Vme;return e===r}var qme=Hme;function Kme(e,t){return function(r){return e(t(r))}}var g9=Kme,Gme=g9,Yme=Gme(Object.keys,Object),Xme=Yme,Qme=qme,Zme=Xme,Jme=Object.prototype,epe=Jme.hasOwnProperty;function tpe(e){if(!Qme(e))return Zme(e);var t=[];for(var r in Object(e))epe.call(e,r)&&r!="constructor"&&t.push(r);return t}var rpe=tpe,npe=$C,spe=rP;function ape(e){return e!=null&&spe(e.length)&&!npe(e)}var Cp=ape,ipe=Wme,ope=rpe,lpe=Cp;function cpe(e){return lpe(e)?ipe(e):ope(e)}var R0=cpe,dpe=Cfe,upe=Ife,hpe=R0;function fpe(e){return dpe(e,hpe,upe)}var mpe=fpe,yE=mpe,ppe=1,gpe=Object.prototype,xpe=gpe.hasOwnProperty;function ype(e,t,r,n,a,i){var o=r&ppe,l=yE(e),c=l.length,d=yE(t),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:xpe.call(t,f)))return!1}var p=i.get(e),x=i.get(t);if(p&&x)return p==t&&x==e;var m=!0;i.set(e,t),i.set(t,e);for(var g=o;++h<c;){f=l[h];var y=e[f],j=t[f];if(n)var w=o?n(j,y,f,t,e,i):n(y,j,f,e,t,i);if(!(w===void 0?y===j||a(y,j,r,n,i):w)){m=!1;break}g||(g=f=="constructor")}if(m&&!g){var b=e.constructor,N=t.constructor;b!=N&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof N=="function"&&N instanceof N)&&(m=!1)}return i.delete(e),i.delete(t),m}var vpe=ype,bpe=Dc,wpe=Za,jpe=bpe(wpe,"DataView"),Npe=jpe,Spe=Dc,Cpe=Za,Ppe=Spe(Cpe,"Promise"),kpe=Ppe,_pe=Dc,Ape=Za,Epe=_pe(Ape,"Set"),x9=Epe,Tpe=Dc,Ope=Za,Mpe=Tpe(Ope,"WeakMap"),Dpe=Mpe,Q1=Npe,Z1=FC,J1=kpe,eN=x9,tN=Dpe,y9=Hi,fh=NF,vE="[object Map]",Ipe="[object Object]",bE="[object Promise]",wE="[object Set]",jE="[object WeakMap]",NE="[object DataView]",Rpe=fh(Q1),$pe=fh(Z1),Lpe=fh(J1),Fpe=fh(eN),zpe=fh(tN),kl=y9;(Q1&&kl(new Q1(new ArrayBuffer(1)))!=NE||Z1&&kl(new Z1)!=vE||J1&&kl(J1.resolve())!=bE||eN&&kl(new eN)!=wE||tN&&kl(new tN)!=jE)&&(kl=function(e){var t=y9(e),r=t==Ipe?e.constructor:void 0,n=r?fh(r):"";if(n)switch(n){case Rpe:return NE;case $pe:return vE;case Lpe:return bE;case Fpe:return wE;case zpe:return jE}return t});var Bpe=kl,jw=i9,Upe=d9,Wpe=bfe,Vpe=vpe,SE=Bpe,CE=ts,PE=f9,Hpe=p9,qpe=1,kE="[object Arguments]",_E="[object Array]",Sg="[object Object]",Kpe=Object.prototype,AE=Kpe.hasOwnProperty;function Gpe(e,t,r,n,a,i){var o=CE(e),l=CE(t),c=o?_E:SE(e),d=l?_E:SE(t);c=c==kE?Sg:c,d=d==kE?Sg:d;var u=c==Sg,h=d==Sg,f=c==d;if(f&&PE(e)){if(!PE(t))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new jw),o||Hpe(e)?Upe(e,t,r,n,a,i):Wpe(e,t,c,r,n,a,i);if(!(r&qpe)){var p=u&&AE.call(e,"__wrapped__"),x=h&&AE.call(t,"__wrapped__");if(p||x){var m=p?e.value():e,g=x?t.value():t;return i||(i=new jw),a(m,g,r,n,i)}}return f?(i||(i=new jw),Vpe(e,t,r,n,a,i)):!1}var Ype=Gpe,Xpe=Ype,EE=qi;function v9(e,t,r,n,a){return e===t?!0:e==null||t==null||!EE(e)&&!EE(t)?e!==e&&t!==t:Xpe(e,t,r,n,v9,a)}var nP=v9,Qpe=i9,Zpe=nP,Jpe=1,ege=2;function tge(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new Qpe;if(n)var f=n(d,u,c,e,t,h);if(!(f===void 0?Zpe(u,d,Jpe|ege,n,h):f))return!1}}return!0}var rge=tge,nge=hl;function sge(e){return e===e&&!nge(e)}var b9=sge,age=b9,ige=R0;function oge(e){for(var t=ige(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,age(a)]}return t}var lge=oge;function cge(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var w9=cge,dge=rge,uge=lge,hge=w9;function fge(e){var t=uge(e);return t.length==1&&t[0][2]?hge(t[0][0],t[0][1]):function(r){return r===e||dge(r,e,t)}}var mge=fge;function pge(e,t){return e!=null&&t in Object(e)}var gge=pge,xge=_F,yge=eP,vge=ts,bge=tP,wge=rP,jge=w0;function Nge(e,t,r){t=xge(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=jge(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&wge(a)&&bge(o,a)&&(vge(e)||yge(e)))}var Sge=Nge,Cge=gge,Pge=Sge;function kge(e,t){return e!=null&&Pge(e,t,Cge)}var _ge=kge,Age=nP,Ege=AF,Tge=_ge,Oge=RC,Mge=b9,Dge=w9,Ige=w0,Rge=1,$ge=2;function Lge(e,t){return Oge(e)&&Mge(t)?Dge(Ige(e),t):function(r){var n=Ege(r,e);return n===void 0&&n===t?Tge(r,e):Age(t,n,Rge|$ge)}}var Fge=Lge;function zge(e){return e}var mh=zge;function Bge(e){return function(t){return t==null?void 0:t[e]}}var Uge=Bge,Wge=WC;function Vge(e){return function(t){return Wge(t,e)}}var Hge=Vge,qge=Uge,Kge=Hge,Gge=RC,Yge=w0;function Xge(e){return Gge(e)?qge(Yge(e)):Kge(e)}var Qge=Xge,Zge=mge,Jge=Fge,exe=mh,txe=ts,rxe=Qge;function nxe(e){return typeof e=="function"?e:e==null?exe:typeof e=="object"?txe(e)?Jge(e[0],e[1]):Zge(e):rxe(e)}var fl=nxe;function sxe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var j9=sxe;function axe(e){return e!==e}var ixe=axe;function oxe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var lxe=oxe,cxe=j9,dxe=ixe,uxe=lxe;function hxe(e,t,r){return t===t?uxe(e,t,r):cxe(e,dxe,r)}var fxe=hxe,mxe=fxe;function pxe(e,t){var r=e==null?0:e.length;return!!r&&mxe(e,t,0)>-1}var gxe=pxe;function xxe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var yxe=xxe;function vxe(){}var bxe=vxe,Nw=x9,wxe=bxe,jxe=JC,Nxe=1/0,Sxe=Nw&&1/jxe(new Nw([,-0]))[1]==Nxe?function(e){return new Nw(e)}:wxe,Cxe=Sxe,Pxe=o9,kxe=gxe,_xe=yxe,Axe=c9,Exe=Cxe,Txe=JC,Oxe=200;function Mxe(e,t,r){var n=-1,a=kxe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=_xe;else if(i>=Oxe){var d=t?null:Exe(e);if(d)return Txe(d);o=!1,a=Axe,c=new Pxe}else c=t?[]:l;e:for(;++n<i;){var u=e[n],h=t?t(u):u;if(u=r||u!==0?u:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(u)}else a(c,h,r)||(c!==l&&c.push(h),l.push(u))}return l}var Dxe=Mxe,Ixe=fl,Rxe=Dxe;function $xe(e,t){return e&&e.length?Rxe(e,Ixe(t)):[]}var Lxe=$xe;const TE=zt(Lxe);function N9(e,t,r){return t===!0?TE(e,r):at(t)?TE(e,t):e}function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}var Fxe=["ref"];function OE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(r),!0).forEach(function(n){$0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ME(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C9(n.key),n)}}function Bxe(e,t,r){return t&&ME(e.prototype,t),r&&ME(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uxe(e,t,r){return t=py(t),Wxe(e,S9()?Reflect.construct(t,r||[],py(e).constructor):t.apply(e,r))}function Wxe(e,t){if(t&&(xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vxe(e)}function Vxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S9=function(){return!!e})()}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},py(e)}function Hxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rN(e,t)}function rN(e,t){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rN(e,t)}function $0(e,t,r){return t=C9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=qxe(e,"string");return xu(t)=="symbol"?t:t+""}function qxe(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Kxe(e,t){if(e==null)return{};var r=Gxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yxe(e){return e.value}function Xxe(e,t){if(Z.isValidElement(e))return Z.cloneElement(e,t);if(typeof e=="function")return Z.createElement(e,t);t.ref;var r=Kxe(t,Fxe);return Z.createElement(ZC,r)}var DE=1,Od=function(e){function t(){var r;zxe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Uxe(this,t,[].concat(a)),$0(r,"lastBoundingBox",{width:-1,height:-1}),r}return Hxe(t,e),Bxe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>DE||Math.abs(a.height-this.lastBoundingBox.height)>DE)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ni({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((d||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();f={top:((u||0)-x.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ni(ni({},h),f)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=ni(ni({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Z.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},Xxe(i,ni(ni({},this.props),{},{payload:N9(u,d,Yxe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ni(ni({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Ee(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);$0(Od,"displayName","Legend");$0(Od,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var IE=Sp,Qxe=eP,Zxe=ts,RE=IE?IE.isConcatSpreadable:void 0;function Jxe(e){return Zxe(e)||Qxe(e)||!!(RE&&e&&e[RE])}var eye=Jxe,tye=u9,rye=eye;function P9(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=rye),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?P9(l,t-1,r,n,a):tye(a,l):n||(a[a.length]=l)}return a}var k9=P9;function nye(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var sye=nye,aye=sye,iye=aye(),oye=iye,lye=oye,cye=R0;function dye(e,t){return e&&lye(e,t,cye)}var _9=dye,uye=Cp;function hye(e,t){return function(r,n){if(r==null)return r;if(!uye(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var fye=hye,mye=_9,pye=fye,gye=pye(mye),sP=gye,xye=sP,yye=Cp;function vye(e,t){var r=-1,n=yye(e)?Array(e.length):[];return xye(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var A9=vye;function bye(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var wye=bye,$E=ah;function jye(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=$E(e),o=t!==void 0,l=t===null,c=t===t,d=$E(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!d&&e<t||d&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Nye=jye,Sye=Nye;function Cye(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Sye(a[n],i[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return e.index-t.index}var Pye=Cye,Sw=UC,kye=WC,_ye=fl,Aye=A9,Eye=wye,Tye=m9,Oye=Pye,Mye=mh,Dye=ts;function Iye(e,t,r){t.length?t=Sw(t,function(i){return Dye(i)?function(o){return kye(o,i.length===1?i[0]:i)}:i}):t=[Mye];var n=-1;t=Sw(t,Tye(_ye));var a=Aye(e,function(i,o,l){var c=Sw(t,function(d){return d(i)});return{criteria:c,index:++n,value:i}});return Eye(a,function(i,o){return Oye(i,o,r)})}var Rye=Iye;function $ye(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Lye=$ye,Fye=Lye,LE=Math.max;function zye(e,t,r){return t=LE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=LE(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Fye(e,this,l)}}var Bye=zye;function Uye(e){return function(){return e}}var Wye=Uye,Vye=Dc,Hye=function(){try{var e=Vye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),E9=Hye,qye=Wye,FE=E9,Kye=mh,Gye=FE?function(e,t){return FE(e,"toString",{configurable:!0,enumerable:!1,value:qye(t),writable:!0})}:Kye,Yye=Gye,Xye=800,Qye=16,Zye=Date.now;function Jye(e){var t=0,r=0;return function(){var n=Zye(),a=Qye-(n-r);if(r=n,a>0){if(++t>=Xye)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var eve=Jye,tve=Yye,rve=eve,nve=rve(tve),sve=nve,ave=mh,ive=Bye,ove=sve;function lve(e,t){return ove(ive(e,t,ave),e+"")}var cve=lve,dve=LC,uve=Cp,hve=tP,fve=hl;function mve(e,t,r){if(!fve(r))return!1;var n=typeof t;return(n=="number"?uve(r)&&hve(t,r.length):n=="string"&&t in r)?dve(r[t],e):!1}var L0=mve,pve=k9,gve=Rye,xve=cve,zE=L0,yve=xve(function(e,t){if(e==null)return[];var r=t.length;return r>1&&zE(e,t[0],t[1])?t=[]:r>2&&zE(t[0],t[1],t[2])&&(t=[t[0]]),gve(e,pve(t,1),[])}),vve=yve;const aP=zt(vve);function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function nN(){return nN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nN.apply(this,arguments)}function bve(e,t){return Sve(e)||Nve(e,t)||jve(e,t)||wve()}function wve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jve(e,t){if(e){if(typeof e=="string")return BE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BE(e,t)}}function BE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Sve(e){if(Array.isArray(e))return e}function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(n){Cve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cve(e,t,r){return t=Pve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pve(e){var t=kve(e,"string");return pm(t)=="symbol"?t:t+""}function kve(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ve(e){return Array.isArray(e)&&Rr(e[0])&&Rr(e[1])?e.join(" ~ "):e}var Ave=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,h=t.formatter,f=t.itemSorter,p=t.wrapperClassName,x=t.labelClassName,m=t.label,g=t.labelFormatter,y=t.accessibilityLayer,j=y===void 0?!1:y,w=function(){if(u&&u.length){var E={padding:0,margin:0},L=(f?aP(u,f):u).map(function(F,U){if(F.type==="none")return null;var W=Cw({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),V=F.formatter||h||_ve,D=F.value,T=F.name,$=D,O=T;if(V&&$!=null&&O!=null){var R=V(D,T,F,U,u);if(Array.isArray(R)){var I=bve(R,2);$=I[0],O=I[1]}else $=R}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:W},Rr(O)?Z.createElement("span",{className:"recharts-tooltip-item-name"},O):null,Rr(O)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},$),Z.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:E},L)}return null},b=Cw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=Cw({margin:0},d),S=!pt(m),C=S?m:"",P=xt("recharts-default-tooltip",p),_=xt("recharts-tooltip-label",x);S&&g&&u!==void 0&&u!==null&&(C=g(m,u));var A=j?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",nN({className:P,style:b},A),Z.createElement("p",{className:_,style:N},Z.isValidElement(C)?C:"".concat(C)),w())};function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function Cg(e,t,r){return t=Eve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eve(e){var t=Tve(e,"string");return gm(t)=="symbol"?t:t+""}function Tve(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uh="recharts-tooltip-wrapper",Ove={visibility:"hidden"};function Mve(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return xt(Uh,Cg(Cg(Cg(Cg({},"".concat(Uh,"-right"),Ee(r)&&t&&Ee(t.x)&&r>=t.x),"".concat(Uh,"-left"),Ee(r)&&t&&Ee(t.x)&&r<t.x),"".concat(Uh,"-bottom"),Ee(n)&&t&&Ee(t.y)&&n>=t.y),"".concat(Uh,"-top"),Ee(n)&&t&&Ee(t.y)&&n<t.y))}function WE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Ee(i[n]))return i[n];var u=r[n]-l-a,h=r[n]+a;if(t[n])return o[n]?u:h;if(o[n]){var f=u,p=c[n];return f<p?Math.max(h,c[n]):Math.max(u,c[n])}var x=h+l,m=c[n]+d;return x>m?Math.max(u,c[n]):Math.max(h,c[n])}function Dve(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ive(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=WE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=WE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Dve({translateX:u,translateY:h,useTranslate3d:l})):d=Ove,{cssProperties:d,cssClasses:Mve({translateX:u,translateY:h,coordinate:r})}}function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){aN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O9(n.key),n)}}function Lve(e,t,r){return t&&$ve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fve(e,t,r){return t=gy(t),zve(e,T9()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function zve(e,t){if(t&&(yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bve(e)}function Bve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T9=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function Uve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sN(e,t)}function sN(e,t){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sN(e,t)}function aN(e,t,r){return t=O9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O9(e){var t=Wve(e,"string");return yu(t)=="symbol"?t:t+""}function Wve(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qE=1,Vve=function(e){function t(){var r;Rve(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Fve(this,t,[].concat(a)),aN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),aN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return Uve(t,e),Lve(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>qE||Math.abs(n.height-this.state.lastBoundingBox.height)>qE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,p=a.offset,x=a.position,m=a.reverseDirection,g=a.useTranslate3d,y=a.viewBox,j=a.wrapperStyle,w=Ive({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:x,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),b=w.cssClasses,N=w.cssProperties,S=HE(HE({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},j);return Z.createElement("div",{tabIndex:-1,className:b,style:S,ref:function(P){n.wrapperNode=P}},d)}}])}(v.PureComponent),Hve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ic={isSsr:Hve()};function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(n){iP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D9(n.key),n)}}function Gve(e,t,r){return t&&Kve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yve(e,t,r){return t=xy(t),Xve(e,M9()?Reflect.construct(t,r||[],xy(e).constructor):t.apply(e,r))}function Xve(e,t){if(t&&(vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qve(e)}function Qve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M9=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(e)}function Zve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iN(e,t)}function iN(e,t){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iN(e,t)}function iP(e,t,r){return t=D9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9(e){var t=Jve(e,"string");return vu(t)=="symbol"?t:t+""}function Jve(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function e0e(e){return e.dataKey}function t0e(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):typeof e=="function"?Z.createElement(e,t):Z.createElement(Ave,t)}var ls=function(e){function t(){return qve(this,t),Yve(this,t,arguments)}return Zve(t,e),Gve(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,f=a.isAnimationActive,p=a.offset,x=a.payload,m=a.payloadUniqBy,g=a.position,y=a.reverseDirection,j=a.useTranslate3d,w=a.viewBox,b=a.wrapperStyle,N=x??[];h&&N.length&&(N=N9(x.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),m,e0e));var S=N.length>0;return Z.createElement(Vve,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:u,hasPayload:S,offset:p,position:g,reverseDirection:y,useTranslate3d:j,viewBox:w,wrapperStyle:b},t0e(d,GE(GE({},this.props),{},{payload:N})))}}])}(v.PureComponent);iP(ls,"displayName","Tooltip");iP(ls,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ic.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var r0e=Za,n0e=function(){return r0e.Date.now()},s0e=n0e,a0e=/\s/;function i0e(e){for(var t=e.length;t--&&a0e.test(e.charAt(t)););return t}var o0e=i0e,l0e=o0e,c0e=/^\s+/;function d0e(e){return e&&e.slice(0,l0e(e)+1).replace(c0e,"")}var u0e=d0e,h0e=u0e,YE=hl,f0e=ah,XE=NaN,m0e=/^[-+]0x[0-9a-f]+$/i,p0e=/^0b[01]+$/i,g0e=/^0o[0-7]+$/i,x0e=parseInt;function y0e(e){if(typeof e=="number")return e;if(f0e(e))return XE;if(YE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=YE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=h0e(e);var r=p0e.test(e);return r||g0e.test(e)?x0e(e.slice(2),r?2:8):m0e.test(e)?XE:+e}var I9=y0e,v0e=hl,Pw=s0e,QE=I9,b0e="Expected a function",w0e=Math.max,j0e=Math.min;function N0e(e,t,r){var n,a,i,o,l,c,d=0,u=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(b0e);t=QE(t)||0,v0e(r)&&(u=!!r.leading,h="maxWait"in r,i=h?w0e(QE(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f);function p(S){var C=n,P=a;return n=a=void 0,d=S,o=e.apply(P,C),o}function x(S){return d=S,l=setTimeout(y,t),u?p(S):o}function m(S){var C=S-c,P=S-d,_=t-C;return h?j0e(_,i-P):_}function g(S){var C=S-c,P=S-d;return c===void 0||C>=t||C<0||h&&P>=i}function y(){var S=Pw();if(g(S))return j(S);l=setTimeout(y,m(S))}function j(S){return l=void 0,f&&n?p(S):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,n=c=a=l=void 0}function b(){return l===void 0?o:j(Pw())}function N(){var S=Pw(),C=g(S);if(n=arguments,a=this,c=S,C){if(l===void 0)return x(c);if(h)return clearTimeout(l),l=setTimeout(y,t),p(c)}return l===void 0&&(l=setTimeout(y,t)),o}return N.cancel=w,N.flush=b,N}var S0e=N0e,C0e=S0e,P0e=hl,k0e="Expected a function";function _0e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(k0e);return P0e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),C0e(e,t,{leading:n,maxWait:t,trailing:a})}var A0e=_0e;const R9=zt(A0e);function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){E0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E0e(e,t,r){return t=T0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T0e(e){var t=O0e(e,"string");return xm(t)=="symbol"?t:t+""}function O0e(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M0e(e,t){return $0e(e)||R0e(e,t)||I0e(e,t)||D0e()}function D0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I0e(e,t){if(e){if(typeof e=="string")return JE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JE(e,t)}}function JE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function $0e(e){if(Array.isArray(e))return e}var ox=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,h=e.minHeight,f=e.maxHeight,p=e.children,x=e.debounce,m=x===void 0?0:x,g=e.id,y=e.className,j=e.onResize,w=e.style,b=w===void 0?{}:w,N=v.useRef(null),S=v.useRef();S.current=j,v.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var C=v.useState({containerWidth:a.width,containerHeight:a.height}),P=M0e(C,2),_=P[0],A=P[1],k=v.useCallback(function(L,F){A(function(U){var W=Math.round(L),V=Math.round(F);return U.containerWidth===W&&U.containerHeight===V?U:{containerWidth:W,containerHeight:V}})},[]);v.useEffect(function(){var L=function(T){var $,O=T[0].contentRect,R=O.width,I=O.height;k(R,I),($=S.current)===null||$===void 0||$.call(S,R,I)};m>0&&(L=R9(L,m,{trailing:!0,leading:!1}));var F=new ResizeObserver(L),U=N.current.getBoundingClientRect(),W=U.width,V=U.height;return k(W,V),F.observe(N.current),function(){F.disconnect()}},[k,m]);var E=v.useMemo(function(){var L=_.containerWidth,F=_.containerHeight;if(L<0||F<0)return null;Ni($l(o)||$l(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ni(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=$l(o)?L:o,W=$l(c)?F:c;r&&r>0&&(U?W=U/r:W&&(U=W*r),f&&W>f&&(W=f)),Ni(U>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,W,o,c,u,h,r);var V=!Array.isArray(p)&&ji(p.type).endsWith("Chart");return Z.Children.map(p,function(D){return Z.isValidElement(D)?v.cloneElement(D,Pg({width:U,height:W},V?{style:Pg({height:"100%",width:"100%",maxHeight:W,maxWidth:U},D.props.style)}:{})):D})},[r,p,c,f,h,u,_,o]);return Z.createElement("div",{id:g?"".concat(g):void 0,className:xt("recharts-responsive-container",y),style:Pg(Pg({},b),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:f}),ref:N},E)}),$9=function(t){return null};$9.displayName="Cell";function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){L0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L0e(e,t,r){return t=F0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F0e(e){var t=z0e(e,"string");return ym(t)=="symbol"?t:t+""}function z0e(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qc={widthCache:{},cacheCount:0},B0e=2e3,U0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tT="recharts_measurement_span";function W0e(e){var t=oN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Af=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ic.isSsr)return{width:0,height:0};var n=W0e(r),a=JSON.stringify({text:t,copyStyle:n});if(qc.widthCache[a])return qc.widthCache[a];try{var i=document.getElementById(tT);i||(i=document.createElement("span"),i.setAttribute("id",tT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=oN(oN({},U0e),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return qc.widthCache[a]=c,++qc.cacheCount>B0e&&(qc.cacheCount=0,qc.widthCache={}),c}catch{return{width:0,height:0}}},V0e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function yy(e,t){return G0e(e)||K0e(e,t)||q0e(e,t)||H0e()}function H0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q0e(e,t){if(e){if(typeof e=="string")return rT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rT(e,t)}}function rT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function G0e(e){if(Array.isArray(e))return e}function Y0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q0e(n.key),n)}}function X0e(e,t,r){return t&&nT(e.prototype,t),r&&nT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q0e(e){var t=Z0e(e,"string");return vm(t)=="symbol"?t:t+""}function Z0e(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ebe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,L9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tbe=Object.keys(L9),md="NaN";function rbe(e,t){return e*L9[t]}var kg=function(){function e(t,r){Y0e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!J0e.test(r)&&(this.num=NaN,this.unit=""),tbe.includes(r)&&(this.num=rbe(t,r),this.unit="px")}return X0e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=ebe.exec(r))!==null&&n!==void 0?n:[],i=yy(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function F9(e){if(e.includes(md))return md;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=sT.exec(t))!==null&&r!==void 0?r:[],a=yy(n,4),i=a[1],o=a[2],l=a[3],c=kg.parse(i??""),d=kg.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return md;t=t.replace(sT,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=aT.exec(t))!==null&&h!==void 0?h:[],p=yy(f,4),x=p[1],m=p[2],g=p[3],y=kg.parse(x??""),j=kg.parse(g??""),w=m==="+"?y.add(j):y.subtract(j);if(w.isNaN())return md;t=t.replace(aT,w.toString())}return t}var iT=/\(([^()]*)\)/;function nbe(e){for(var t=e;t.includes("(");){var r=iT.exec(t),n=yy(r,2),a=n[1];t=t.replace(iT,F9(a))}return t}function sbe(e){var t=e.replace(/\s+/g,"");return t=nbe(t),t=F9(t),t}function abe(e){try{return sbe(e)}catch{return md}}function kw(e){var t=abe(e.slice(5,-1));return t===md?"":t}var ibe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],obe=["dx","dy","angle","className","breakAll"];function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lN.apply(this,arguments)}function oT(e,t){if(e==null)return{};var r=lbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lT(e,t){return hbe(e)||ube(e,t)||dbe(e,t)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dbe(e,t){if(e){if(typeof e=="string")return cT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cT(e,t)}}function cT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ube(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function hbe(e){if(Array.isArray(e))return e}var z9=/[ \f\n\r\t\v\u2028\u2029]+/,B9=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];pt(r)||(n?i=r.toString().split(""):i=r.toString().split(z9));var o=i.map(function(c){return{word:c,width:Af(c,a).width}}),l=n?0:Af("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},fbe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Ee(o),h=l,f=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(W,V){var D=V.word,T=V.width,$=W[W.length-1];if($&&(a==null||i||$.width+T+n<Number(a)))$.words.push(D),$.width+=T+n;else{var O={words:[D],width:T};W.push(O)}return W},[])},p=f(r),x=function(U){return U.reduce(function(W,V){return W.width>V.width?W:V})};if(!u)return p;for(var m="",g=function(U){var W=h.slice(0,U),V=B9({breakAll:d,style:c,children:W+m}).wordsWithComputedWidth,D=f(V),T=D.length>o||x(D).width>Number(a);return[T,D]},y=0,j=h.length-1,w=0,b;y<=j&&w<=h.length-1;){var N=Math.floor((y+j)/2),S=N-1,C=g(S),P=lT(C,2),_=P[0],A=P[1],k=g(N),E=lT(k,1),L=E[0];if(!_&&!L&&(y=N+1),_&&L&&(j=N-1),!_&&L){b=A;break}w++}return b||p},dT=function(t){var r=pt(t)?[]:t.toString().split(z9);return[{words:r}]},mbe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Ic.isSsr){var c,d,u=B9({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;c=h,d=f}else return dT(a);return fbe({breakAll:o,children:a,maxLines:l,style:i},c,d,r,n)}return dT(a)},uT="#808080",vy=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,h=u===void 0?!1:u,f=t.textAnchor,p=f===void 0?"start":f,x=t.verticalAnchor,m=x===void 0?"end":x,g=t.fill,y=g===void 0?uT:g,j=oT(t,ibe),w=v.useMemo(function(){return mbe({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:h,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,h,j.style,j.width]),b=j.dx,N=j.dy,S=j.angle,C=j.className,P=j.breakAll,_=oT(j,obe);if(!Rr(n)||!Rr(i))return null;var A=n+(Ee(b)?b:0),k=i+(Ee(N)?N:0),E;switch(m){case"start":E=kw("calc(".concat(d,")"));break;case"middle":E=kw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:E=kw("calc(".concat(w.length-1," * -").concat(l,")"));break}var L=[];if(h){var F=w[0].width,U=j.width;L.push("scale(".concat((Ee(U)?U/F:1)/F,")"))}return S&&L.push("rotate(".concat(S,", ").concat(A,", ").concat(k,")")),L.length&&(_.transform=L.join(" ")),Z.createElement("text",lN({},lt(_,!0),{x:A,y:k,className:xt("recharts-text",C),textAnchor:p,fill:y.includes("url")?uT:y}),w.map(function(W,V){var D=W.words.join(P?"":" ");return Z.createElement("tspan",{x:A,dy:V===0?E:l,key:"".concat(D,"-").concat(V)},D)}))};function Wo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pbe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oP(e){let t,r,n;e.length!==2?(t=Wo,r=(l,c)=>Wo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Wo||e===pbe?e:gbe,r=e,n=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function gbe(){return 0}function U9(e){return e===null?NaN:+e}function*xbe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ybe=oP(Wo),Pp=ybe.right;oP(U9).center;class hT extends Map{constructor(t,r=wbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(fT(this,t))}has(t){return super.has(fT(this,t))}set(t,r){return super.set(vbe(this,t),r)}delete(t){return super.delete(bbe(this,t))}}function fT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function vbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function bbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jbe(e=Wo){if(e===Wo)return W9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function W9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Nbe=Math.sqrt(50),Sbe=Math.sqrt(10),Cbe=Math.sqrt(2);function by(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Nbe?10:i>=Sbe?5:i>=Cbe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?by(e,t,r*2):[l,c,d]}function cN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?by(t,e,r):by(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function dN(e,t,r){return t=+t,e=+e,r=+r,by(e,t,r)[2]}function uN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?dN(t,e,r):dN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function mT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function pT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function V9(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?W9:jbe(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*h/c+f)),x=Math.min(n,Math.floor(t+(c-d)*h/c+f));V9(e,t,p,x,a)}const i=e[t];let o=r,l=n;for(Wh(e,r,t),a(e[n],i)>0&&Wh(e,r,n);o<l;){for(Wh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Wh(e,r,l):(++l,Wh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Wh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Pbe(e,t,r){if(e=Float64Array.from(xbe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return pT(e);if(t>=1)return mT(e);var n,a=(n-1)*t,i=Math.floor(a),o=mT(V9(e,i).subarray(0,i+1)),l=pT(e.subarray(i+1));return o+(l-o)*(a-i)}}function kbe(e,t,r=U9){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function _be(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function qs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ki(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hN=Symbol("implicit");function lP(){var e=new hT,t=[],r=[],n=hN;function a(i){let o=e.get(i);if(o===void 0){if(n!==hN)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new hT;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return lP(t,r).unknown(n)},qs.apply(a,arguments),a}function bm(){var e=lP().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var f=t().length,p=a<n,x=p?a:n,m=p?n:a;i=(m-x)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),x+=(m-x-i*(f-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=_be(f).map(function(y){return x+i*y});return r(p?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([n,a]=f,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(f){return[n,a]=f,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,h()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},e.copy=function(){return bm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},qs.apply(h(),arguments)}function H9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return H9(t())},e}function Ef(){return H9(bm.apply(null,arguments).paddingInner(1))}function cP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function q9(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function kp(){}var wm=.7,wy=1/wm,Md="\\s*([+-]?\\d+)\\s*",jm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Abe=/^#([0-9a-f]{3,8})$/,Ebe=new RegExp(`^rgb\\(${Md},${Md},${Md}\\)$`),Tbe=new RegExp(`^rgb\\(${Wa},${Wa},${Wa}\\)$`),Obe=new RegExp(`^rgba\\(${Md},${Md},${Md},${jm}\\)$`),Mbe=new RegExp(`^rgba\\(${Wa},${Wa},${Wa},${jm}\\)$`),Dbe=new RegExp(`^hsl\\(${jm},${Wa},${Wa}\\)$`),Ibe=new RegExp(`^hsla\\(${jm},${Wa},${Wa},${jm}\\)$`),gT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cP(kp,Nm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xT,formatHex:xT,formatHex8:Rbe,formatHsl:$be,formatRgb:yT,toString:yT});function xT(){return this.rgb().formatHex()}function Rbe(){return this.rgb().formatHex8()}function $be(){return K9(this).formatHsl()}function yT(){return this.rgb().formatRgb()}function Nm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Abe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?vT(t):r===3?new Kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_g(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_g(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ebe.exec(e))?new Kn(t[1],t[2],t[3],1):(t=Tbe.exec(e))?new Kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Obe.exec(e))?_g(t[1],t[2],t[3],t[4]):(t=Mbe.exec(e))?_g(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dbe.exec(e))?jT(t[1],t[2]/100,t[3]/100,1):(t=Ibe.exec(e))?jT(t[1],t[2]/100,t[3]/100,t[4]):gT.hasOwnProperty(e)?vT(gT[e]):e==="transparent"?new Kn(NaN,NaN,NaN,0):null}function vT(e){return new Kn(e>>16&255,e>>8&255,e&255,1)}function _g(e,t,r,n){return n<=0&&(e=t=r=NaN),new Kn(e,t,r,n)}function Lbe(e){return e instanceof kp||(e=Nm(e)),e?(e=e.rgb(),new Kn(e.r,e.g,e.b,e.opacity)):new Kn}function fN(e,t,r,n){return arguments.length===1?Lbe(e):new Kn(e,t,r,n??1)}function Kn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}cP(Kn,fN,q9(kp,{brighter(e){return e=e==null?wy:Math.pow(wy,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wm:Math.pow(wm,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kn(rc(this.r),rc(this.g),rc(this.b),jy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bT,formatHex:bT,formatHex8:Fbe,formatRgb:wT,toString:wT}));function bT(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}`}function Fbe(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}${Ll((isNaN(this.opacity)?1:this.opacity)*255)}`}function wT(){const e=jy(this.opacity);return`${e===1?"rgb(":"rgba("}${rc(this.r)}, ${rc(this.g)}, ${rc(this.b)}${e===1?")":`, ${e})`}`}function jy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ll(e){return e=rc(e),(e<16?"0":"")+e.toString(16)}function jT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ia(e,t,r,n)}function K9(e){if(e instanceof ia)return new ia(e.h,e.s,e.l,e.opacity);if(e instanceof kp||(e=Nm(e)),!e)return new ia;if(e instanceof ia)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new ia(o,l,c,e.opacity)}function zbe(e,t,r,n){return arguments.length===1?K9(e):new ia(e,t,r,n??1)}function ia(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}cP(ia,zbe,q9(kp,{brighter(e){return e=e==null?wy:Math.pow(wy,e),new ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wm:Math.pow(wm,e),new ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Kn(_w(e>=240?e-240:e+120,a,n),_w(e,a,n),_w(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ia(NT(this.h),Ag(this.s),Ag(this.l),jy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jy(this.opacity);return`${e===1?"hsl(":"hsla("}${NT(this.h)}, ${Ag(this.s)*100}%, ${Ag(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NT(e){return e=(e||0)%360,e<0?e+360:e}function Ag(e){return Math.max(0,Math.min(1,e||0))}function _w(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const dP=e=>()=>e;function Bbe(e,t){return function(r){return e+r*t}}function Ube(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Wbe(e){return(e=+e)==1?G9:function(t,r){return r-t?Ube(t,r,e):dP(isNaN(t)?r:t)}}function G9(e,t){var r=t-e;return r?Bbe(e,r):dP(isNaN(e)?t:e)}const ST=function e(t){var r=Wbe(t);function n(a,i){var o=r((a=fN(a)).r,(i=fN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=G9(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function Vbe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Hbe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qbe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=ph(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Kbe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ny(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Gbe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ph(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var mN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Aw=new RegExp(mN.source,"g");function Ybe(e){return function(){return e}}function Xbe(e){return function(t){return e(t)+""}}function Qbe(e,t){var r=mN.lastIndex=Aw.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=mN.exec(e))&&(a=Aw.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Ny(n,a)})),r=Aw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Xbe(c[0].x):Ybe(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function ph(e,t){var r=typeof t,n;return t==null||r==="boolean"?dP(t):(r==="number"?Ny:r==="string"?(n=Nm(t))?(t=n,ST):Qbe:t instanceof Nm?ST:t instanceof Date?Kbe:Hbe(t)?Vbe:Array.isArray(t)?qbe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Gbe:Ny)(e,t)}function uP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Zbe(e,t){t===void 0&&(t=e,e=ph);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Jbe(e){return function(){return e}}function Sy(e){return+e}var CT=[0,1];function Tn(e){return e}function pN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Jbe(isNaN(t)?NaN:.5)}function ewe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function twe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=pN(a,n),i=r(o,i)):(n=pN(n,a),i=r(i,o)),function(l){return i(n(l))}}function rwe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=pN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Pp(e,l,1,n)-1;return i[c](a[c](l))}}function _p(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function F0(){var e=CT,t=CT,r=ph,n,a,i,o=Tn,l,c,d;function u(){var f=Math.min(e.length,t.length);return o!==Tn&&(o=ewe(e[0],e[f-1])),l=f>2?rwe:twe,c=d=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return h.invert=function(f){return o(a((d||(d=l(t,e.map(n),Ny)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,Sy),u()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),r=uP,u()},h.clamp=function(f){return arguments.length?(o=f?!0:Tn,u()):o!==Tn},h.interpolate=function(f){return arguments.length?(r=f,u()):r},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,p){return n=f,a=p,u()}}function hP(){return F0()(Tn,Tn)}function nwe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bu(e){return e=Cy(Math.abs(e)),e?e[1]:NaN}function swe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function awe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var iwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sm(e){if(!(t=iwe.exec(e)))throw new Error("invalid format: "+e);var t;return new fP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sm.prototype=fP.prototype;function fP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function owe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Y9;function lwe(e,t){var r=Cy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Y9=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Cy(e,Math.max(0,t+i-1))[0]}function PT(e,t){var r=Cy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const kT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nwe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PT(e*100,t),r:PT,s:lwe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _T(e){return e}var AT=Array.prototype.map,ET=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cwe(e){var t=e.grouping===void 0||e.thousands===void 0?_T:swe(AT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?_T:awe(AT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=Sm(h);var f=h.fill,p=h.align,x=h.sign,m=h.symbol,g=h.zero,y=h.width,j=h.comma,w=h.precision,b=h.trim,N=h.type;N==="n"?(j=!0,N="g"):kT[N]||(w===void 0&&(w=12),b=!0,N="g"),(g||f==="0"&&p==="=")&&(g=!0,f="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=m==="$"?n:/[%p]/.test(N)?o:"",P=kT[N],_=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(k){var E=S,L=C,F,U,W;if(N==="c")L=P(k)+L,k="";else{k=+k;var V=k<0||1/k<0;if(k=isNaN(k)?c:P(Math.abs(k),w),b&&(k=owe(k)),V&&+k==0&&x!=="+"&&(V=!1),E=(V?x==="("?x:l:x==="-"||x==="("?"":x)+E,L=(N==="s"?ET[8+Y9/3]:"")+L+(V&&x==="("?")":""),_){for(F=-1,U=k.length;++F<U;)if(W=k.charCodeAt(F),48>W||W>57){L=(W===46?a+k.slice(F+1):k.slice(F))+L,k=k.slice(0,F);break}}}j&&!g&&(k=t(k,1/0));var D=E.length+k.length+L.length,T=D<y?new Array(y-D+1).join(f):"";switch(j&&g&&(k=t(T+k,T.length?y-L.length:1/0),T=""),p){case"<":k=E+k+L+T;break;case"=":k=E+T+k+L;break;case"^":k=T.slice(0,D=T.length>>1)+E+k+L+T.slice(D);break;default:k=T+E+k+L;break}return i(k)}return A.toString=function(){return h+""},A}function u(h,f){var p=d((h=Sm(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(bu(f)/3)))*3,m=Math.pow(10,-x),g=ET[8+x/3];return function(y){return p(m*y)+g}}return{format:d,formatPrefix:u}}var Eg,mP,X9;dwe({thousands:",",grouping:[3],currency:["$",""]});function dwe(e){return Eg=cwe(e),mP=Eg.format,X9=Eg.formatPrefix,Eg}function uwe(e){return Math.max(0,-bu(Math.abs(e)))}function hwe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bu(t)/3)))*3-bu(Math.abs(e)))}function fwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bu(t)-bu(e))+1}function Q9(e,t,r,n){var a=uN(e,t,r),i;switch(n=Sm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=hwe(a,o))&&(n.precision=i),X9(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=fwe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=uwe(a))&&(n.precision=i-(n.type==="%")*2);break}}return mP(n)}function ml(e){var t=e.domain;return e.ticks=function(r){var n=t();return cN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Q9(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=dN(o,l,r),d===c)return n[a]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function Py(){var e=hP();return e.copy=function(){return _p(e,Py())},qs.apply(e,arguments),ml(e)}function Z9(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Sy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Z9(e).unknown(t)},e=arguments.length?Array.from(e,Sy):[0,1],ml(r)}function J9(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function TT(e){return Math.log(e)}function OT(e){return Math.exp(e)}function mwe(e){return-Math.log(-e)}function pwe(e){return-Math.exp(-e)}function gwe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xwe(e){return e===10?gwe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ywe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function MT(e){return(t,r)=>-e(-t,r)}function pP(e){const t=e(TT,OT),r=t.domain;let n=10,a,i;function o(){return a=ywe(n),i=xwe(n),r()[0]<0?(a=MT(a),i=MT(i),e(mwe,pwe)):e(TT,OT),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let f=a(d),p=a(u),x,m;const g=l==null?10:+l;let y=[];if(!(n%1)&&p-f<g){if(f=Math.floor(f),p=Math.ceil(p),d>0){for(;f<=p;++f)for(x=1;x<n;++x)if(m=f<0?x/i(-f):x*i(f),!(m<d)){if(m>u)break;y.push(m)}}else for(;f<=p;++f)for(x=n-1;x>=1;--x)if(m=f>0?x/i(-f):x*i(f),!(m<d)){if(m>u)break;y.push(m)}y.length*2<g&&(y=cN(d,u,g))}else y=cN(f,p,Math.min(p-f,g)).map(i);return h?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Sm(c)).precision==null&&(c.trim=!0),c=mP(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*n<n-.5&&(h*=n),h<=d?c(u):""}},t.nice=()=>r(J9(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function e7(){const e=pP(F0()).domain([1,10]);return e.copy=()=>_p(e,e7()).base(e.base()),qs.apply(e,arguments),e}function DT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function IT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gP(e){var t=1,r=e(DT(t),IT(t));return r.constant=function(n){return arguments.length?e(DT(t=+n),IT(t)):t},ml(r)}function t7(){var e=gP(F0());return e.copy=function(){return _p(e,t7()).constant(e.constant())},qs.apply(e,arguments)}function RT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vwe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bwe(e){return e<0?-e*e:e*e}function xP(e){var t=e(Tn,Tn),r=1;function n(){return r===1?e(Tn,Tn):r===.5?e(vwe,bwe):e(RT(r),RT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ml(t)}function yP(){var e=xP(F0());return e.copy=function(){return _p(e,yP()).exponent(e.exponent())},qs.apply(e,arguments),e}function wwe(){return yP.apply(null,arguments).exponent(.5)}function $T(e){return Math.sign(e)*e*e}function jwe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function r7(){var e=hP(),t=[0,1],r=!1,n;function a(i){var o=jwe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert($T(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Sy)).map($T)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return r7(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},qs.apply(a,arguments),ml(a)}function n7(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=kbe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Pp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Wo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return n7().domain(e).range(t).unknown(n)},qs.apply(i,arguments)}function s7(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Pp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return s7().domain([e,t]).range(a).unknown(i)},qs.apply(ml(o),arguments)}function a7(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Pp(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return a7().domain(e).range(t).unknown(r)},qs.apply(a,arguments)}const Ew=new Date,Tw=new Date;function Wr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>Wr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Ew.setTime(+i),Tw.setTime(+o),e(Ew),e(Tw),Math.floor(r(Ew,Tw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const ky=Wr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ky.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ky);ky.range;const yi=1e3,Rs=yi*60,vi=Rs*60,Ii=vi*24,vP=Ii*7,LT=Ii*30,Ow=Ii*365,Fl=Wr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getUTCSeconds());Fl.range;const bP=Wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yi)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getMinutes());bP.range;const wP=Wr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCMinutes());wP.range;const jP=Wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yi-e.getMinutes()*Rs)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getHours());jP.range;const NP=Wr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCHours());NP.range;const Ap=Wr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rs)/Ii,e=>e.getDate()-1);Ap.range;const z0=Wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ii,e=>e.getUTCDate()-1);z0.range;const i7=Wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ii,e=>Math.floor(e/Ii));i7.range;function Rc(e){return Wr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rs)/vP)}const B0=Rc(0),_y=Rc(1),Nwe=Rc(2),Swe=Rc(3),wu=Rc(4),Cwe=Rc(5),Pwe=Rc(6);B0.range;_y.range;Nwe.range;Swe.range;wu.range;Cwe.range;Pwe.range;function $c(e){return Wr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/vP)}const U0=$c(0),Ay=$c(1),kwe=$c(2),_we=$c(3),ju=$c(4),Awe=$c(5),Ewe=$c(6);U0.range;Ay.range;kwe.range;_we.range;ju.range;Awe.range;Ewe.range;const SP=Wr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());SP.range;const CP=Wr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());CP.range;const Ri=Wr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ri.range;const $i=Wr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});$i.range;function o7(e,t,r,n,a,i){const o=[[Fl,1,yi],[Fl,5,5*yi],[Fl,15,15*yi],[Fl,30,30*yi],[i,1,Rs],[i,5,5*Rs],[i,15,15*Rs],[i,30,30*Rs],[a,1,vi],[a,3,3*vi],[a,6,6*vi],[a,12,12*vi],[n,1,Ii],[n,2,2*Ii],[r,1,vP],[t,1,LT],[t,3,3*LT],[e,1,Ow]];function l(d,u,h){const f=u<d;f&&([d,u]=[u,d]);const p=h&&typeof h.range=="function"?h:c(d,u,h),x=p?p.range(d,+u+1):[];return f?x.reverse():x}function c(d,u,h){const f=Math.abs(u-d)/h,p=oP(([,,g])=>g).right(o,f);if(p===o.length)return e.every(uN(d/Ow,u/Ow,h));if(p===0)return ky.every(Math.max(uN(d,u,h),1));const[x,m]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return x.every(m)}return[l,c]}const[Twe,Owe]=o7($i,CP,U0,i7,NP,wP),[Mwe,Dwe]=o7(Ri,SP,B0,Ap,jP,bP);function Mw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Iwe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Hh(a),u=qh(a),h=Hh(i),f=qh(i),p=Hh(o),x=qh(o),m=Hh(l),g=qh(l),y=Hh(c),j=qh(c),w={a:V,A:D,b:T,B:$,c:null,d:VT,e:VT,f:sje,g:mje,G:gje,H:tje,I:rje,j:nje,L:l7,m:aje,M:ije,p:O,q:R,Q:KT,s:GT,S:oje,u:lje,U:cje,V:dje,w:uje,W:hje,x:null,X:null,y:fje,Y:pje,Z:xje,"%":qT},b={a:I,A:H,b:he,B:ie,c:null,d:HT,e:HT,f:wje,g:Tje,G:Mje,H:yje,I:vje,j:bje,L:d7,m:jje,M:Nje,p:je,q:xe,Q:KT,s:GT,S:Sje,u:Cje,U:Pje,V:kje,w:_je,W:Aje,x:null,X:null,y:Eje,Y:Oje,Z:Dje,"%":qT},N={a:A,A:k,b:E,B:L,c:F,d:UT,e:UT,f:Qwe,g:BT,G:zT,H:WT,I:WT,j:Kwe,L:Xwe,m:qwe,M:Gwe,p:_,q:Hwe,Q:Jwe,s:eje,S:Ywe,u:zwe,U:Bwe,V:Uwe,w:Fwe,W:Wwe,x:U,X:W,y:BT,Y:zT,Z:Vwe,"%":Zwe};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),b.x=S(r,b),b.X=S(n,b),b.c=S(t,b);function S(pe,ye){return function(X){var B=[],ce=-1,ve=0,q=pe.length,oe,le,Ne;for(X instanceof Date||(X=new Date(+X));++ce<q;)pe.charCodeAt(ce)===37&&(B.push(pe.slice(ve,ce)),(le=FT[oe=pe.charAt(++ce)])!=null?oe=pe.charAt(++ce):le=oe==="e"?" ":"0",(Ne=ye[oe])&&(oe=Ne(X,le)),B.push(oe),ve=ce+1);return B.push(pe.slice(ve,ce)),B.join("")}}function C(pe,ye){return function(X){var B=Vh(1900,void 0,1),ce=P(B,pe,X+="",0),ve,q;if(ce!=X.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(ye&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(ve=Dw(Vh(B.y,0,1)),q=ve.getUTCDay(),ve=q>4||q===0?Ay.ceil(ve):Ay(ve),ve=z0.offset(ve,(B.V-1)*7),B.y=ve.getUTCFullYear(),B.m=ve.getUTCMonth(),B.d=ve.getUTCDate()+(B.w+6)%7):(ve=Mw(Vh(B.y,0,1)),q=ve.getDay(),ve=q>4||q===0?_y.ceil(ve):_y(ve),ve=Ap.offset(ve,(B.V-1)*7),B.y=ve.getFullYear(),B.m=ve.getMonth(),B.d=ve.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),q="Z"in B?Dw(Vh(B.y,0,1)).getUTCDay():Mw(Vh(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(q+5)%7:B.w+B.U*7-(q+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Dw(B)):Mw(B)}}function P(pe,ye,X,B){for(var ce=0,ve=ye.length,q=X.length,oe,le;ce<ve;){if(B>=q)return-1;if(oe=ye.charCodeAt(ce++),oe===37){if(oe=ye.charAt(ce++),le=N[oe in FT?ye.charAt(ce++):oe],!le||(B=le(pe,X,B))<0)return-1}else if(oe!=X.charCodeAt(B++))return-1}return B}function _(pe,ye,X){var B=d.exec(ye.slice(X));return B?(pe.p=u.get(B[0].toLowerCase()),X+B[0].length):-1}function A(pe,ye,X){var B=p.exec(ye.slice(X));return B?(pe.w=x.get(B[0].toLowerCase()),X+B[0].length):-1}function k(pe,ye,X){var B=h.exec(ye.slice(X));return B?(pe.w=f.get(B[0].toLowerCase()),X+B[0].length):-1}function E(pe,ye,X){var B=y.exec(ye.slice(X));return B?(pe.m=j.get(B[0].toLowerCase()),X+B[0].length):-1}function L(pe,ye,X){var B=m.exec(ye.slice(X));return B?(pe.m=g.get(B[0].toLowerCase()),X+B[0].length):-1}function F(pe,ye,X){return P(pe,t,ye,X)}function U(pe,ye,X){return P(pe,r,ye,X)}function W(pe,ye,X){return P(pe,n,ye,X)}function V(pe){return o[pe.getDay()]}function D(pe){return i[pe.getDay()]}function T(pe){return c[pe.getMonth()]}function $(pe){return l[pe.getMonth()]}function O(pe){return a[+(pe.getHours()>=12)]}function R(pe){return 1+~~(pe.getMonth()/3)}function I(pe){return o[pe.getUTCDay()]}function H(pe){return i[pe.getUTCDay()]}function he(pe){return c[pe.getUTCMonth()]}function ie(pe){return l[pe.getUTCMonth()]}function je(pe){return a[+(pe.getUTCHours()>=12)]}function xe(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var ye=S(pe+="",w);return ye.toString=function(){return pe},ye},parse:function(pe){var ye=C(pe+="",!1);return ye.toString=function(){return pe},ye},utcFormat:function(pe){var ye=S(pe+="",b);return ye.toString=function(){return pe},ye},utcParse:function(pe){var ye=C(pe+="",!0);return ye.toString=function(){return pe},ye}}}var FT={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,Rwe=/^%/,$we=/[\\^$*+?|[\]().{}]/g;function Et(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Lwe(e){return e.replace($we,"\\$&")}function Hh(e){return new RegExp("^(?:"+e.map(Lwe).join("|")+")","i")}function qh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Fwe(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zwe(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Bwe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Uwe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Wwe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function zT(e,t,r){var n=rn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function BT(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Vwe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hwe(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qwe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function UT(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Kwe(e,t,r){var n=rn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function WT(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Gwe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ywe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Xwe(e,t,r){var n=rn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Qwe(e,t,r){var n=rn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Zwe(e,t,r){var n=Rwe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Jwe(e,t,r){var n=rn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function eje(e,t,r){var n=rn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function VT(e,t){return Et(e.getDate(),t,2)}function tje(e,t){return Et(e.getHours(),t,2)}function rje(e,t){return Et(e.getHours()%12||12,t,2)}function nje(e,t){return Et(1+Ap.count(Ri(e),e),t,3)}function l7(e,t){return Et(e.getMilliseconds(),t,3)}function sje(e,t){return l7(e,t)+"000"}function aje(e,t){return Et(e.getMonth()+1,t,2)}function ije(e,t){return Et(e.getMinutes(),t,2)}function oje(e,t){return Et(e.getSeconds(),t,2)}function lje(e){var t=e.getDay();return t===0?7:t}function cje(e,t){return Et(B0.count(Ri(e)-1,e),t,2)}function c7(e){var t=e.getDay();return t>=4||t===0?wu(e):wu.ceil(e)}function dje(e,t){return e=c7(e),Et(wu.count(Ri(e),e)+(Ri(e).getDay()===4),t,2)}function uje(e){return e.getDay()}function hje(e,t){return Et(_y.count(Ri(e)-1,e),t,2)}function fje(e,t){return Et(e.getFullYear()%100,t,2)}function mje(e,t){return e=c7(e),Et(e.getFullYear()%100,t,2)}function pje(e,t){return Et(e.getFullYear()%1e4,t,4)}function gje(e,t){var r=e.getDay();return e=r>=4||r===0?wu(e):wu.ceil(e),Et(e.getFullYear()%1e4,t,4)}function xje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function HT(e,t){return Et(e.getUTCDate(),t,2)}function yje(e,t){return Et(e.getUTCHours(),t,2)}function vje(e,t){return Et(e.getUTCHours()%12||12,t,2)}function bje(e,t){return Et(1+z0.count($i(e),e),t,3)}function d7(e,t){return Et(e.getUTCMilliseconds(),t,3)}function wje(e,t){return d7(e,t)+"000"}function jje(e,t){return Et(e.getUTCMonth()+1,t,2)}function Nje(e,t){return Et(e.getUTCMinutes(),t,2)}function Sje(e,t){return Et(e.getUTCSeconds(),t,2)}function Cje(e){var t=e.getUTCDay();return t===0?7:t}function Pje(e,t){return Et(U0.count($i(e)-1,e),t,2)}function u7(e){var t=e.getUTCDay();return t>=4||t===0?ju(e):ju.ceil(e)}function kje(e,t){return e=u7(e),Et(ju.count($i(e),e)+($i(e).getUTCDay()===4),t,2)}function _je(e){return e.getUTCDay()}function Aje(e,t){return Et(Ay.count($i(e)-1,e),t,2)}function Eje(e,t){return Et(e.getUTCFullYear()%100,t,2)}function Tje(e,t){return e=u7(e),Et(e.getUTCFullYear()%100,t,2)}function Oje(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function Mje(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ju(e):ju.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function Dje(){return"+0000"}function qT(){return"%"}function KT(e){return+e}function GT(e){return Math.floor(+e/1e3)}var Kc,h7,f7;Ije({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ije(e){return Kc=Iwe(e),h7=Kc.format,Kc.parse,f7=Kc.utcFormat,Kc.utcParse,Kc}function Rje(e){return new Date(e)}function $je(e){return e instanceof Date?+e:+new Date(+e)}function PP(e,t,r,n,a,i,o,l,c,d){var u=hP(),h=u.invert,f=u.domain,p=d(".%L"),x=d(":%S"),m=d("%I:%M"),g=d("%I %p"),y=d("%a %d"),j=d("%b %d"),w=d("%B"),b=d("%Y");function N(S){return(c(S)<S?p:l(S)<S?x:o(S)<S?m:i(S)<S?g:n(S)<S?a(S)<S?y:j:r(S)<S?w:b)(S)}return u.invert=function(S){return new Date(h(S))},u.domain=function(S){return arguments.length?f(Array.from(S,$je)):f().map(Rje)},u.ticks=function(S){var C=f();return e(C[0],C[C.length-1],S??10)},u.tickFormat=function(S,C){return C==null?N:d(C)},u.nice=function(S){var C=f();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?f(J9(C,S)):u},u.copy=function(){return _p(u,PP(e,t,r,n,a,i,o,l,c,d))},u}function Lje(){return qs.apply(PP(Mwe,Dwe,Ri,SP,B0,Ap,jP,bP,Fl,h7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fje(){return qs.apply(PP(Twe,Owe,$i,CP,U0,z0,NP,wP,Fl,f7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function W0(){var e=0,t=1,r,n,a,i,o=Tn,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(f){var p,x;return arguments.length?([p,x]=f,o=h(p,x),d):[o(0),o(1)]}}return d.range=u(ph),d.rangeRound=u(uP),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),d}}function pl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function m7(){var e=ml(W0()(Tn));return e.copy=function(){return pl(e,m7())},Ki.apply(e,arguments)}function p7(){var e=pP(W0()).domain([1,10]);return e.copy=function(){return pl(e,p7()).base(e.base())},Ki.apply(e,arguments)}function g7(){var e=gP(W0());return e.copy=function(){return pl(e,g7()).constant(e.constant())},Ki.apply(e,arguments)}function kP(){var e=xP(W0());return e.copy=function(){return pl(e,kP()).exponent(e.exponent())},Ki.apply(e,arguments)}function zje(){return kP.apply(null,arguments).exponent(.5)}function x7(){var e=[],t=Tn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Pp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Wo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Pbe(e,i/n))},r.copy=function(){return x7(t).domain(e)},Ki.apply(r,arguments)}function V0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,d=Tn,u,h=!1,f;function p(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-i)*(n*m<n*i?l:c),d(h?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(h=!!m,p):h},p.interpolator=function(m){return arguments.length?(d=m,p):d};function x(m){return function(g){var y,j,w;return arguments.length?([y,j,w]=g,d=Zbe(m,[y,j,w]),p):[d(0),d(.5),d(1)]}}return p.range=x(ph),p.rangeRound=x(uP),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return u=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function y7(){var e=ml(V0()(Tn));return e.copy=function(){return pl(e,y7())},Ki.apply(e,arguments)}function v7(){var e=pP(V0()).domain([.1,1,10]);return e.copy=function(){return pl(e,v7()).base(e.base())},Ki.apply(e,arguments)}function b7(){var e=gP(V0());return e.copy=function(){return pl(e,b7()).constant(e.constant())},Ki.apply(e,arguments)}function _P(){var e=xP(V0());return e.copy=function(){return pl(e,_P()).exponent(e.exponent())},Ki.apply(e,arguments)}function Bje(){return _P.apply(null,arguments).exponent(.5)}const YT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bm,scaleDiverging:y7,scaleDivergingLog:v7,scaleDivergingPow:_P,scaleDivergingSqrt:Bje,scaleDivergingSymlog:b7,scaleIdentity:Z9,scaleImplicit:hN,scaleLinear:Py,scaleLog:e7,scaleOrdinal:lP,scalePoint:Ef,scalePow:yP,scaleQuantile:n7,scaleQuantize:s7,scaleRadial:r7,scaleSequential:m7,scaleSequentialLog:p7,scaleSequentialPow:kP,scaleSequentialQuantile:x7,scaleSequentialSqrt:zje,scaleSequentialSymlog:g7,scaleSqrt:wwe,scaleSymlog:t7,scaleThreshold:a7,scaleTime:Lje,scaleUtc:Fje,tickFormat:Q9},Symbol.toStringTag,{value:"Module"}));var Uje=ah;function Wje(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Uje(o):r(o,l)))var l=o,c=i}return c}var w7=Wje;function Vje(e,t){return e>t}var Hje=Vje,qje=w7,Kje=Hje,Gje=mh;function Yje(e){return e&&e.length?qje(e,Gje,Kje):void 0}var Xje=Yje;const _o=zt(Xje);function Qje(e,t){return e<t}var Zje=Qje,Jje=w7,e1e=Zje,t1e=mh;function r1e(e){return e&&e.length?Jje(e,t1e,e1e):void 0}var n1e=r1e;const H0=zt(n1e);var s1e=UC,a1e=fl,i1e=A9,o1e=ts;function l1e(e,t){var r=o1e(e)?s1e:i1e;return r(e,a1e(t))}var c1e=l1e,d1e=k9,u1e=c1e;function h1e(e,t){return d1e(u1e(e,t),1)}var f1e=h1e;const m1e=zt(f1e);var p1e=nP;function g1e(e,t){return p1e(e,t)}var x1e=g1e;const Nu=zt(x1e);var gh=1e9,y1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},EP,lr=!0,Vs="[DecimalError] ",nc=Vs+"Invalid argument: ",AP=Vs+"Exponent out of range: ",xh=Math.floor,_l=Math.pow,v1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,us,qr=1e7,nr=7,j7=9007199254740991,Ey=xh(j7/nr),Ue={};Ue.absoluteValue=Ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ue.comparedTo=Ue.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*nr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ue.dividedBy=Ue.div=function(e){return Si(this,new this.constructor(e))};Ue.dividedToIntegerBy=Ue.idiv=function(e){var t=this,r=t.constructor;return Wt(Si(t,new r(e),0,1),r.precision)};Ue.equals=Ue.eq=function(e){return!this.cmp(e)};Ue.exponent=function(){return Pr(this)};Ue.greaterThan=Ue.gt=function(e){return this.cmp(e)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(e){return this.cmp(e)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(e){return this.cmp(e)<0};Ue.lessThanOrEqualTo=Ue.lte=function(e){return this.cmp(e)<1};Ue.logarithm=Ue.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(us))throw Error(Vs+"NaN");if(r.s<1)throw Error(Vs+(r.s?"NaN":"-Infinity"));return r.eq(us)?new n(0):(lr=!1,t=Si(Cm(r,i),Cm(e,i),i),lr=!0,Wt(t,a))};Ue.minus=Ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C7(t,e):N7(t,(e.s=-e.s,e))};Ue.modulo=Ue.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Vs+"NaN");return r.s?(lr=!1,t=Si(r,e,0,1).times(e),lr=!0,r.minus(t)):Wt(new n(r),a)};Ue.naturalExponential=Ue.exp=function(){return S7(this)};Ue.naturalLogarithm=Ue.ln=function(){return Cm(this)};Ue.negated=Ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ue.plus=Ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N7(t,e):C7(t,(e.s=-e.s,e))};Ue.precision=Ue.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(nc+e);if(t=Pr(a)+1,n=a.d.length-1,r=n*nr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ue.squareRoot=Ue.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vs+"NaN")}for(e=Pr(l),lr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ia(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=xh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Si(l,i,o+2)).times(.5),Ia(i.d).slice(0,o)===(t=Ia(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Wt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return lr=!0,Wt(n,r)};Ue.times=Ue.mul=function(e){var t,r,n,a,i,o,l,c,d,u=this,h=u.constructor,f=u.d,p=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,c=f.length,d=p.length,c<d&&(i=f,f=p,p=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*f[a-n-1]+t,i[a--]=l%qr|0,t=l/qr|0;i[a]=(i[a]+t)%qr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,lr?Wt(e,h.precision):e};Ue.toDecimalPlaces=Ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ga(e,0,gh),t===void 0?t=n.rounding:Ga(t,0,8),Wt(r,e+Pr(r)+1,t))};Ue.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=wc(n,!0):(Ga(e,0,gh),t===void 0?t=a.rounding:Ga(t,0,8),n=Wt(new a(n),e+1,t),r=wc(n,!0,e+1)),r};Ue.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?wc(a):(Ga(e,0,gh),t===void 0?t=i.rounding:Ga(t,0,8),n=Wt(new i(a),e+Pr(a)+1,t),r=wc(n.abs(),!1,e+Pr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ue.toInteger=Ue.toint=function(){var e=this,t=e.constructor;return Wt(new t(e),Pr(e)+1,t.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(us);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vs+"Infinity");return l}if(l.eq(us))return l;if(n=c.precision,e.eq(us))return Wt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=j7){for(a=new c(us),t=Math.ceil(n/nr+4),lr=!1;r%2&&(a=a.times(l),QT(a.d,t)),r=xh(r/2),r!==0;)l=l.times(l),QT(l.d,t);return lr=!0,e.s<0?new c(us).div(a):Wt(a,n)}}else if(i<0)throw Error(Vs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,lr=!1,a=e.times(Cm(l,n+d)),lr=!0,a=S7(a),a.s=i,a};Ue.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Pr(a),n=wc(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ga(e,1,gh),t===void 0?t=i.rounding:Ga(t,0,8),a=Wt(new i(a),e,t),r=Pr(a),n=wc(a,e<=r||r<=i.toExpNeg,e)),n};Ue.toSignificantDigits=Ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ga(e,1,gh),t===void 0?t=n.rounding:Ga(t,0,8)),Wt(new n(r),e,t)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pr(e),r=e.constructor;return wc(e,t<=r.toExpNeg||t>=r.toExpPos)};function N7(e,t){var r,n,a,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),lr?Wt(t,h):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(h/nr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/qr|0,c[i]%=qr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,lr?Wt(t,h):t}function Ga(e,t,r){if(e!==~~e||e<t||e>r)throw Error(nc+e)}function Ia(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=nr-n.length,r&&(i+=so(r)),i+=n;o=e[t],n=o+"",r=nr-n.length,r&&(i+=so(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Si=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%qr|0,o=i/qr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*qr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,h,f,p,x,m,g,y,j,w,b,N,S,C,P,_=n.constructor,A=n.s==a.s?1:-1,k=n.d,E=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(Vs+"Division by zero");for(c=n.e-a.e,C=E.length,N=k.length,p=new _(A),x=p.d=[],d=0;E[d]==(k[d]||0);)++d;if(E[d]>(k[d]||0)&&--c,i==null?j=i=_.precision:o?j=i+(Pr(n)-Pr(a))+1:j=i,j<0)return new _(0);if(j=j/nr+2|0,d=0,C==1)for(u=0,E=E[0],j++;(d<N||u)&&j--;d++)w=u*qr+(k[d]||0),x[d]=w/E|0,u=w%E|0;else{for(u=qr/(E[0]+1)|0,u>1&&(E=e(E,u),k=e(k,u),C=E.length,N=k.length),b=C,m=k.slice(0,C),g=m.length;g<C;)m[g++]=0;P=E.slice(),P.unshift(0),S=E[0],E[1]>=qr/2&&++S;do u=0,l=t(E,m,C,g),l<0?(y=m[0],C!=g&&(y=y*qr+(m[1]||0)),u=y/S|0,u>1?(u>=qr&&(u=qr-1),h=e(E,u),f=h.length,g=m.length,l=t(h,m,f,g),l==1&&(u--,r(h,C<f?P:E,f))):(u==0&&(l=u=1),h=E.slice()),f=h.length,f<g&&h.unshift(0),r(m,h,g),l==-1&&(g=m.length,l=t(E,m,C,g),l<1&&(u++,r(m,C<g?P:E,g))),g=m.length):l===0&&(u++,m=[0]),x[d++]=u,l&&m[0]?m[g++]=k[b]||0:(m=[k[b]],g=1);while((b++<N||m[0]!==void 0)&&j--)}return x[0]||x.shift(),p.e=c,Wt(p,o?i+Pr(p)+1:i)}}();function S7(e,t){var r,n,a,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(Pr(e)>16)throw Error(AP+Pr(e));if(!e.s)return new u(us);for(lr=!1,l=h,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(_l(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new u(us),u.precision=l;;){if(a=Wt(a.times(e),l),r=r.times(++c),o=i.plus(Si(a,r,l)),Ia(o.d).slice(0,l)===Ia(i.d).slice(0,l)){for(;d--;)i=Wt(i.times(i),l);return u.precision=h,t==null?(lr=!0,Wt(i,h)):i}i=o}}function Pr(e){for(var t=e.e*nr,r=e.d[0];r>=10;r/=10)t++;return t}function Iw(e,t,r){if(t>e.LN10.sd())throw lr=!0,r&&(e.precision=r),Error(Vs+"LN10 precision limit exceeded");return Wt(new e(e.LN10),t)}function so(e){for(var t="";e--;)t+="0";return t}function Cm(e,t){var r,n,a,i,o,l,c,d,u,h=1,f=10,p=e,x=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(Vs+(p.s?"NaN":"-Infinity"));if(p.eq(us))return new m(0);if(t==null?(lr=!1,d=g):d=t,p.eq(10))return t==null&&(lr=!0),Iw(m,d);if(d+=f,m.precision=d,r=Ia(x),n=r.charAt(0),i=Pr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ia(p.d),n=r.charAt(0),h++;i=Pr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Iw(m,d+2,g).times(i+""),p=Cm(new m(n+"."+r.slice(1)),d-f).plus(c),m.precision=g,t==null?(lr=!0,Wt(p,g)):p;for(l=o=p=Si(p.minus(us),p.plus(us),d),u=Wt(p.times(p),d),a=3;;){if(o=Wt(o.times(u),d),c=l.plus(Si(o,new m(a),d)),Ia(c.d).slice(0,d)===Ia(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(Iw(m,d+2,g).times(i+""))),l=Si(l,new m(h),d),m.precision=g,t==null?(lr=!0,Wt(l,g)):l;l=c,a+=2}}function XT(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=xh(r/nr),e.d=[],n=(r+1)%nr,r<0&&(n+=nr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=nr;n<a;)e.d.push(+t.slice(n,n+=nr));t=t.slice(n),n=nr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),lr&&(e.e>Ey||e.e<-Ey))throw Error(AP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Wt(e,t,r){var n,a,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=nr,a=t,d=h[u=0];else{if(u=Math.ceil((n+1)/nr),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;n%=nr,a=n-nr+o}if(r!==void 0&&(i=_l(10,o-a-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/_l(10,o-a):0:h[u-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=Pr(e),h.length=1,t=t-i-1,h[0]=_l(10,(nr-t%nr)%nr),e.e=xh(-t/nr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=u,i=1,u--):(h.length=u+1,i=_l(10,nr-n),h[u]=a>0?(d/_l(10,o-a)%_l(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==qr&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=qr)break;h[u--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(lr&&(e.e>Ey||e.e<-Ey))throw Error(AP+Pr(e));return e}function C7(e,t){var r,n,a,i,o,l,c,d,u,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),lr?Wt(t,p):t;if(c=e.d,h=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),a=Math.max(Math.ceil(p/nr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=qr-1;--c[i],c[a]+=qr}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,lr?Wt(t,p):t):new f(0)}function wc(e,t,r){var n,a=Pr(e),i=Ia(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+so(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+so(-a-1)+i,r&&(n=r-o)>0&&(i+=so(n))):a>=o?(i+=so(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+so(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=so(n))),e.s<0?"-"+i:i}function QT(e,t){if(e.length>t)return e.length=t,!0}function P7(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(nc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return XT(o,i.toString())}else if(typeof i!="string")throw Error(nc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,v1e.test(i))XT(o,i);else throw Error(nc+i)}if(a.prototype=Ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=P7,a.config=a.set=b1e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function b1e(e){if(!e||typeof e!="object")throw Error(Vs+"Object expected");var t,r,n,a=["precision",1,gh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(xh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(nc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(nc+r+": "+n);return this}var EP=P7(y1e);us=new EP(1);const Ft=EP;function w1e(e){return C1e(e)||S1e(e)||N1e(e)||j1e()}function j1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N1e(e,t){if(e){if(typeof e=="string")return gN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gN(e,t)}}function S1e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function C1e(e){if(Array.isArray(e))return gN(e)}function gN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P1e=function(t){return t},k7={},_7=function(t){return t===k7},ZT=function(t){return function r(){return arguments.length===0||arguments.length===1&&_7(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},k1e=function e(t,r){return t===1?r:ZT(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==k7}).length;return o>=t?r.apply(void 0,a):e(t-o,ZT(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return _7(h)?c.shift():h});return r.apply(void 0,w1e(u).concat(c))}))})},q0=function(t){return k1e(t.length,t)},xN=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},_1e=q0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),A1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return P1e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},yN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},A7=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function E1e(e){var t;return e===0?t=1:t=Math.floor(new Ft(e).abs().log(10).toNumber())+1,t}function T1e(e,t,r){for(var n=new Ft(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var O1e=q0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),M1e=q0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),D1e=q0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const K0={rangeStep:T1e,getDigitCount:E1e,interpolateNumber:O1e,uninterpolateNumber:M1e,uninterpolateTruncation:D1e};function vN(e){return $1e(e)||R1e(e)||E7(e)||I1e()}function I1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R1e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $1e(e){if(Array.isArray(e))return bN(e)}function Pm(e,t){return z1e(e)||F1e(e,t)||E7(e,t)||L1e()}function L1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E7(e,t){if(e){if(typeof e=="string")return bN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bN(e,t)}}function bN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F1e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function z1e(e){if(Array.isArray(e))return e}function T7(e){var t=Pm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function O7(e,t,r){if(e.lte(0))return new Ft(0);var n=K0.getDigitCount(e.toNumber()),a=new Ft(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Ft(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Ft(Math.ceil(c))}function B1e(e,t,r){var n=1,a=new Ft(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ft(10).pow(K0.getDigitCount(e)-1),a=new Ft(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ft(Math.floor(e)))}else e===0?a=new Ft(Math.floor((t-1)/2)):r||(a=new Ft(Math.floor(e)));var o=Math.floor((t-1)/2),l=A1e(_1e(function(c){return a.add(new Ft(c-o).mul(n)).toNumber()}),xN);return l(0,t)}function M7(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var i=O7(new Ft(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Ft(0):(o=new Ft(e).add(t).div(2),o=o.sub(new Ft(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ft(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?M7(e,t,r,n,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Ft(l).mul(i)),tickMax:o.add(new Ft(c).mul(i))})}function U1e(e){var t=Pm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=T7([r,n]),c=Pm(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(vN(xN(0,a-1).map(function(){return 1/0}))):[].concat(vN(xN(0,a-1).map(function(){return-1/0})),[u]);return r>n?yN(h):h}if(d===u)return B1e(d,a,i);var f=M7(d,u,o,i),p=f.step,x=f.tickMin,m=f.tickMax,g=K0.rangeStep(x,m.add(new Ft(.1).mul(p)),p);return r>n?yN(g):g}function W1e(e,t){var r=Pm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=T7([n,a]),l=Pm(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var u=Math.max(t,2),h=O7(new Ft(d).sub(c).div(u-1),i,0),f=[].concat(vN(K0.rangeStep(new Ft(c),new Ft(d).sub(new Ft(.99).mul(h)),h)),[d]);return n>a?yN(f):f}var V1e=A7(U1e),H1e=A7(W1e),q1e="Invariant failed";function jc(e,t){throw new Error(q1e)}var K1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}function G1e(e,t){return Z1e(e)||Q1e(e,t)||X1e(e,t)||Y1e()}function Y1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X1e(e,t){if(e){if(typeof e=="string")return JT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JT(e,t)}}function JT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Z1e(e){if(Array.isArray(e))return e}function J1e(e,t){if(e==null)return{};var r=eNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R7(n.key),n)}}function nNe(e,t,r){return t&&rNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sNe(e,t,r){return t=Oy(t),aNe(e,D7()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function aNe(e,t){if(t&&(Su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iNe(e)}function iNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D7=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function oNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wN(e,t)}function wN(e,t){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wN(e,t)}function I7(e,t,r){return t=R7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R7(e){var t=lNe(e,"string");return Su(t)=="symbol"?t:t+""}function lNe(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ep=function(e){function t(){return tNe(this,t),sNe(this,t,arguments)}return oNe(t,e),nNe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,h=n.yAxis,f=J1e(n,K1e),p=lt(f,!1);this.props.direction==="x"&&u.type!=="number"&&jc();var x=c.map(function(m){var g=d(m,l),y=g.x,j=g.y,w=g.value,b=g.errorVal;if(!b)return null;var N=[],S,C;if(Array.isArray(b)){var P=G1e(b,2);S=P[0],C=P[1]}else S=C=b;if(i==="vertical"){var _=u.scale,A=j+a,k=A+o,E=A-o,L=_(w-S),F=_(w+C);N.push({x1:F,y1:k,x2:F,y2:E}),N.push({x1:L,y1:A,x2:F,y2:A}),N.push({x1:L,y1:k,x2:L,y2:E})}else if(i==="horizontal"){var U=h.scale,W=y+a,V=W-o,D=W+o,T=U(w-S),$=U(w+C);N.push({x1:V,y1:$,x2:D,y2:$}),N.push({x1:W,y1:T,x2:W,y2:$}),N.push({x1:V,y1:T,x2:D,y2:T})}return Z.createElement(Gt,Ty({className:"recharts-errorBar",key:"bar-".concat(N.map(function(O){return"".concat(O.x1,"-").concat(O.x2,"-").concat(O.y1,"-").concat(O.y2)}))},p),N.map(function(O){return Z.createElement("line",Ty({},O,{key:"line-".concat(O.x1,"-").concat(O.x2,"-").concat(O.y1,"-").concat(O.y2)}))}))});return Z.createElement(Gt,{className:"recharts-errorBars"},x)}}])}(Z.Component);I7(Ep,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});I7(Ep,"displayName","ErrorBar");function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){cNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cNe(e,t,r){return t=dNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dNe(e){var t=uNe(e,"string");return km(t)=="symbol"?t:t+""}function uNe(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $7=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=is(r,Od);if(!o)return null;var l=Od.defaultProps,c=l!==void 0?bl(bl({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(u,h){var f=h.item,p=h.props,x=p.sectors||p.data||[];return u.concat(x.map(function(m){return{type:o.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):d=(n||[]).map(function(u){var h=u.item,f=h.type.defaultProps,p=f!==void 0?bl(bl({},f),h.props):{},x=p.dataKey,m=p.name,g=p.legendType,y=p.hide;return{inactive:y,dataKey:x,type:c.iconType||g||"square",color:TP(h),value:m||x,payload:p}}),bl(bl(bl({},c),Od.getWithHeight(o,a)),{},{payload:d,item:o})};function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function tO(e){return pNe(e)||mNe(e)||fNe(e)||hNe()}function hNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fNe(e,t){if(e){if(typeof e=="string")return jN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(e,t)}}function mNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pNe(e){if(Array.isArray(e))return jN(e)}function jN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){Dd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dd(e,t,r){return t=gNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gNe(e){var t=xNe(e,"string");return _m(t)=="symbol"?t:t+""}function xNe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dn(e,t,r){return pt(e)||pt(t)?r:Rr(t)?Fs(e,t,r):at(t)?t(e):r}function Tf(e,t,r,n){var a=m1e(e,function(l){return Dn(l,t)});if(r==="number"){var i=a.filter(function(l){return Ee(l)||parseFloat(l)});return i.length?[H0(i),_o(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!pt(l)}):a;return o.map(function(l){return Rr(l)||l instanceof Date?l:""})}var yNe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,f=d>=l-1?a[0].coordinate:a[d+1].coordinate,p=void 0;if(la(h-u)!==la(f-h)){var x=[];if(la(f-h)===la(c[1]-c[0])){p=f;var m=h+c[1]-c[0];x[0]=Math.min(m,(m+u)/2),x[1]=Math.max(m,(m+u)/2)}else{p=u;var g=f+c[1]-c[0];x[0]=Math.min(h,(g+h)/2),x[1]=Math.max(h,(g+h)/2)}var y=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(t>y[0]&&t<=y[1]||t>=x[0]&&t<=x[1]){o=a[d].index;break}}else{var j=Math.min(u,f),w=Math.max(u,f);if(t>(j+h)/2&&t<=(w+h)/2){o=a[d].index;break}}}else for(var b=0;b<l;b++)if(b===0&&t<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<l-1&&t>(n[b].coordinate+n[b-1].coordinate)/2&&t<=(n[b].coordinate+n[b+1].coordinate)/2||b===l-1&&t>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o},TP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},vNe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),f=0,p=h.length;f<p;f++){var x=u[h[f]],m=x.items,g=x.cateAxisId,y=m.filter(function(C){return ji(C.type).indexOf("Bar")>=0});if(y&&y.length){var j=y[0].type.defaultProps,w=j!==void 0?mr(mr({},j),y[0].props):y[0].props,b=w.barSize,N=w[g];o[N]||(o[N]=[]);var S=pt(b)?r:b;o[N].push({item:y[0],stackList:y.slice(1),barSize:pt(S)?void 0:bc(S,n,0)})}}return o},bNe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=bc(r,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=a/c,x=o.reduce(function(b,N){return b+N.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&p>0&&(f=!0,p*=.9,x=c*p);var m=(a-x)/2>>0,g={offset:m-d,size:0};u=o.reduce(function(b,N){var S={item:N.item,position:{offset:g.offset+g.size+d,size:f?p:N.barSize}},C=[].concat(tO(b),[S]);return g=C[C.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){C.push({item:P,position:g})}),C},h)}else{var y=bc(n,a,0,!0);a-2*y-(c-1)*d<=0&&(d=0);var j=(a-2*y-(c-1)*d)/c;j>1&&(j>>=0);var w=l===+l?Math.min(j,l):j;u=o.reduce(function(b,N,S){var C=[].concat(tO(b),[{item:N.item,position:{offset:y+(j+d)*S+(j-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},h)}return u},wNe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=$7({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,f=u.height,p=d.align,x=d.verticalAlign,m=d.layout;if((m==="vertical"||m==="horizontal"&&x==="middle")&&p!=="center"&&Ee(t[p]))return mr(mr({},t),{},Dd({},p,t[p]+(h||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&x!=="middle"&&Ee(t[x]))return mr(mr({},t),{},Dd({},x,t[x]+(f||0)))}return t},jNe=function(t,r,n){return pt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},L7=function(t,r,n,a,i){var o=r.props.children,l=zs(o,Ep).filter(function(d){return jNe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var h=Dn(u,n);if(pt(h))return d;var f=Array.isArray(h)?[H0(h),_o(h)]:[h,h],p=c.reduce(function(x,m){var g=Dn(u,m,0),y=f[0]-Math.abs(Array.isArray(g)?g[0]:g),j=f[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,x[0]),Math.max(j,x[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},NNe=function(t,r,n,a,i){var o=r.map(function(l){return L7(t,l,n,i,a)}).filter(function(l){return!pt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},F7=function(t,r,n,a,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&L7(t,c,d,a)||Tf(t,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},z7=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},B7=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},bi=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?la(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+d,value:h,offset:d}});return u.filter(function(h){return!dh(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:a(h)+d,value:h,index:f,offset:d}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,f){return{coordinate:a(h)+d,value:i?i[h]:h,index:f,offset:d}})},Rw=new WeakMap,Tg=function(t,r){if(typeof r!="function")return t;Rw.has(t)||Rw.set(t,new WeakMap);var n=Rw.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},SNe=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:bm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Py(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ef(),realScaleType:"point"}:i==="category"?{scale:bm(),realScaleType:"band"}:{scale:Py(),realScaleType:"linear"};if(vc(a)){var c="scale".concat(O0(a));return{scale:(YT[c]||Ef)(),realScaleType:YT[c]?c:"point"}}return at(a)?{scale:a}:{scale:Ef(),realScaleType:"point"}},nO=1e-4,CNe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-nO,o=Math.max(a[0],a[1])+nO,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},PNe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},kNe=function(t,r){if(!r||r.length!==2||!Ee(r[0])||!Ee(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ee(t[0])||t[0]<n)&&(i[0]=n),(!Ee(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},_Ne=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=dh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},ANe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=dh(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},ENe={sign:_Ne,expand:Hue,none:pu,silhouette:que,wiggle:Kue,positive:ANe},TNe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=ENe[n],o=Vue().keys(a).value(function(l,c){return+Dn(l,c,0)}).order(K1).offset(i);return o(t)},ONe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,f){var p,x=(p=f.type)!==null&&p!==void 0&&p.defaultProps?mr(mr({},f.type.defaultProps),f.props):f.props,m=x.stackId,g=x.hide;if(g)return h;var y=x[n],j=h[y]||{hasStack:!1,stackGroups:{}};if(Rr(m)){var w=j.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(f),j.hasStack=!0,j.stackGroups[m]=w}else j.stackGroups[uh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[f]};return mr(mr({},h),{},Dd({},y,j))},c),u={};return Object.keys(d).reduce(function(h,f){var p=d[f];if(p.hasStack){var x={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var y=p.stackGroups[g];return mr(mr({},m),{},Dd({},g,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:TNe(t,y.items,i)}))},x)}return mr(mr({},h),{},Dd({},f,p))},u)},MNe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=V1e(d,i,l);return t.domain([H0(u),_o(u)]),{niceTicks:u}}if(i&&a==="number"){var h=t.domain(),f=H1e(h,i,l);return{niceTicks:f}}return null};function My(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pt(a[t.dataKey])){var l=ny(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Dn(a,pt(o)?t.dataKey:o);return pt(c)?null:t.scale(c)}var sO=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Dn(o,r.dataKey,r.domain[l]);return pt(c)?null:r.scale(c)-i/2+a},DNe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},INe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Rr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},RNe=function(t){return t.reduce(function(r,n){return[H0(n.concat([r[0]]).filter(Ee)),_o(n.concat([r[1]]).filter(Ee))]},[1/0,-1/0])},U7=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var h=RNe(u.slice(r,n+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},aO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NN=function(t,r,n){if(at(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ee(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(aO.test(t[0])){var i=+aO.exec(t[0])[1];a[0]=r[0]-i}else at(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ee(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(iO.test(t[1])){var o=+iO.exec(t[1])[1];a[1]=r[1]+o}else at(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Dy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=aP(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},oO=function(t,r,n){return!t||!t.length||Nu(t,Fs(n,"type.defaultProps.domain"))?r:t},W7=function(t,r){var n=t.type.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return mr(mr({},lt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:TP(t),value:Dn(r,a),type:c,payload:r,chartType:d,hide:u})};function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){$Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ne(e,t,r){return t=LNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LNe(e){var t=FNe(e,"string");return Am(t)=="symbol"?t:t+""}function FNe(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iy=Math.PI/180,zNe=function(t){return t*180/Math.PI},cn=function(t,r,n,a){return{x:t+Math.cos(-Iy*a)*n,y:r+Math.sin(-Iy*a)*n}},BNe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},UNe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=BNe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:zNe(d),angleInRadian:d}},WNe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},VNe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},dO=function(t,r){var n=t.x,a=t.y,i=UNe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=WNe(r),h=u.startAngle,f=u.endAngle,p=l,x;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;x=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;x=p>=f&&p<=h}return x?cO(cO({},r),{},{radius:o,angle:VNe(p,r)}):null};function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}var HNe=["offset"];function qNe(e){return XNe(e)||YNe(e)||GNe(e)||KNe()}function KNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GNe(e,t){if(e){if(typeof e=="string")return SN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SN(e,t)}}function YNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XNe(e){if(Array.isArray(e))return SN(e)}function SN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QNe(e,t){if(e==null)return{};var r=ZNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){JNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JNe(e,t,r){return t=e2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e2e(e){var t=t2e(e,"string");return Em(t)=="symbol"?t:t+""}function t2e(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tm.apply(this,arguments)}var r2e=function(t){var r=t.value,n=t.formatter,a=pt(t.children)?r:t.children;return at(n)?n(a):a},n2e=function(t,r){var n=la(r-t),a=Math.min(Math.abs(r-t),360);return n*a},s2e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,f=c.outerRadius,p=c.startAngle,x=c.endAngle,m=c.clockWise,g=(h+f)/2,y=n2e(p,x),j=y>=0?1:-1,w,b;a==="insideStart"?(w=p+j*o,b=m):a==="insideEnd"?(w=x-j*o,b=!m):a==="end"&&(w=x+j*o,b=m),b=y<=0?b:!b;var N=cn(d,u,g,w),S=cn(d,u,g,w+(b?1:-1)*359),C="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),P=pt(t.id)?uh("recharts-radial-line-"):t.id;return Z.createElement("text",Tm({},n,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",l)}),Z.createElement("defs",null,Z.createElement("path",{id:P,d:C})),Z.createElement("textPath",{xlinkHref:"#".concat(P)},r))},a2e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,f=(u+h)/2;if(a==="outside"){var p=cn(o,l,d+n,f),x=p.x,m=p.y;return{x,y:m,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,y=cn(o,l,g,f),j=y.x,w=y.y;return{x:j,y:w,textAnchor:"middle",verticalAnchor:"middle"}},i2e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,f=h*a,p=h>0?"end":"start",x=h>0?"start":"end",m=d>=0?1:-1,g=m*a,y=m>0?"end":"start",j=m>0?"start":"end";if(i==="top"){var w={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:p};return Er(Er({},w),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var b={x:l+d/2,y:c+u+f,textAnchor:"middle",verticalAnchor:x};return Er(Er({},b),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(i==="left"){var N={x:l-g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return Er(Er({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(i==="right"){var S={x:l+d+g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return Er(Er({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var C=n?{width:d,height:u}:{};return i==="insideLeft"?Er({x:l+g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},C):i==="insideRight"?Er({x:l+d-g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},C):i==="insideTop"?Er({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:x},C):i==="insideBottom"?Er({x:l+d/2,y:c+u-f,textAnchor:"middle",verticalAnchor:p},C):i==="insideTopLeft"?Er({x:l+g,y:c+f,textAnchor:j,verticalAnchor:x},C):i==="insideTopRight"?Er({x:l+d-g,y:c+f,textAnchor:y,verticalAnchor:x},C):i==="insideBottomLeft"?Er({x:l+g,y:c+u-f,textAnchor:j,verticalAnchor:p},C):i==="insideBottomRight"?Er({x:l+d-g,y:c+u-f,textAnchor:y,verticalAnchor:p},C):ih(i)&&(Ee(i.x)||$l(i.x))&&(Ee(i.y)||$l(i.y))?Er({x:l+bc(i.x,d),y:c+bc(i.y,u),textAnchor:"end",verticalAnchor:"end"},C):Er({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},C)},o2e=function(t){return"cx"in t&&Ee(t.cx)};function xn(e){var t=e.offset,r=t===void 0?5:t,n=QNe(e,HNe),a=Er({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,f=a.textBreakAll;if(!i||pt(l)&&pt(c)&&!v.isValidElement(d)&&!at(d))return null;if(v.isValidElement(d))return v.cloneElement(d,a);var p;if(at(d)){if(p=v.createElement(d,a),v.isValidElement(p))return p}else p=r2e(a);var x=o2e(i),m=lt(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return s2e(a,p,m);var g=x?a2e(a):i2e(a);return Z.createElement(vy,Tm({className:xt("recharts-label",h)},m,g,{breakAll:f}),p)}xn.displayName="Label";var V7=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,h=t.x,f=t.y,p=t.top,x=t.left,m=t.width,g=t.height,y=t.clockWise,j=t.labelViewBox;if(j)return j;if(Ee(m)&&Ee(g)){if(Ee(h)&&Ee(f))return{x:h,y:f,width:m,height:g};if(Ee(p)&&Ee(x))return{x:p,y:x,width:m,height:g}}return Ee(h)&&Ee(f)?{x:h,y:f,width:0,height:0}:Ee(r)&&Ee(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},l2e=function(t,r){return t?t===!0?Z.createElement(xn,{key:"label-implicit",viewBox:r}):Rr(t)?Z.createElement(xn,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===xn?v.cloneElement(t,{key:"label-implicit",viewBox:r}):Z.createElement(xn,{key:"label-implicit",content:t,viewBox:r}):at(t)?Z.createElement(xn,{key:"label-implicit",content:t,viewBox:r}):ih(t)?Z.createElement(xn,Tm({viewBox:r},t,{key:"label-implicit"})):null:null},c2e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=V7(t),o=zs(a,xn).map(function(c,d){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=l2e(t.label,r||i);return[l].concat(qNe(o))};xn.parseViewBox=V7;xn.renderCallByParent=c2e;function d2e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var u2e=d2e;const h2e=zt(u2e);function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}var f2e=["valueAccessor"],m2e=["data","dataKey","clockWise","id","textBreakAll"];function p2e(e){return v2e(e)||y2e(e)||x2e(e)||g2e()}function g2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2e(e,t){if(e){if(typeof e=="string")return CN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CN(e,t)}}function y2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v2e(e){if(Array.isArray(e))return CN(e)}function CN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(this,arguments)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){b2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b2e(e,t,r){return t=w2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w2e(e){var t=j2e(e,"string");return Om(t)=="symbol"?t:t+""}function j2e(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mO(e,t){if(e==null)return{};var r=N2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var S2e=function(t){return Array.isArray(t.value)?h2e(t.value):t.value};function Ci(e){var t=e.valueAccessor,r=t===void 0?S2e:t,n=mO(e,f2e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=mO(n,m2e);return!a||!a.length?null:Z.createElement(Gt,{className:"recharts-label-list"},a.map(function(u,h){var f=pt(i)?r(u,h):Dn(u&&u.payload,i),p=pt(l)?{}:{id:"".concat(l,"-").concat(h)};return Z.createElement(xn,Ry({},lt(u,!0),d,p,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:xn.parseViewBox(pt(o)?u:fO(fO({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ci.displayName="LabelList";function C2e(e,t){return e?e===!0?Z.createElement(Ci,{key:"labelList-implicit",data:t}):Z.isValidElement(e)||at(e)?Z.createElement(Ci,{key:"labelList-implicit",data:t,content:e}):ih(e)?Z.createElement(Ci,Ry({data:t},e,{key:"labelList-implicit"})):null:null}function P2e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=zs(n,Ci).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=C2e(e.label,t);return[i].concat(p2e(a))}Ci.renderCallByParent=P2e;function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PN.apply(this,arguments)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){k2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k2e(e,t,r){return t=_2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _2e(e){var t=A2e(e,"string");return Mm(t)=="symbol"?t:t+""}function A2e(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E2e=function(t,r){var n=la(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Og=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/Iy,f=d?i:i+o*h,p=cn(r,n,u,f),x=cn(r,n,a,f),m=d?i-o*h:i,g=cn(r,n,u*Math.cos(h*Iy),m);return{center:p,circleTangency:x,lineTangency:g,theta:h}},H7=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=E2e(o,l),d=o+c,u=cn(r,n,i,o),h=cn(r,n,i,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var p=cn(r,n,a,o),x=cn(r,n,a,d);f+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},T2e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=la(u-d),f=Og({cx:r,cy:n,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),p=f.circleTangency,x=f.lineTangency,m=f.theta,g=Og({cx:r,cy:n,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),y=g.circleTangency,j=g.lineTangency,w=g.theta,b=c?Math.abs(d-u):Math.abs(d-u)-m-w;if(b<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):H7({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var S=Og({cx:r,cy:n,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=S.circleTangency,P=S.lineTangency,_=S.theta,A=Og({cx:r,cy:n,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=A.circleTangency,E=A.lineTangency,L=A.theta,F=c?Math.abs(d-u):Math.abs(d-u)-_-L;if(F<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},O2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q7=function(t){var r=gO(gO({},O2e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,f=r.className;if(o<i||u===h)return null;var p=xt("recharts-sector",f),x=o-i,m=bc(l,x,0,!0),g;return m>0&&Math.abs(u-h)<360?g=T2e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):g=H7({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),Z.createElement("path",PN({},lt(r,!0),{className:p,d:g,role:"img"}))};function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kN.apply(this,arguments)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){M2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M2e(e,t,r){return t=D2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D2e(e){var t=I2e(e,"string");return Dm(t)=="symbol"?t:t+""}function I2e(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vO={curveBasisClosed:Mue,curveBasisOpen:Due,curveBasis:Oue,curveBumpX:yue,curveBumpY:vue,curveLinearClosed:Iue,curveLinear:D0,curveMonotoneX:Rue,curveMonotoneY:$ue,curveNatural:Lue,curveStep:Fue,curveStepAfter:Bue,curveStepBefore:zue},Mg=function(t){return t.x===+t.x&&t.y===+t.y},Kh=function(t){return t.x},Gh=function(t){return t.y},R2e=function(t,r){if(at(t))return t;var n="curve".concat(O0(t));return(n==="curveMonotone"||n==="curveBump")&&r?vO["".concat(n).concat(r==="vertical"?"Y":"X")]:vO[n]||D0},$2e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=R2e(n,l),h=d?i.filter(function(m){return Mg(m)}):i,f;if(Array.isArray(o)){var p=d?o.filter(function(m){return Mg(m)}):o,x=h.map(function(m,g){return yO(yO({},m),{},{base:p[g]})});return l==="vertical"?f=Ng().y(Gh).x1(Kh).x0(function(m){return m.base.x}):f=Ng().x(Kh).y1(Gh).y0(function(m){return m.base.y}),f.defined(Mg).curve(u),f(x)}return l==="vertical"&&Ee(o)?f=Ng().y(Gh).x1(Kh).x0(o):Ee(o)?f=Ng().x(Kh).y1(Gh).y0(o):f=qF().x(Kh).y(Gh),f.defined(Mg).curve(u),f(h)},Id=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?$2e(t):a;return v.createElement("path",kN({},lt(t,!1),sy(t),{className:xt("recharts-curve",r),d:o,ref:i}))},K7={exports:{}},L2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",F2e=L2e,z2e=F2e;function G7(){}function Y7(){}Y7.resetWarningCache=G7;var B2e=function(){function e(n,a,i,o,l,c){if(c!==z2e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Y7,resetWarningCache:G7};return r.PropTypes=r,r};K7.exports=B2e();var U2e=K7.exports;const Mt=zt(U2e);var W2e=Object.getOwnPropertyNames,V2e=Object.getOwnPropertySymbols,H2e=Object.prototype.hasOwnProperty;function bO(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Dg(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function q2e(e){return e!=null?e[Symbol.toStringTag]:void 0}function wO(e){return W2e(e).concat(V2e(e))}var K2e=Object.hasOwn||function(e,t){return H2e.call(e,t)};function Lc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var G2e="__v",Y2e="__o",X2e="_owner",jO=Object.getOwnPropertyDescriptor,NO=Object.keys;function Q2e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Z2e(e,t){return Lc(e.getTime(),t.getTime())}function J2e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function eSe(e,t){return e===t}function SO(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(a[h]){h++;continue}var f=o.value,p=l.value;if(r.equals(f[0],p[0],c,h,e,t,r)&&r.equals(f[1],p[1],f[0],p[0],e,t,r)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}var tSe=Lc;function rSe(e,t,r){var n=NO(e),a=n.length;if(NO(t).length!==a)return!1;for(;a-- >0;)if(!X7(e,t,r,n[a]))return!1;return!0}function Yh(e,t,r){var n=wO(e),a=n.length;if(wO(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!X7(e,t,r,i)||(o=jO(e,i),l=jO(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function nSe(e,t){return Lc(e.valueOf(),t.valueOf())}function sSe(e,t){return e.source===t.source&&e.flags===t.flags}function CO(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function aSe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function iSe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function X7(e,t,r,n){return(n===X2e||n===Y2e||n===G2e)&&(e.$$typeof||t.$$typeof)?!0:K2e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var oSe="[object Arguments]",lSe="[object Boolean]",cSe="[object Date]",dSe="[object Error]",uSe="[object Map]",hSe="[object Number]",fSe="[object Object]",mSe="[object RegExp]",pSe="[object Set]",gSe="[object String]",xSe="[object URL]",ySe=Array.isArray,PO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kO=Object.assign,vSe=Object.prototype.toString.call.bind(Object.prototype.toString);function bSe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,f=e.areUrlsEqual,p=e.unknownTagComparators;return function(m,g,y){if(m===g)return!0;if(m==null||g==null)return!1;var j=typeof m;if(j!==typeof g)return!1;if(j!=="object")return j==="number"?o(m,g,y):j==="function"?a(m,g,y):!1;var w=m.constructor;if(w!==g.constructor)return!1;if(w===Object)return l(m,g,y);if(ySe(m))return t(m,g,y);if(PO!=null&&PO(m))return h(m,g,y);if(w===Date)return r(m,g,y);if(w===RegExp)return d(m,g,y);if(w===Map)return i(m,g,y);if(w===Set)return u(m,g,y);var b=vSe(m);if(b===cSe)return r(m,g,y);if(b===mSe)return d(m,g,y);if(b===uSe)return i(m,g,y);if(b===pSe)return u(m,g,y);if(b===fSe)return typeof m.then!="function"&&typeof g.then!="function"&&l(m,g,y);if(b===xSe)return f(m,g,y);if(b===dSe)return n(m,g,y);if(b===oSe)return l(m,g,y);if(b===lSe||b===hSe||b===gSe)return c(m,g,y);if(p){var N=p[b];if(!N){var S=q2e(m);S&&(N=p[S])}if(N)return N(m,g,y)}return!1}}function wSe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Yh:Q2e,areDatesEqual:Z2e,areErrorsEqual:J2e,areFunctionsEqual:eSe,areMapsEqual:n?bO(SO,Yh):SO,areNumbersEqual:tSe,areObjectsEqual:n?Yh:rSe,arePrimitiveWrappersEqual:nSe,areRegExpsEqual:sSe,areSetsEqual:n?bO(CO,Yh):CO,areTypedArraysEqual:n?Yh:aSe,areUrlsEqual:iSe,unknownTagComparators:void 0};if(r&&(a=kO({},a,r(a))),t){var i=Dg(a.areArraysEqual),o=Dg(a.areMapsEqual),l=Dg(a.areObjectsEqual),c=Dg(a.areSetsEqual);a=kO({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function jSe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function NSe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,d){var u=n(),h=u.cache,f=h===void 0?t?new WeakMap:void 0:h,p=u.meta;return r(c,d,{cache:f,equals:a,meta:p,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var SSe=gl();gl({strict:!0});gl({circular:!0});gl({circular:!0,strict:!0});gl({createInternalComparator:function(){return Lc}});gl({strict:!0,createInternalComparator:function(){return Lc}});gl({circular:!0,createInternalComparator:function(){return Lc}});gl({circular:!0,createInternalComparator:function(){return Lc},strict:!0});function gl(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=wSe(e),c=bSe(l),d=n?n(c):jSe(c);return NSe({circular:r,comparator:c,createState:a,equals:d,strict:o})}function CSe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function _O(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):CSe(a)};requestAnimationFrame(n)}function _N(e){"@babel/helpers - typeof";return _N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_N(e)}function PSe(e){return ESe(e)||ASe(e)||_Se(e)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Se(e,t){if(e){if(typeof e=="string")return AO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AO(e,t)}}function AO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ASe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ESe(e){if(Array.isArray(e))return e}function TSe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=PSe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){_O(a.bind(null,d),c);return}a(c),_O(a.bind(null,d));return}_N(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){Q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q7(e,t,r){return t=OSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OSe(e){var t=MSe(e,"string");return Im(t)==="symbol"?t:String(t)}function MSe(e,t){if(Im(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DSe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},ISe=function(t){return t},RSe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Of=function(t,r){return Object.keys(r).reduce(function(n,a){return TO(TO({},n),{},Q7({},a,t(a,r[a])))},{})},OO=function(t,r,n){return t.map(function(a){return"".concat(RSe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function $Se(e,t){return zSe(e)||FSe(e,t)||Z7(e,t)||LSe()}function LSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function zSe(e){if(Array.isArray(e))return e}function BSe(e){return VSe(e)||WSe(e)||Z7(e)||USe()}function USe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z7(e,t){if(e){if(typeof e=="string")return AN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AN(e,t)}}function WSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VSe(e){if(Array.isArray(e))return AN(e)}function AN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $y=1e-4,J7=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},ez=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},MO=function(t,r){return function(n){var a=J7(t,r);return ez(a,n)}},HSe=function(t,r){return function(n){var a=J7(t,r),i=[].concat(BSe(a.map(function(o,l){return o*l}).slice(1)),[0]);return ez(i,n)}},DO=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=$Se(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=MO(a,o),f=MO(i,l),p=HSe(a,o),x=function(y){return y>1?1:y<0?0:y},m=function(y){for(var j=y>1?1:y,w=j,b=0;b<8;++b){var N=h(w)-j,S=p(w);if(Math.abs(N-j)<$y||S<$y)return f(w);w=x(w-N/S)}return f(w)};return m.isStepper=!1,m},qSe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,h,f){var p=-(u-h)*n,x=f*i,m=f+(p-x)*l/1e3,g=f*l/1e3+u;return Math.abs(g-h)<$y&&Math.abs(m)<$y?[h,0]:[g,m]};return c.isStepper=!0,c.dt=l,c},KSe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DO(a);case"spring":return qSe();default:if(a.split("(")[0]==="cubic-bezier")return DO(a)}return typeof a=="function"?a:null};function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function IO(e){return XSe(e)||YSe(e)||tz(e)||GSe()}function GSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XSe(e){if(Array.isArray(e))return TN(e)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){EN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EN(e,t,r){return t=QSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QSe(e){var t=ZSe(e,"string");return Rm(t)==="symbol"?t:String(t)}function ZSe(e,t){if(Rm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JSe(e,t){return rCe(e)||tCe(e,t)||tz(e,t)||eCe()}function eCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tz(e,t){if(e){if(typeof e=="string")return TN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TN(e,t)}}function TN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function rCe(e){if(Array.isArray(e))return e}var Ly=function(t,r,n){return t+(r-t)*n},ON=function(t){var r=t.from,n=t.to;return r!==n},nCe=function e(t,r,n){var a=Of(function(i,o){if(ON(o)){var l=t(o.from,o.to,o.velocity),c=JSe(l,2),d=c[0],u=c[1];return nn(nn({},o),{},{from:d,velocity:u})}return o},r);return n<1?Of(function(i,o){return ON(o)?nn(nn({},o),{},{velocity:Ly(o.velocity,a[i].velocity,n),from:Ly(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const sCe=function(e,t,r,n,a){var i=DSe(e,t),o=i.reduce(function(g,y){return nn(nn({},g),{},EN({},y,[e[y],t[y]]))},{}),l=i.reduce(function(g,y){return nn(nn({},g),{},EN({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,d,u,h=function(){return null},f=function(){return Of(function(y,j){return j.from},l)},p=function(){return!Object.values(l).filter(ON).length},x=function(y){d||(d=y);var j=y-d,w=j/r.dt;l=nCe(r,l,w),a(nn(nn(nn({},e),t),f())),d=y,p()||(c=requestAnimationFrame(h))},m=function(y){u||(u=y);var j=(y-u)/n,w=Of(function(N,S){return Ly.apply(void 0,IO(S).concat([r(j)]))},o);if(a(nn(nn(nn({},e),t),w)),j<1)c=requestAnimationFrame(h);else{var b=Of(function(N,S){return Ly.apply(void 0,IO(S).concat([r(1)]))},o);a(nn(nn(nn({},e),t),b))}};return h=r.isStepper?x:m,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}var aCe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iCe(e,t){if(e==null)return{};var r=oCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oCe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function $w(e){return uCe(e)||dCe(e)||cCe(e)||lCe()}function lCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cCe(e,t){if(e){if(typeof e=="string")return MN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MN(e,t)}}function dCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uCe(e){if(Array.isArray(e))return MN(e)}function MN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){df(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function df(e,t,r){return t=rz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rz(n.key),n)}}function mCe(e,t,r){return t&&fCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rz(e){var t=pCe(e,"string");return Cu(t)==="symbol"?t:String(t)}function pCe(e,t){if(Cu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DN(e,t)}function DN(e,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DN(e,t)}function xCe(e){var t=yCe();return function(){var n=Fy(e),a;if(t){var i=Fy(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return IN(this,a)}}function IN(e,t){if(t&&(Cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RN(e)}function RN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fy(e)}var Ya=function(e){gCe(r,e);var t=xCe(r);function r(n,a){var i;hCe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,f=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(RN(i)),i.changeStyle=i.changeStyle.bind(RN(i)),!l||p<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),IN(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof f=="function")return i.state={style:d},IN(i);i.state={style:c?df({},c,d):d}}else i.state={style:{}};return i}return mCe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,f=this.state.style;if(l){if(!o){var p={style:c?df({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(p);return}if(!(SSe(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=x||d?h:a.to;if(this.state&&f){var g={style:c?df({},c,m):m};(c&&f[c]!==m||!c&&f!==m)&&this.setState(g)}this.runAnimation(Xs(Xs({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,p=sCe(o,l,KSe(d),c,this.changeStyle),x=function(){i.stopJSAnimation=p()};this.manager.start([f,u,x,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,f=h===void 0?0:h,p=function(m,g,y){if(y===0)return m;var j=g.duration,w=g.easing,b=w===void 0?"ease":w,N=g.style,S=g.properties,C=g.onAnimationEnd,P=y>0?o[y-1]:g,_=S||Object.keys(N);if(typeof b=="function"||b==="spring")return[].concat($w(m),[i.runJSAnimation.bind(i,{from:P.style,to:N,duration:j,easing:b}),j]);var A=OO(_,j,b),k=Xs(Xs(Xs({},P.style),N),{},{transition:A});return[].concat($w(m),[k,j,C]).filter(ISe)};return this.manager.start([c].concat($w(o.reduce(p,[u,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=TSe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,p=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var m=l?df({},l,c):c,g=OO(Object.keys(m),o,d);x.start([u,i,Xs(Xs({},m),{},{transition:g}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=iCe(a,aCe),d=v.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(p){var x=p.props,m=x.style,g=m===void 0?{}:m,y=x.className,j=v.cloneElement(p,Xs(Xs({},c),{},{style:Xs(Xs({},g),u),className:y}));return j};return d===1?h(v.Children.only(i)):Z.createElement("div",null,v.Children.map(i,function(f){return h(f)}))}}]),r}(v.PureComponent);Ya.displayName="Animate";Ya.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ya.propTypes={from:Mt.oneOfType([Mt.object,Mt.string]),to:Mt.oneOfType([Mt.object,Mt.string]),attributeName:Mt.string,duration:Mt.number,begin:Mt.number,easing:Mt.oneOfType([Mt.string,Mt.func]),steps:Mt.arrayOf(Mt.shape({duration:Mt.number.isRequired,style:Mt.object.isRequired,easing:Mt.oneOfType([Mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Mt.func]),properties:Mt.arrayOf("string"),onAnimationEnd:Mt.func})),children:Mt.oneOfType([Mt.node,Mt.func]),isActive:Mt.bool,canBegin:Mt.bool,onAnimationEnd:Mt.func,shouldReAnimate:Mt.bool,onAnimationStart:Mt.func,onAnimationReStart:Mt.func};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(this,arguments)}function vCe(e,t){return NCe(e)||jCe(e,t)||wCe(e,t)||bCe()}function bCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wCe(e,t){if(e){if(typeof e=="string")return LO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LO(e,t)}}function LO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function NCe(e){if(Array.isArray(e))return e}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){SCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SCe(e,t,r){return t=CCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CCe(e){var t=PCe(e,"string");return $m(t)=="symbol"?t:t+""}function PCe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BO=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=i[f]>o?o:i[f];u="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+c*h[0],",").concat(r)),u+="L ".concat(t+n-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*h[1])),u+="L ".concat(t+n,",").concat(r+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+n-c*h[2],",").concat(r+a)),u+="L ".concat(t+c*h[3],",").concat(r+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*x," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},kCe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return n>=d&&n<=u&&a>=h&&a<=f}return!1},_Ce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OP=function(t){var r=zO(zO({},_Ce),t),n=v.useRef(),a=v.useState(-1),i=vCe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,f=r.radius,p=r.className,x=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var w=xt("recharts-rectangle",p);return j?Z.createElement(Ya,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:m,animationEasing:x,isActive:j},function(b){var N=b.width,S=b.height,C=b.x,P=b.y;return Z.createElement(Ya,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:x},Z.createElement("path",zy({},lt(r,!0),{className:w,d:BO(C,P,N,S,f),ref:n})))}):Z.createElement("path",zy({},lt(r,!0),{className:w,d:BO(c,d,u,h,f)}))};function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$N.apply(this,arguments)}var G0=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=xt("recharts-dot",i);return r===+r&&n===+n&&a===+a?v.createElement("circle",$N({},lt(t,!1),sy(t),{className:o,cx:r,cy:n,r:a})):null};function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}var ACe=["x","y","top","left","width","height","className"];function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LN.apply(this,arguments)}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ECe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){TCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TCe(e,t,r){return t=OCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OCe(e){var t=MCe(e,"string");return Lm(t)=="symbol"?t:t+""}function MCe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DCe(e,t){if(e==null)return{};var r=ICe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ICe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var RCe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},$Ce=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,h=u===void 0?0:u,f=t.height,p=f===void 0?0:f,x=t.className,m=DCe(t,ACe),g=ECe({x:n,y:i,top:l,left:d,width:h,height:p},m);return!Ee(n)||!Ee(i)||!Ee(h)||!Ee(p)||!Ee(l)||!Ee(d)?null:Z.createElement("path",LN({},lt(g,!0),{className:xt("recharts-cross",x),d:RCe(n,i,h,p,l,d)}))},LCe=g9,FCe=LCe(Object.getPrototypeOf,Object),zCe=FCe,BCe=Hi,UCe=zCe,WCe=qi,VCe="[object Object]",HCe=Function.prototype,qCe=Object.prototype,nz=HCe.toString,KCe=qCe.hasOwnProperty,GCe=nz.call(Object);function YCe(e){if(!WCe(e)||BCe(e)!=VCe)return!1;var t=UCe(e);if(t===null)return!0;var r=KCe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&nz.call(r)==GCe}var XCe=YCe;const QCe=zt(XCe);var ZCe=Hi,JCe=qi,ePe="[object Boolean]";function tPe(e){return e===!0||e===!1||JCe(e)&&ZCe(e)==ePe}var rPe=tPe;const nPe=zt(rPe);function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}function sPe(e,t){return lPe(e)||oPe(e,t)||iPe(e,t)||aPe()}function aPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iPe(e,t){if(e){if(typeof e=="string")return WO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WO(e,t)}}function WO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function lPe(e){if(Array.isArray(e))return e}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){cPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cPe(e,t,r){return t=dPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dPe(e){var t=uPe(e,"string");return Fm(t)=="symbol"?t:t+""}function uPe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qO=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},hPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fPe=function(t){var r=HO(HO({},hPe),t),n=v.useRef(),a=v.useState(-1),i=sPe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,f=r.height,p=r.className,x=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var j=xt("recharts-trapezoid",p);return y?Z.createElement(Ya,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:f,x:c,y:d},duration:m,animationEasing:x,isActive:y},function(w){var b=w.upperWidth,N=w.lowerWidth,S=w.height,C=w.x,P=w.y;return Z.createElement(Ya,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:x},Z.createElement("path",By({},lt(r,!0),{className:j,d:qO(C,P,b,N,S),ref:n})))}):Z.createElement("g",null,Z.createElement("path",By({},lt(r,!0),{className:j,d:qO(c,d,u,h,f)})))},mPe=["option","shapeType","propTransformer","activeClassName","isActive"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function pPe(e,t){if(e==null)return{};var r=gPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){xPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xPe(e,t,r){return t=yPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yPe(e){var t=vPe(e,"string");return zm(t)=="symbol"?t:t+""}function vPe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bPe(e,t){return Uy(Uy({},t),e)}function wPe(e,t){return e==="symbols"}function GO(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Z.createElement(OP,r);case"trapezoid":return Z.createElement(fPe,r);case"sector":return Z.createElement(q7,r);case"symbols":if(wPe(t))return Z.createElement(QC,r);break;default:return null}}function jPe(e){return v.isValidElement(e)?e.props:e}function NPe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?bPe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=pPe(e,mPe),d;if(v.isValidElement(t))d=v.cloneElement(t,Uy(Uy({},c),jPe(t)));else if(at(t))d=t(c);else if(QCe(t)&&!nPe(t)){var u=a(t,c);d=Z.createElement(GO,{shapeType:r,elementProps:u})}else{var h=c;d=Z.createElement(GO,{shapeType:r,elementProps:h})}return l?Z.createElement(Gt,{className:o},d):d}function Y0(e,t){return t!=null&&"trapezoids"in e.props}function X0(e,t){return t!=null&&"sectors"in e.props}function Bm(e,t){return t!=null&&"points"in e.props}function SPe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function CPe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function PPe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function kPe(e,t){var r;return Y0(e,t)?r=SPe:X0(e,t)?r=CPe:Bm(e,t)&&(r=PPe),r}function _Pe(e,t){var r;return Y0(e,t)?r="trapezoids":X0(e,t)?r="sectors":Bm(e,t)&&(r="points"),r}function APe(e,t){if(Y0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(X0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Bm(e,t)?t.payload:{}}function EPe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=_Pe(r,t),i=APe(r,t),o=n.filter(function(c,d){var u=Nu(i,c),h=r.props[a].filter(function(x){var m=kPe(r,t);return m(x,t)}),f=r.props[a].indexOf(h[h.length-1]),p=d===f;return u&&p}),l=n.indexOf(o[o.length-1]);return l}var TPe=Math.ceil,OPe=Math.max;function MPe(e,t,r,n){for(var a=-1,i=OPe(TPe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var DPe=MPe,IPe=I9,YO=1/0,RPe=17976931348623157e292;function $Pe(e){if(!e)return e===0?e:0;if(e=IPe(e),e===YO||e===-YO){var t=e<0?-1:1;return t*RPe}return e===e?e:0}var sz=$Pe,LPe=DPe,FPe=L0,Lw=sz;function zPe(e){return function(t,r,n){return n&&typeof n!="number"&&FPe(t,r,n)&&(r=n=void 0),t=Lw(t),r===void 0?(r=t,t=0):r=Lw(r),n=n===void 0?t<r?1:-1:Lw(n),LPe(t,r,n,e)}}var BPe=zPe,UPe=BPe,WPe=UPe(),VPe=WPe;const Wy=zt(VPe);function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){az(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function az(e,t,r){return t=HPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HPe(e){var t=qPe(e,"string");return Um(t)=="symbol"?t:t+""}function qPe(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KPe=["Webkit","Moz","O","ms"],GPe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=KPe.reduce(function(i,o){return QO(QO({},i),{},az({},o+n,r))},{});return a[t]=r,a};function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(this,arguments)}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oz(n.key),n)}}function XPe(e,t,r){return t&&JO(e.prototype,t),r&&JO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QPe(e,t,r){return t=Hy(t),ZPe(e,iz()?Reflect.construct(t,r||[],Hy(e).constructor):t.apply(e,r))}function ZPe(e,t){if(t&&(Pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JPe(e)}function JPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iz=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(e)}function eke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FN(e,t)}function ss(e,t,r){return t=oz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oz(e){var t=tke(e,"string");return Pu(t)=="symbol"?t:t+""}function tke(e,t){if(Pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rke=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Ef().domain(Wy(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:u}},e5=function(t){return t.changedTouches&&!!t.changedTouches.length},ku=function(e){function t(r){var n;return YPe(this,t),n=QPe(this,t,[r]),ss(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ss(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ss(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ss(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ss(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ss(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ss(n,"handleSlideDragStart",function(a){var i=e5(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return eke(t,e),XPe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),f=Math.max(a,i),p=t.getIndexInRange(o,h),x=t.getIndexInRange(o,f);return{startIndex:p-p%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Dn(i[n],l,n);return at(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,f=c.startIndex,p=c.endIndex,x=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,d+u-h-l,d+u-h-o):m<0&&(m=Math.max(m,d-o,d-l));var g=this.getIndex({startX:o+m,endX:l+m});(g.startIndex!==f||g.endIndex!==p)&&x&&x(g),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=e5(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,f=u.width,p=u.travellerWidth,x=u.onChange,m=u.gap,g=u.data,y={startX:this.state.startX,endX:this.state.endX},j=n.pageX-i;j>0?j=Math.min(j,h+f-p-d):j<0&&(j=Math.max(j,h-d)),y[o]=d+j;var w=this.getIndex(y),b=w.startIndex,N=w.endIndex,S=function(){var P=g.length-1;return o==="startX"&&(l>c?b%m===0:N%m===0)||l<c&&N===P||o==="endX"&&(l>c?N%m===0:b%m===0)||l>c&&N===P};this.setState(ss(ss({},o,d+j),"brushMoveStartX",n.pageX),function(){x&&S()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var p=l[f];a==="startX"&&p>=d||a==="endX"&&p<=c||this.setState(ss({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return Z.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,h=v.Children.only(d);return h?Z.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,f=c.traveller,p=c.ariaLabel,x=c.data,m=c.startIndex,g=c.endIndex,y=Math.max(n,this.props.x),j=Fw(Fw({},lt(this.props,!1)),{},{x:y,y:d,width:u,height:h}),w=p||"Min value: ".concat((i=x[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return Z.createElement(Gt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,j))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(n,a)+d,h=Math.max(Math.abs(a-n)-d,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,h=u.startX,f=u.endX,p=5,x={pointerEvents:"none",fill:d};return Z.createElement(Gt,{className:"recharts-brush-texts"},Z.createElement(vy,Vy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:o+l/2},x),this.getTextOfTick(a)),Z.createElement(vy,Vy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+p,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,h=n.alwaysShowText,f=this.state,p=f.startX,x=f.endX,m=f.isTextActive,g=f.isSlideMoving,y=f.isTravellerMoving,j=f.isTravellerFocused;if(!a||!a.length||!Ee(l)||!Ee(c)||!Ee(d)||!Ee(u)||d<=0||u<=0)return null;var w=xt("recharts-brush",i),b=Z.Children.count(o)===1,N=GPe("userSelect","none");return Z.createElement(Gt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(p,x),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(x,"endX"),(m||g||y||j||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Z.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Z.isValidElement(n)?i=Z.cloneElement(n,a):at(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,h=n.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return Fw({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?rke({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(v.PureComponent);ss(ku,"displayName","Brush");ss(ku,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nke=sP;function ske(e,t){var r;return nke(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var ake=ske,ike=l9,oke=fl,lke=ake,cke=ts,dke=L0;function uke(e,t,r){var n=cke(e)?ike:lke;return r&&dke(e,t,r)&&(t=void 0),n(e,oke(t))}var hke=uke;const fke=zt(hke);var Va=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},t5=E9;function mke(e,t,r){t=="__proto__"&&t5?t5(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var pke=mke,gke=pke,xke=_9,yke=fl;function vke(e,t){var r={};return t=yke(t),xke(e,function(n,a,i){gke(r,a,t(n,a,i))}),r}var bke=vke;const wke=zt(bke);function jke(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Nke=jke,Ske=sP;function Cke(e,t){var r=!0;return Ske(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Pke=Cke,kke=Nke,_ke=Pke,Ake=fl,Eke=ts,Tke=L0;function Oke(e,t,r){var n=Eke(e)?kke:_ke;return r&&Tke(e,t,r)&&(t=void 0),n(e,Ake(t))}var Mke=Oke;const lz=zt(Mke);var Dke=["x","y"];function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zN.apply(this,arguments)}function r5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(r),!0).forEach(function(n){Ike(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ike(e,t,r){return t=Rke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rke(e){var t=$ke(e,"string");return Wm(t)=="symbol"?t:t+""}function $ke(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lke(e,t){if(e==null)return{};var r=Fke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zke(e,t){var r=e.x,n=e.y,a=Lke(e,Dke),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),h="".concat(t.width||a.width),f=parseInt(h,10);return Xh(Xh(Xh(Xh(Xh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function n5(e){return Z.createElement(NPe,zN({shapeType:"rectangle",propTransformer:zke,activeClassName:"recharts-active-bar"},e))}var Bke=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Ee(n)||sde(n);return i?t(n,a):(i||jc(),r)}},Uke=["value","background"],cz;function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function Wke(e,t){if(e==null)return{};var r=Vke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(this,arguments)}function s5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(r),!0).forEach(function(n){Ao(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uz(n.key),n)}}function qke(e,t,r){return t&&a5(e.prototype,t),r&&a5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kke(e,t,r){return t=Ky(t),Gke(e,dz()?Reflect.construct(t,r||[],Ky(e).constructor):t.apply(e,r))}function Gke(e,t){if(t&&(_u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yke(e)}function Yke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dz=function(){return!!e})()}function Ky(e){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ky(e)}function Xke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BN(e,t)}function BN(e,t){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BN(e,t)}function Ao(e,t,r){return t=uz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uz(e){var t=Qke(e,"string");return _u(t)=="symbol"?t:t+""}function Qke(e,t){if(_u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fc=function(e){function t(){var r;Hke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Kke(this,t,[].concat(a)),Ao(r,"state",{isAnimationFinished:!1}),Ao(r,"id",uh("recharts-bar-")),Ao(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ao(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Xke(t,e),qke(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=lt(this.props,!1);return n&&n.map(function(h,f){var p=f===c,x=p?d:o,m=Nr(Nr(Nr({},u),h),{},{isActive:p,option:x,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Z.createElement(Gt,qy({className:"recharts-bar-rectangle"},ay(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),Z.createElement(n5,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,f=this.state.prevData;return Z.createElement(Ya,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var x=p.t,m=i.map(function(g,y){var j=f&&f[y];if(j){var w=ln(j.x,g.x),b=ln(j.y,g.y),N=ln(j.width,g.width),S=ln(j.height,g.height);return Nr(Nr({},g),{},{x:w(x),y:b(x),width:N(x),height:S(x)})}if(o==="horizontal"){var C=ln(0,g.height),P=C(x);return Nr(Nr({},g),{},{y:g.y+g.height-P,height:P})}var _=ln(0,g.width),A=_(x);return Nr(Nr({},g),{},{width:A})});return Z.createElement(Gt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Nu(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=lt(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,f=Wke(d,Uke);if(!h)return null;var p=Nr(Nr(Nr(Nr(Nr({},f),{},{fill:"#eee"},h),c),ay(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return Z.createElement(n5,qy({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=zs(u,Ep);if(!h)return null;var f=d==="vertical"?o[0].height/2:o[0].width/2,p=function(g,y){var j=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:j,errorVal:Dn(g,y)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Z.createElement(Gt,x,h.map(function(m){return Z.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,h=n.width,f=n.height,p=n.isAnimationActive,x=n.background,m=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,y=xt("recharts-bar",o),j=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,b=j||w,N=pt(m)?this.id:m;return Z.createElement(Gt,{className:y},j||w?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(N)},Z.createElement("rect",{x:j?d:d-h/2,y:w?u:u-f/2,width:j?h:h*2,height:w?f:f*2}))):null,Z.createElement(Gt,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,N),(!p||g)&&Ci.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(v.PureComponent);cz=Fc;Ao(Fc,"displayName","Bar");Ao(Fc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ic.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ao(Fc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,f=e.offset,p=PNe(n,r);if(!p)return null;var x=t.layout,m=r.type.defaultProps,g=m!==void 0?Nr(Nr({},m),r.props):r.props,y=g.dataKey,j=g.children,w=g.minPointSize,b=x==="horizontal"?o:i,N=d?b.scale.domain():null,S=DNe({numericAxis:b}),C=zs(j,$9),P=h.map(function(_,A){var k,E,L,F,U,W;d?k=kNe(d[u+A],N):(k=Dn(_,y),Array.isArray(k)||(k=[S,k]));var V=Bke(w,cz.defaultProps.minPointSize)(k[1],A);if(x==="horizontal"){var D,T=[o.scale(k[0]),o.scale(k[1])],$=T[0],O=T[1];E=sO({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:_,index:A}),L=(D=O??$)!==null&&D!==void 0?D:void 0,F=p.size;var R=$-O;if(U=Number.isNaN(R)?0:R,W={x:E,y:o.y,width:F,height:o.height},Math.abs(V)>0&&Math.abs(U)<Math.abs(V)){var I=la(U||V)*(Math.abs(V)-Math.abs(U));L-=I,U+=I}}else{var H=[i.scale(k[0]),i.scale(k[1])],he=H[0],ie=H[1];if(E=he,L=sO({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:_,index:A}),F=ie-he,U=p.size,W={x:i.x,y:L,width:i.width,height:U},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var je=la(F||V)*(Math.abs(V)-Math.abs(F));F+=je}}return Nr(Nr(Nr({},_),{},{x:E,y:L,width:F,height:U,value:d?k:k[1],payload:_,background:W},C&&C[A]&&C[A].props),{},{tooltipPayload:[W7(r,_)],tooltipPosition:{x:E+F/2,y:L+U/2}})});return Nr({data:P,layout:x},f)});function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function Zke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hz(n.key),n)}}function Jke(e,t,r){return t&&i5(e.prototype,t),r&&i5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(r),!0).forEach(function(n){Q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q0(e,t,r){return t=hz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hz(e){var t=e_e(e,"string");return Vm(t)=="symbol"?t:t+""}function e_e(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MP=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!is(d,Fc);return u.reduce(function(p,x){var m=r[x],g=m.orientation,y=m.domain,j=m.padding,w=j===void 0?{}:j,b=m.mirror,N=m.reversed,S="".concat(g).concat(b?"Mirror":""),C,P,_,A,k;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var E=y[1]-y[0],L=1/0,F=m.categoricalDomain.sort(ode);if(F.forEach(function(H,he){he>0&&(L=Math.min((H||0)-(F[he-1]||0),L))}),Number.isFinite(L)){var U=L/E,W=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(C=U*W/2),m.padding==="no-gap"){var V=bc(t.barCategoryGap,U*W),D=U*W/2;C=D-V-(D-V)/W*V}}}a==="xAxis"?P=[n.left+(w.left||0)+(C||0),n.left+n.width-(w.right||0)-(C||0)]:a==="yAxis"?P=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(C||0),n.top+n.height-(w.bottom||0)-(C||0)]:P=m.range,N&&(P=[P[1],P[0]]);var T=SNe(m,i,f),$=T.scale,O=T.realScaleType;$.domain(y).range(P),CNe($);var R=MNe($,ra(ra({},m),{},{realScaleType:O}));a==="xAxis"?(k=g==="top"&&!b||g==="bottom"&&b,_=n.left,A=h[S]-k*m.height):a==="yAxis"&&(k=g==="left"&&!b||g==="right"&&b,_=h[S]-k*m.width,A=n.top);var I=ra(ra(ra({},m),R),{},{realScaleType:O,x:_,y:A,scale:$,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return I.bandSize=Dy(I,R),!m.hide&&a==="xAxis"?h[S]+=(k?-1:1)*I.height:m.hide||(h[S]+=(k?-1:1)*I.width),ra(ra({},p),{},Q0({},x,I))},{})},fz=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},t_e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return fz({x:r,y:n},{x:a,y:i})},mz=function(){function e(t){Zke(this,e),this.scale=t}return Jke(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Q0(mz,"EPS",1e-4);var DP=function(t){var r=Object.keys(t).reduce(function(n,a){return ra(ra({},n),{},Q0({},a,mz.create(t[a])))},{});return ra(ra({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return wke(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return lz(a,function(i,o){return r[o].isInRange(i)})}})};function r_e(e){return(e%180+180)%180}var n_e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=r_e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},s_e=fl,a_e=Cp,i_e=R0;function o_e(e){return function(t,r,n){var a=Object(t);if(!a_e(t)){var i=s_e(r);t=i_e(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var l_e=o_e,c_e=sz;function d_e(e){var t=c_e(e),r=t%1;return t===t?r?t-r:t:0}var u_e=d_e,h_e=j9,f_e=fl,m_e=u_e,p_e=Math.max;function g_e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:m_e(r);return a<0&&(a=p_e(n+a,0)),h_e(e,f_e(t),a)}var x_e=g_e,y_e=l_e,v_e=x_e,b_e=y_e(v_e),w_e=b_e;const j_e=zt(w_e);var N_e=dce(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),IP=v.createContext(void 0),RP=v.createContext(void 0),pz=v.createContext(void 0),gz=v.createContext({}),xz=v.createContext(void 0),yz=v.createContext(0),vz=v.createContext(0),l5=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=N_e(i);return Z.createElement(IP.Provider,{value:n},Z.createElement(RP.Provider,{value:a},Z.createElement(gz.Provider,{value:i},Z.createElement(pz.Provider,{value:u},Z.createElement(xz.Provider,{value:o},Z.createElement(yz.Provider,{value:d},Z.createElement(vz.Provider,{value:c},l)))))))},S_e=function(){return v.useContext(xz)},bz=function(t){var r=v.useContext(IP);r==null&&jc();var n=r[t];return n==null&&jc(),n},C_e=function(){var t=v.useContext(IP);return ho(t)},P_e=function(){var t=v.useContext(RP),r=j_e(t,function(n){return lz(n.domain,Number.isFinite)});return r||ho(t)},wz=function(t){var r=v.useContext(RP);r==null&&jc();var n=r[t];return n==null&&jc(),n},k_e=function(){var t=v.useContext(pz);return t},__e=function(){return v.useContext(gz)},$P=function(){return v.useContext(vz)},LP=function(){return v.useContext(yz)};function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function A_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nz(n.key),n)}}function T_e(e,t,r){return t&&E_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O_e(e,t,r){return t=Gy(t),M_e(e,jz()?Reflect.construct(t,r||[],Gy(e).constructor):t.apply(e,r))}function M_e(e,t){if(t&&(Au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D_e(e)}function D_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jz=function(){return!!e})()}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(e)}function I_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UN(e,t)}function UN(e,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UN(e,t)}function c5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c5(Object(r),!0).forEach(function(n){FP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FP(e,t,r){return t=Nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nz(e){var t=R_e(e,"string");return Au(t)=="symbol"?t:t+""}function R_e(e,t){if(Au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $_e(e,t){return B_e(e)||z_e(e,t)||F_e(e,t)||L_e()}function L_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F_e(e,t){if(e){if(typeof e=="string")return u5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u5(e,t)}}function u5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function B_e(e){if(Array.isArray(e))return e}function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WN.apply(this,arguments)}var U_e=function(t,r){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,r):at(t)?n=t(r):n=Z.createElement("line",WN({},r,{className:"recharts-reference-line-line"})),n},W_e=function(t,r,n,a,i,o,l,c,d){var u=i.x,h=i.y,f=i.width,p=i.height;if(n){var x=d.y,m=t.y.apply(x,{position:o});if(Va(d,"discard")&&!t.y.isInRange(m))return null;var g=[{x:u+f,y:m},{x:u,y:m}];return c==="left"?g.reverse():g}if(r){var y=d.x,j=t.x.apply(y,{position:o});if(Va(d,"discard")&&!t.x.isInRange(j))return null;var w=[{x:j,y:h+p},{x:j,y:h}];return l==="top"?w.reverse():w}if(a){var b=d.segment,N=b.map(function(S){return t.apply(S,{position:o})});return Va(d,"discard")&&fke(N,function(S){return!t.isInRange(S)})?null:N}return null};function V_e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=S_e(),u=bz(a),h=wz(i),f=k_e();if(!d||!f)return null;Ni(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=DP({x:u.scale,y:h.scale}),x=Rr(t),m=Rr(r),g=n&&n.length===2,y=W_e(p,x,m,g,f,e.position,u.orientation,h.orientation,e);if(!y)return null;var j=$_e(y,2),w=j[0],b=w.x,N=w.y,S=j[1],C=S.x,P=S.y,_=Va(e,"hidden")?"url(#".concat(d,")"):void 0,A=d5(d5({clipPath:_},lt(e,!0)),{},{x1:b,y1:N,x2:C,y2:P});return Z.createElement(Gt,{className:xt("recharts-reference-line",l)},U_e(o,A),xn.renderCallByParent(e,t_e({x1:b,y1:N,x2:C,y2:P})))}var zP=function(e){function t(){return A_e(this,t),O_e(this,t,arguments)}return I_e(t,e),T_e(t,[{key:"render",value:function(){return Z.createElement(V_e,this.props)}}])}(Z.Component);FP(zP,"displayName","ReferenceLine");FP(zP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function VN(){return VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VN.apply(this,arguments)}function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){Z0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cz(n.key),n)}}function K_e(e,t,r){return t&&q_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G_e(e,t,r){return t=Yy(t),Y_e(e,Sz()?Reflect.construct(t,r||[],Yy(e).constructor):t.apply(e,r))}function Y_e(e,t){if(t&&(Eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X_e(e)}function X_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sz=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(e)}function Q_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HN(e,t)}function HN(e,t){return HN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HN(e,t)}function Z0(e,t,r){return t=Cz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cz(e){var t=Z_e(e,"string");return Eu(t)=="symbol"?t:t+""}function Z_e(e,t){if(Eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var J_e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=DP({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Va(t,"discard")&&!o.isInRange(l)?null:l},J0=function(e){function t(){return H_e(this,t),G_e(this,t,arguments)}return Q_e(t,e),K_e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=Rr(a),u=Rr(i);if(Ni(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=J_e(this.props);if(!h)return null;var f=h.x,p=h.y,x=this.props,m=x.shape,g=x.className,y=Va(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=f5(f5({clipPath:y},lt(this.props,!0)),{},{cx:f,cy:p});return Z.createElement(Gt,{className:xt("recharts-reference-dot",g)},t.renderDot(m,j),xn.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(Z.Component);Z0(J0,"displayName","ReferenceDot");Z0(J0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Z0(J0,"renderDot",function(e,t){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,t):at(e)?r=e(t):r=Z.createElement(G0,VN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qN.apply(this,arguments)}function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function m5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(r),!0).forEach(function(n){eb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kz(n.key),n)}}function r4e(e,t,r){return t&&t4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n4e(e,t,r){return t=Xy(t),s4e(e,Pz()?Reflect.construct(t,r||[],Xy(e).constructor):t.apply(e,r))}function s4e(e,t){if(t&&(Tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a4e(e)}function a4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pz=function(){return!!e})()}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(e)}function i4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KN(e,t)}function KN(e,t){return KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KN(e,t)}function eb(e,t,r){return t=kz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kz(e){var t=o4e(e,"string");return Tu(t)=="symbol"?t:t+""}function o4e(e,t){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var l4e=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var f=DP({x:u.scale,y:h.scale}),p={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},x={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(d,{position:"end"}):f.y.rangeMax};return Va(i,"discard")&&(!f.isInRange(p)||!f.isInRange(x))?null:fz(p,x)},tb=function(e){function t(){return e4e(this,t),n4e(this,t,arguments)}return i4e(t,e),r4e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;Ni(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Rr(a),f=Rr(i),p=Rr(o),x=Rr(l),m=this.props.shape;if(!h&&!f&&!p&&!x&&!m)return null;var g=l4e(h,f,p,x,this.props);if(!g&&!m)return null;var y=Va(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Z.createElement(Gt,{className:xt("recharts-reference-area",c)},t.renderRect(m,p5(p5({clipPath:y},lt(this.props,!0)),g)),xn.renderCallByParent(this.props,g))}}])}(Z.Component);eb(tb,"displayName","ReferenceArea");eb(tb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});eb(tb,"renderRect",function(e,t){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,t):at(e)?r=e(t):r=Z.createElement(OP,qN({},t,{className:"recharts-reference-area-rect"})),r});function _z(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function c4e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return n_e(n,r)}function d4e(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Qy(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function u4e(e,t){return _z(e,t+1)}function h4e(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:_z(n,d)};var m=c,g,y=function(){return g===void 0&&(g=r(x,m)),g},j=x.coordinate,w=c===0||Qy(e,j,y,u,l);w||(c=0,u=o,d+=1),w&&(u=j+e*(y()/2+a),c+=d)},f;d<=i.length;)if(f=h(),f)return f.v;return[]}function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function g5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(r),!0).forEach(function(n){f4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f4e(e,t,r){return t=m4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m4e(e){var t=p4e(e,"string");return Hm(t)=="symbol"?t:t+""}function p4e(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g4e(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(f){var p=i[f],x,m=function(){return x===void 0&&(x=r(p,f)),x};if(f===o-1){var g=e*(p.coordinate+e*m()/2-c);i[f]=p=pn(pn({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[f]=p=pn(pn({},p),{},{tickCoord:p.coordinate});var y=Qy(e,p.tickCoord,m,l,c);y&&(c=p.tickCoord-e*(m()/2+a),i[f]=pn(pn({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function x4e(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=n[l-1],h=r(u,l-1),f=e*(u.coordinate+e*h/2-d);o[l-1]=u=pn(pn({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var p=Qy(e,u.tickCoord,function(){return h},c,d);p&&(d=u.tickCoord-e*(h/2+a),o[l-1]=pn(pn({},u),{},{isShow:!0}))}for(var x=i?l-1:l,m=function(j){var w=o[j],b,N=function(){return b===void 0&&(b=r(w,j)),b};if(j===0){var S=e*(w.coordinate-e*N()/2-c);o[j]=w=pn(pn({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[j]=w=pn(pn({},w),{},{tickCoord:w.coordinate});var C=Qy(e,w.tickCoord,N,c,d);C&&(c=w.tickCoord+e*(N()/2+a),o[j]=pn(pn({},w),{},{isShow:!0}))},g=0;g<x;g++)m(g);return o}function BP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,h=e.angle;if(!a||!a.length||!n)return[];if(Ee(c)||Ic.isSsr)return u4e(a,typeof c=="number"&&Ee(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",x=u&&p==="width"?Af(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,b){var N=at(d)?d(w.value,b):w.value;return p==="width"?c4e(Af(N,{fontSize:t,letterSpacing:r}),x,h):Af(N,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?la(a[1].coordinate-a[0].coordinate):1,y=d4e(i,g,p);return c==="equidistantPreserveStart"?h4e(g,y,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=x4e(g,y,m,a,o,c==="preserveStartEnd"):f=g4e(g,y,m,a,o),f.filter(function(j){return j.isShow}))}var y4e=["viewBox"],v4e=["viewBox"],b4e=["ticks"];function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}function x5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(r),!0).forEach(function(n){UP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zw(e,t){if(e==null)return{};var r=w4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function j4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ez(n.key),n)}}function N4e(e,t,r){return t&&y5(e.prototype,t),r&&y5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S4e(e,t,r){return t=Zy(t),C4e(e,Az()?Reflect.construct(t,r||[],Zy(e).constructor):t.apply(e,r))}function C4e(e,t){if(t&&(Ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P4e(e)}function P4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Az(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!e})()}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zy(e)}function k4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GN(e,t)}function GN(e,t){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GN(e,t)}function UP(e,t,r){return t=Ez(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=_4e(e,"string");return Ou(t)=="symbol"?t:t+""}function _4e(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yh=function(e){function t(r){var n;return j4e(this,t),n=S4e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return k4e(t,e),N4e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=zw(n,y4e),l=this.props,c=l.viewBox,d=zw(l,v4e);return!Td(i,c)||!Td(o,d)||!Td(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,f=a.tickMargin,p,x,m,g,y,j,w=h?-1:1,b=n.tickSize||u,N=Ee(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":p=x=n.coordinate,g=o+ +!h*c,m=g-w*b,j=m-w*f,y=N;break;case"left":m=g=n.coordinate,x=i+ +!h*l,p=x-w*b,y=p-w*f,j=N;break;case"right":m=g=n.coordinate,x=i+ +h*l,p=x+w*b,y=p+w*f,j=N;break;default:p=x=n.coordinate,g=o+ +h*c,m=g+w*b,j=m+w*f,y=N;break}return{line:{x1:p,y1:m,x2:x,y2:g},tick:{x:y,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,h=Ar(Ar(Ar({},lt(this.props,!1)),lt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!d||c==="bottom"&&d);h=Ar(Ar({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);h=Ar(Ar({},h),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return Z.createElement("line",pd({},h,{className:xt("recharts-cartesian-axis-line",Fs(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,f=l.unit,p=BP(Ar(Ar({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=lt(this.props,!1),y=lt(u,!1),j=Ar(Ar({},g),{},{fill:"none"},lt(c,!1)),w=p.map(function(b,N){var S=o.getTickLineCoord(b),C=S.line,P=S.tick,_=Ar(Ar(Ar(Ar({textAnchor:x,verticalAnchor:m},g),{},{stroke:"none",fill:d},y),P),{},{index:N,payload:b,visibleTicksCount:p.length,tickFormatter:h});return Z.createElement(Gt,pd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},ay(o.props,b,N)),c&&Z.createElement("line",pd({},j,C,{className:xt("recharts-cartesian-axis-tick-line",Fs(c,"className"))})),u&&t.renderTickItem(u,_,"".concat(at(h)?h(b.value,N):b.value).concat(f||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,f=h.ticks,p=zw(h,b4e),x=f;return at(c)&&(x=f&&f.length>0?c(this.props):c(p)),o<=0||l<=0||!x||!x.length?null:Z.createElement(Gt,{className:xt("recharts-cartesian-axis",d),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),xn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=xt(a.className,"recharts-cartesian-axis-tick-value");return Z.isValidElement(n)?o=Z.cloneElement(n,Ar(Ar({},a),{},{className:l})):at(n)?o=n(Ar(Ar({},a),{},{className:l})):o=Z.createElement(vy,pd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);UP(yh,"displayName","CartesianAxis");UP(yh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var A4e=["x1","y1","x2","y2","key"],E4e=["offset"];function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function v5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(r),!0).forEach(function(n){T4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T4e(e,t,r){return t=O4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O4e(e){var t=M4e(e,"string");return Nc(t)=="symbol"?t:t+""}function M4e(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}function b5(e,t){if(e==null)return{};var r=D4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var I4e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return Z.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Tz(e,t){var r;if(Z.isValidElement(e))r=Z.cloneElement(e,t);else if(at(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=b5(t,A4e),d=lt(c,!1);d.offset;var u=b5(d,E4e);r=Z.createElement("line",zl({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function R4e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=yn(yn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Tz(a,d)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function $4e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=yn(yn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Tz(a,d)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function L4e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,p){return f-p});a!==u[0]&&u.unshift(0);var h=u.map(function(f,p){var x=!u[p+1],m=x?a+o-f:u[p+1]-f;if(m<=0)return null;var g=p%t.length;return Z.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:m,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function F4e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==u[0]&&u.unshift(0);var h=u.map(function(f,p){var x=!u[p+1],m=x?i+l-f:u[p+1]-f;if(m<=0)return null;var g=p%n.length;return Z.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:m,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var z4e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return B7(BP(yn(yn(yn({},yh.defaultProps),n),{},{ticks:bi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},B4e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return B7(BP(yn(yn(yn({},yh.defaultProps),n),{},{ticks:bi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Mf(e){var t,r,n,a,i,o,l=$P(),c=LP(),d=__e(),u=yn(yn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Gc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Gc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Gc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Gc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Gc.verticalFill,x:Ee(e.x)?e.x:d.left,y:Ee(e.y)?e.y:d.top,width:Ee(e.width)?e.width:d.width,height:Ee(e.height)?e.height:d.height}),h=u.x,f=u.y,p=u.width,x=u.height,m=u.syncWithTicks,g=u.horizontalValues,y=u.verticalValues,j=C_e(),w=P_e();if(!Ee(p)||p<=0||!Ee(x)||x<=0||!Ee(h)||h!==+h||!Ee(f)||f!==+f)return null;var b=u.verticalCoordinatesGenerator||z4e,N=u.horizontalCoordinatesGenerator||B4e,S=u.horizontalPoints,C=u.verticalPoints;if((!S||!S.length)&&at(N)){var P=g&&g.length,_=N({yAxis:w?yn(yn({},w),{},{ticks:P?g:w.ticks}):void 0,width:l,height:c,offset:d},P?!0:m);Ni(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Nc(_),"]")),Array.isArray(_)&&(S=_)}if((!C||!C.length)&&at(b)){var A=y&&y.length,k=b({xAxis:j?yn(yn({},j),{},{ticks:A?y:j.ticks}):void 0,width:l,height:c,offset:d},A?!0:m);Ni(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Nc(k),"]")),Array.isArray(k)&&(C=k)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(I4e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Z.createElement(R4e,zl({},u,{offset:d,horizontalPoints:S,xAxis:j,yAxis:w})),Z.createElement($4e,zl({},u,{offset:d,verticalPoints:C,xAxis:j,yAxis:w})),Z.createElement(L4e,zl({},u,{horizontalPoints:S})),Z.createElement(F4e,zl({},u,{verticalPoints:C})))}Mf.displayName="CartesianGrid";var U4e=["type","layout","connectNulls","ref"],W4e=["key"];function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function w5(e,t){if(e==null)return{};var r=V4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yc(e){return G4e(e)||K4e(e)||q4e(e)||H4e()}function H4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q4e(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function K4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G4e(e){if(Array.isArray(e))return YN(e)}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mz(n.key),n)}}function X4e(e,t,r){return t&&N5(e.prototype,t),r&&N5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q4e(e,t,r){return t=Jy(t),Z4e(e,Oz()?Reflect.construct(t,r||[],Jy(e).constructor):t.apply(e,r))}function Z4e(e,t){if(t&&(Mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J4e(e)}function J4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!e})()}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(e)}function eAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XN(e,t)}function XN(e,t){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XN(e,t)}function na(e,t,r){return t=Mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=tAe(e,"string");return Mu(t)=="symbol"?t:t+""}function tAe(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sc=function(e){function t(){var r;Y4e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Q4e(this,t,[].concat(a)),na(r,"state",{isAnimationFinished:!0,totalLength:0}),na(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),na(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(y,j){return y+j});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,f=l-o,p=[],x=0,m=0;x<c.length;m+=c[x],++x)if(m+c[x]>h){p=[].concat(Yc(c.slice(0,x)),[h-m]);break}var g=p.length%2===0?[0,f]:[f];return[].concat(Yc(t.repeat(c,u)),Yc(p),g).map(function(y){return"".concat(y,"px")}).join(", ")}),na(r,"id",uh("recharts-line-")),na(r,"pathRef",function(o){r.mainCurve=o}),na(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),na(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return eAe(t,e),X4e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=zs(u,Ep);if(!h)return null;var f=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:Dn(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Z.createElement(Gt,p,h.map(function(x){return Z.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=lt(this.props,!1),f=lt(c,!0),p=d.map(function(m,g){var y=ns(ns(ns({key:"dot-".concat(g),r:3},h),f),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:d});return t.renderDotItem(c,y)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Z.createElement(Gt,Df({className:"recharts-line-dots",key:"dots"},x),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var h=w5(l,U4e),f=ns(ns(ns({},lt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:u});return Z.createElement(Id,Df({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,p=o.animationId,x=o.animateNewValues,m=o.width,g=o.height,y=this.state,j=y.prevPoints,w=y.totalLength;return Z.createElement(Ya,{begin:u,duration:h,isActive:d,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var N=b.t;if(j){var S=j.length/l.length,C=l.map(function(E,L){var F=Math.floor(L*S);if(j[F]){var U=j[F],W=ln(U.x,E.x),V=ln(U.y,E.y);return ns(ns({},E),{},{x:W(N),y:V(N)})}if(x){var D=ln(m*2,E.x),T=ln(g/2,E.y);return ns(ns({},E),{},{x:D(N),y:T(N)})}return ns(ns({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(C,n,a)}var P=ln(0,w),_=P(N),A;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});A=i.getStrokeDasharray(_,w,k)}else A=i.generateSimpleStrokeDasharray(w,_);return i.renderCurveStatically(l,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Nu(d,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,h=a.top,f=a.left,p=a.width,x=a.height,m=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,j=l.length===1,w=xt("recharts-line",c),b=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,S=b||N,C=pt(g)?this.id:g,P=(n=lt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,A=_===void 0?3:_,k=P.strokeWidth,E=k===void 0?2:k,L=MF(o)?o:{},F=L.clipDot,U=F===void 0?!0:F,W=A*2+E;return Z.createElement(Gt,{className:w},b||N?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(C)},Z.createElement("rect",{x:b?f:f-p/2,y:N?h:h-x/2,width:b?p:p*2,height:N?x:x*2})),!U&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(C)},Z.createElement("rect",{x:f-W/2,y:h-W/2,width:p+W,height:x+W}))):null,!j&&this.renderCurve(S,C),this.renderErrorBar(S,C),(j||o)&&this.renderDots(S,U,C),(!m||y)&&Ci.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Yc(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Yc(o),Yc(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Z.isValidElement(n))i=Z.cloneElement(n,a);else if(at(n))i=n(a);else{var o=a.key,l=w5(a,W4e),c=xt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Z.createElement(G0,Df({key:o},l,{className:c}))}return i}}])}(v.PureComponent);na(sc,"displayName","Line");na(sc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ic.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});na(sc,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,h=c.map(function(f,p){var x=Dn(f,o);return u==="horizontal"?{x:My({axis:r,ticks:a,bandSize:l,entry:f,index:p}),y:pt(x)?null:n.scale(x),value:x,payload:f}:{x:pt(x)?null:r.scale(x),y:My({axis:n,ticks:i,bandSize:l,entry:f,index:p}),value:x,payload:f}});return ns({points:h,layout:u},d)});var rAe=["layout","type","stroke","connectNulls","isRange","ref"],nAe=["key"],Dz;function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function Iz(e,t){if(e==null)return{};var r=sAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(this,arguments)}function S5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(r),!0).forEach(function(n){Ra(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$z(n.key),n)}}function iAe(e,t,r){return t&&C5(e.prototype,t),r&&C5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oAe(e,t,r){return t=ev(t),lAe(e,Rz()?Reflect.construct(t,r||[],ev(e).constructor):t.apply(e,r))}function lAe(e,t){if(t&&(Du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cAe(e)}function cAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rz=function(){return!!e})()}function ev(e){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ev(e)}function dAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QN(e,t)}function QN(e,t){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QN(e,t)}function Ra(e,t,r){return t=$z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=uAe(e,"string");return Du(t)=="symbol"?t:t+""}function uAe(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Li=function(e){function t(){var r;aAe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=oAe(this,t,[].concat(a)),Ra(r,"state",{isAnimationFinished:!0}),Ra(r,"id",uh("recharts-area-")),Ra(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),at(o)&&o()}),Ra(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),at(o)&&o()}),r}return dAe(t,e),iAe(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,f=lt(this.props,!1),p=lt(d,!0),x=u.map(function(g,y){var j=to(to(to({key:"dot-".concat(y),r:3},f),p),{},{index:y,cx:g.x,cy:g.y,dataKey:h,value:g.value,payload:g.payload,points:u});return t.renderDotItem(d,j)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Z.createElement(Gt,Bl({className:"recharts-area-dots"},m),x)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=n*Math.abs(c-d),h=_o(o.map(function(f){return f.y||0}));return Ee(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(_o(i.map(function(f){return f.y||0})),h)),Ee(h)?Z.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=n*Math.abs(c-d),h=_o(o.map(function(f){return f.x||0}));return Ee(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(_o(i.map(function(f){return f.x||0})),h)),Ee(h)?Z.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var p=Iz(l,rAe);return Z.createElement(Gt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},Z.createElement(Id,Bl({},lt(p,!0),{points:n,connectNulls:h,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Z.createElement(Id,Bl({},lt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:n})),u!=="none"&&f&&Z.createElement(Id,Bl({},lt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,p=o.animationId,x=this.state,m=x.prevPoints,g=x.prevBaseLine;return Z.createElement(Ya,{begin:u,duration:h,isActive:d,easing:f,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var j=y.t;if(m){var w=m.length/l.length,b=l.map(function(P,_){var A=Math.floor(_*w);if(m[A]){var k=m[A],E=ln(k.x,P.x),L=ln(k.y,P.y);return to(to({},P),{},{x:E(j),y:L(j)})}return P}),N;if(Ee(c)&&typeof c=="number"){var S=ln(g,c);N=S(j)}else if(pt(c)||dh(c)){var C=ln(g,0);N=C(j)}else N=c.map(function(P,_){var A=Math.floor(_*w);if(g[A]){var k=g[A],E=ln(k.x,P.x),L=ln(k.y,P.y);return to(to({},P),{},{x:E(j),y:L(j)})}return P});return i.renderAreaStatically(b,N,n,a)}return Z.createElement(Gt,null,Z.createElement("defs",null,Z.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(j))),Z.createElement(Gt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,f=d.totalLength;return c&&o&&o.length&&(!u&&f>0||!Nu(u,o)||!Nu(h,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,h=a.xAxis,f=a.yAxis,p=a.width,x=a.height,m=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,j=l.length===1,w=xt("recharts-area",c),b=h&&h.allowDataOverflow,N=f&&f.allowDataOverflow,S=b||N,C=pt(g)?this.id:g,P=(n=lt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,A=_===void 0?3:_,k=P.strokeWidth,E=k===void 0?2:k,L=MF(o)?o:{},F=L.clipDot,U=F===void 0?!0:F,W=A*2+E;return Z.createElement(Gt,{className:w},b||N?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(C)},Z.createElement("rect",{x:b?u:u-p/2,y:N?d:d-x/2,width:b?p:p*2,height:N?x:x*2})),!U&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(C)},Z.createElement("rect",{x:u-W/2,y:d-W/2,width:p+W,height:x+W}))):null,j?null:this.renderArea(S,C),(o||j)&&this.renderDots(S,U,C),(!m||y)&&Ci.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(v.PureComponent);Dz=Li;Ra(Li,"displayName","Area");Ra(Li,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ic.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ra(Li,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Ee(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Ra(Li,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,f=e.offset,p=t.layout,x=d&&d.length,m=Dz.getBaseValue(t,r,n,a),g=p==="horizontal",y=!1,j=h.map(function(b,N){var S;x?S=d[u+N]:(S=Dn(b,c),Array.isArray(S)?y=!0:S=[m,S]);var C=S[1]==null||x&&Dn(b,c)==null;return g?{x:My({axis:n,ticks:i,bandSize:l,entry:b,index:N}),y:C?null:a.scale(S[1]),value:S,payload:b}:{x:C?null:n.scale(S[1]),y:My({axis:a,ticks:o,bandSize:l,entry:b,index:N}),value:S,payload:b}}),w;return x||y?w=j.map(function(b){var N=Array.isArray(b.value)?b.value[0]:null;return g?{x:b.x,y:N!=null&&b.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:b.y}}):w=g?a.scale(m):n.scale(m),to({points:j,baseLine:w,layout:p,isRange:y},f)});Ra(Li,"renderDotItem",function(e,t){var r;if(Z.isValidElement(e))r=Z.cloneElement(e,t);else if(at(e))r=e(t);else{var n=xt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=Iz(t,nAe);r=Z.createElement(G0,Bl({},i,{key:a,className:n}))}return r});function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function hAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zz(n.key),n)}}function mAe(e,t,r){return t&&fAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pAe(e,t,r){return t=tv(t),gAe(e,Lz()?Reflect.construct(t,r||[],tv(e).constructor):t.apply(e,r))}function gAe(e,t){if(t&&(Iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xAe(e)}function xAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lz=function(){return!!e})()}function tv(e){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tv(e)}function yAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZN(e,t)}function ZN(e,t){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZN(e,t)}function Fz(e,t,r){return t=zz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zz(e){var t=vAe(e,"string");return Iu(t)=="symbol"?t:t+""}function vAe(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JN.apply(this,arguments)}function bAe(e){var t=e.xAxisId,r=$P(),n=LP(),a=bz(t);return a==null?null:v.createElement(yh,JN({},a,{className:xt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return bi(o,!0)}}))}var Pi=function(e){function t(){return hAe(this,t),pAe(this,t,arguments)}return yAe(t,e),mAe(t,[{key:"render",value:function(){return v.createElement(bAe,this.props)}}])}(v.Component);Fz(Pi,"displayName","XAxis");Fz(Pi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function wAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wz(n.key),n)}}function NAe(e,t,r){return t&&jAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SAe(e,t,r){return t=rv(t),CAe(e,Bz()?Reflect.construct(t,r||[],rv(e).constructor):t.apply(e,r))}function CAe(e,t){if(t&&(Ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PAe(e)}function PAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bz=function(){return!!e})()}function rv(e){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rv(e)}function kAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e2(e,t)}function e2(e,t){return e2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e2(e,t)}function Uz(e,t,r){return t=Wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=_Ae(e,"string");return Ru(t)=="symbol"?t:t+""}function _Ae(e,t){if(Ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t2.apply(this,arguments)}var AAe=function(t){var r=t.yAxisId,n=$P(),a=LP(),i=wz(r);return i==null?null:v.createElement(yh,t2({},i,{className:xt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return bi(l,!0)}}))},ki=function(e){function t(){return wAe(this,t),SAe(this,t,arguments)}return kAe(t,e),NAe(t,[{key:"render",value:function(){return v.createElement(AAe,this.props)}}])}(v.Component);Uz(ki,"displayName","YAxis");Uz(ki,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function P5(e){return MAe(e)||OAe(e)||TAe(e)||EAe()}function EAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TAe(e,t){if(e){if(typeof e=="string")return r2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r2(e,t)}}function OAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MAe(e){if(Array.isArray(e))return r2(e)}function r2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n2=function(t,r,n,a,i){var o=zs(t,zP),l=zs(t,J0),c=[].concat(P5(o),P5(l)),d=zs(t,tb),u="".concat(a,"Id"),h=a[0],f=r;if(c.length&&(f=c.reduce(function(m,g){if(g.props[u]===n&&Va(g.props,"extendDomain")&&Ee(g.props[h])){var y=g.props[h];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},f)),d.length){var p="".concat(h,"1"),x="".concat(h,"2");f=d.reduce(function(m,g){if(g.props[u]===n&&Va(g.props,"extendDomain")&&Ee(g.props[p])&&Ee(g.props[x])){var y=g.props[p],j=g.props[x];return[Math.min(m[0],y,j),Math.max(m[1],y,j)]}return m},f)}return i&&i.length&&(f=i.reduce(function(m,g){return Ee(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},f)),f},Vz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,h||c,f),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],p]:c._events[x].push(p):(c._events[x]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,x=new Array(p);f<p;f++)x[f]=h[f].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,f,p,x){var m=r?r+d:d;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,j,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,h),!0;case 4:return g.fn.call(g.context,u,h,f),!0;case 5:return g.fn.call(g.context,u,h,f,p),!0;case 6:return g.fn.call(g.context,u,h,f,p,x),!0}for(w=1,j=new Array(y-1);w<y;w++)j[w-1]=arguments[w];g.fn.apply(g.context,j)}else{var b=g.length,N;for(w=0;w<b;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),y){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,h);break;case 4:g[w].fn.call(g[w].context,u,h,f);break;default:if(!j)for(N=1,j=new Array(y-1);N<y;N++)j[N-1]=arguments[N];g[w].fn.apply(g[w].context,j)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,f){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var x=this._events[p];if(x.fn)x.fn===u&&(!f||x.once)&&(!h||x.context===h)&&o(this,p);else{for(var m=0,g=[],y=x.length;m<y;m++)(x[m].fn!==u||f&&!x[m].once||h&&x[m].context!==h)&&g.push(x[m]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Vz);var DAe=Vz.exports;const IAe=zt(DAe);var Bw=new IAe,Uw="recharts.syncMouseEvents";function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function RAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hz(n.key),n)}}function LAe(e,t,r){return t&&$Ae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ww(e,t,r){return t=Hz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hz(e){var t=FAe(e,"string");return qm(t)=="symbol"?t:t+""}function FAe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zAe=function(){function e(){RAe(this,e),Ww(this,"activeIndex",0),Ww(this,"coordinateList",[]),Ww(this,"layout","horizontal")}return LAe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+d,f=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function BAe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ee(n)&&Ee(a))return!0}return!1}function UAe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function qz(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=cn(t,r,n,a),l=cn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function WAe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,h=t.angle,f=cn(l,c,d,h),p=cn(l,c,u,h);n=f.x,a=f.y,i=p.x,o=p.y}else return qz(t);return[{x:n,y:a},{x:i,y:o}]}function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function k5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(r),!0).forEach(function(n){VAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VAe(e,t,r){return t=HAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HAe(e){var t=qAe(e,"string");return Km(t)=="symbol"?t:t+""}function qAe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KAe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var x,m=Id;if(f==="ScatterChart")x=o,m=$Ce;else if(f==="BarChart")x=UAe(h,o,c,u),m=OP;else if(h==="radial"){var g=qz(o),y=g.cx,j=g.cy,w=g.radius,b=g.startAngle,N=g.endAngle;x={cx:y,cy:j,startAngle:b,endAngle:N,innerRadius:w,outerRadius:w},m=q7}else x={points:WAe(h,o,c)},m=Id;var S=Ig(Ig(Ig(Ig({stroke:"#ccc",pointerEvents:"none"},c),x),lt(p,!1)),{},{payload:l,payloadIndex:d,className:xt("recharts-tooltip-cursor",p.className)});return v.isValidElement(p)?v.cloneElement(p,S):v.createElement(m,S)}var GAe=["item"],YAe=["children","className","width","height","style","compact","title","desc"];function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function _5(e,t){return ZAe(e)||QAe(e,t)||Gz(e,t)||XAe()}function XAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ZAe(e){if(Array.isArray(e))return e}function A5(e,t){if(e==null)return{};var r=JAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yz(n.key),n)}}function rEe(e,t,r){return t&&tEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nEe(e,t,r){return t=nv(t),sEe(e,Kz()?Reflect.construct(t,r||[],nv(e).constructor):t.apply(e,r))}function sEe(e,t){if(t&&($u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aEe(e)}function aEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kz=function(){return!!e})()}function nv(e){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nv(e)}function iEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s2(e,t)}function s2(e,t){return s2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s2(e,t)}function Lu(e){return cEe(e)||lEe(e)||Gz(e)||oEe()}function oEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gz(e,t){if(e){if(typeof e=="string")return a2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(e,t)}}function lEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cEe(e){if(Array.isArray(e))return a2(e)}function a2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(r),!0).forEach(function(n){Je(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Je(e,t,r){return t=Yz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(e){var t=dEe(e,"string");return $u(t)=="symbol"?t:t+""}function dEe(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uEe={xAxis:["bottom","top"],yAxis:["left","right"]},hEe={width:"100%",height:"100%"},Xz={x:0,y:0};function Rg(e){return e}var fEe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},mEe=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return fe(fe(fe({},a),cn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return fe(fe(fe({},a),cn(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return Xz},rb=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Lu(l),Lu(d)):l},[]);return o.length>0?o:t&&t.length&&Ee(a)&&Ee(i)?t.slice(a,i+1):[]};function Qz(e){return e==="number"?[0,"auto"]:void 0}var i2=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=rb(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;f=ny(p,o.dataKey,a)}else f=h&&h[n]||l[n];return f?[].concat(Lu(c),[W7(d,f)]):c},[])},T5=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=fEe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=yNe(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,f=i2(t,r,u,h),p=mEe(n,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},pEe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,h=t.children,f=t.stackOffset,p=z7(u,i);return n.reduce(function(x,m){var g,y=m.type.defaultProps!==void 0?fe(fe({},m.type.defaultProps),m.props):m.props,j=y.type,w=y.dataKey,b=y.allowDataOverflow,N=y.allowDuplicatedCategory,S=y.scale,C=y.ticks,P=y.includeHidden,_=y[o];if(x[_])return x;var A=rb(t.data,{graphicalItems:a.filter(function(R){var I,H=o in R.props?R.props[o]:(I=R.type.defaultProps)===null||I===void 0?void 0:I[o];return H===_}),dataStartIndex:c,dataEndIndex:d}),k=A.length,E,L,F;BAe(y.domain,b,j)&&(E=NN(y.domain,null,b),p&&(j==="number"||S!=="auto")&&(F=Tf(A,w,"category")));var U=Qz(j);if(!E||E.length===0){var W,V=(W=y.domain)!==null&&W!==void 0?W:U;if(w){if(E=Tf(A,w,j),j==="category"&&p){var D=ide(E);N&&D?(L=E,E=Wy(0,k)):N||(E=oO(V,E,m).reduce(function(R,I){return R.indexOf(I)>=0?R:[].concat(Lu(R),[I])},[]))}else if(j==="category")N?E=E.filter(function(R){return R!==""&&!pt(R)}):E=oO(V,E,m).reduce(function(R,I){return R.indexOf(I)>=0||I===""||pt(I)?R:[].concat(Lu(R),[I])},[]);else if(j==="number"){var T=NNe(A,a.filter(function(R){var I,H,he=o in R.props?R.props[o]:(I=R.type.defaultProps)===null||I===void 0?void 0:I[o],ie="hide"in R.props?R.props.hide:(H=R.type.defaultProps)===null||H===void 0?void 0:H.hide;return he===_&&(P||!ie)}),w,i,u);T&&(E=T)}p&&(j==="number"||S!=="auto")&&(F=Tf(A,w,"category"))}else p?E=Wy(0,k):l&&l[_]&&l[_].hasStack&&j==="number"?E=f==="expand"?[0,1]:U7(l[_].stackGroups,c,d):E=F7(A,a.filter(function(R){var I=o in R.props?R.props[o]:R.type.defaultProps[o],H="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return I===_&&(P||!H)}),j,u,!0);if(j==="number")E=n2(h,E,_,i,C),V&&(E=NN(V,E,b));else if(j==="category"&&V){var $=V,O=E.every(function(R){return $.indexOf(R)>=0});O&&(E=$)}}return fe(fe({},x),{},Je({},_,fe(fe({},y),{},{axisType:i,domain:E,categoricalDomain:F,duplicateDomain:L,originalDomain:(g=y.domain)!==null&&g!==void 0?g:U,isCategorical:p,layout:u})))},{})},gEe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,h=t.children,f=rb(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),p=f.length,x=z7(u,i),m=-1;return n.reduce(function(g,y){var j=y.type.defaultProps!==void 0?fe(fe({},y.type.defaultProps),y.props):y.props,w=j[o],b=Qz("number");if(!g[w]){m++;var N;return x?N=Wy(0,p):l&&l[w]&&l[w].hasStack?(N=U7(l[w].stackGroups,c,d),N=n2(h,N,w,i)):(N=NN(b,F7(f,n.filter(function(S){var C,P,_=o in S.props?S.props[o]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[o],A="hide"in S.props?S.props.hide:(P=S.type.defaultProps)===null||P===void 0?void 0:P.hide;return _===w&&!A}),"number",u),a.defaultProps.allowDataOverflow),N=n2(h,N,w,i)),fe(fe({},g),{},Je({},w,fe(fe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Fs(uEe,"".concat(i,".").concat(m%2),null),domain:N,originalDomain:b,isCategorical:x,layout:u})))}return g},{})},xEe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,h="".concat(a,"Id"),f=zs(u,i),p={};return f&&f.length?p=pEe(t,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=gEe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},yEe=function(t){var r=ho(t),n=bi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:aP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Dy(r,n)}},O5=function(t){var r=t.children,n=t.defaultShowTooltip,a=is(r,ku),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},vEe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ji(r&&r.type);return n&&n.indexOf("Bar")>=0})},M5=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bEe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,h=n.children,f=n.margin||{},p=is(h,ku),x=is(h,Od),m=Object.keys(c).reduce(function(N,S){var C=c[S],P=C.orientation;return!C.mirror&&!C.hide?fe(fe({},N),{},Je({},P,N[P]+C.width)):N},{left:f.left||0,right:f.right||0}),g=Object.keys(o).reduce(function(N,S){var C=o[S],P=C.orientation;return!C.mirror&&!C.hide?fe(fe({},N),{},Je({},P,Fs(N,"".concat(P))+C.height)):N},{top:f.top||0,bottom:f.bottom||0}),y=fe(fe({},g),m),j=y.bottom;p&&(y.bottom+=p.props.height||ku.defaultProps.height),x&&r&&(y=wNe(y,a,n,r));var w=d-y.left-y.right,b=u-y.top-y.bottom;return fe(fe({brushBottom:j},y),{},{width:Math.max(w,0),height:Math.max(b,0)})},wEe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},WP=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,f=function(y,j){var w=j.graphicalItems,b=j.stackGroups,N=j.offset,S=j.updateId,C=j.dataStartIndex,P=j.dataEndIndex,_=y.barSize,A=y.layout,k=y.barGap,E=y.barCategoryGap,L=y.maxBarSize,F=M5(A),U=F.numericAxisName,W=F.cateAxisName,V=vEe(w),D=[];return w.forEach(function(T,$){var O=rb(y.data,{graphicalItems:[T],dataStartIndex:C,dataEndIndex:P}),R=T.type.defaultProps!==void 0?fe(fe({},T.type.defaultProps),T.props):T.props,I=R.dataKey,H=R.maxBarSize,he=R["".concat(U,"Id")],ie=R["".concat(W,"Id")],je={},xe=c.reduce(function(Ie,qe){var z=j["".concat(qe.axisType,"Map")],de=R["".concat(qe.axisType,"Id")];z&&z[de]||qe.axisType==="zAxis"||jc();var ee=z[de];return fe(fe({},Ie),{},Je(Je({},qe.axisType,ee),"".concat(qe.axisType,"Ticks"),bi(ee)))},je),pe=xe[W],ye=xe["".concat(W,"Ticks")],X=b&&b[he]&&b[he].hasStack&&INe(T,b[he].stackGroups),B=ji(T.type).indexOf("Bar")>=0,ce=Dy(pe,ye),ve=[],q=V&&vNe({barSize:_,stackGroups:b,totalSize:wEe(xe,W)});if(B){var oe,le,Ne=pt(H)?L:H,Me=(oe=(le=Dy(pe,ye,!0))!==null&&le!==void 0?le:Ne)!==null&&oe!==void 0?oe:0;ve=bNe({barGap:k,barCategoryGap:E,bandSize:Me!==ce?Me:ce,sizeList:q[ie],maxBarSize:Ne}),Me!==ce&&(ve=ve.map(function(Ie){return fe(fe({},Ie),{},{position:fe(fe({},Ie.position),{},{offset:Ie.position.offset-Me/2})})}))}var Le=T&&T.type&&T.type.getComposedData;Le&&D.push({props:fe(fe({},Le(fe(fe({},xe),{},{displayedData:O,props:y,dataKey:I,item:T,bandSize:ce,barPosition:ve,offset:N,stackedData:X,layout:A,dataStartIndex:C,dataEndIndex:P}))),{},Je(Je(Je({key:T.key||"item-".concat($)},U,xe[U]),W,xe[W]),"animationId",S)),childIndex:yde(T,y.children),item:T})}),D},p=function(y,j){var w=y.props,b=y.dataStartIndex,N=y.dataEndIndex,S=y.updateId;if(!tE({props:w}))return null;var C=w.children,P=w.layout,_=w.stackOffset,A=w.data,k=w.reverseStackOrder,E=M5(P),L=E.numericAxisName,F=E.cateAxisName,U=zs(C,n),W=ONe(A,U,"".concat(L,"Id"),"".concat(F,"Id"),_,k),V=c.reduce(function(R,I){var H="".concat(I.axisType,"Map");return fe(fe({},R),{},Je({},H,xEe(w,fe(fe({},I),{},{graphicalItems:U,stackGroups:I.axisType===L&&W,dataStartIndex:b,dataEndIndex:N}))))},{}),D=bEe(fe(fe({},V),{},{props:w,graphicalItems:U}),j==null?void 0:j.legendBBox);Object.keys(V).forEach(function(R){V[R]=u(w,V[R],D,R.replace("Map",""),r)});var T=V["".concat(F,"Map")],$=yEe(T),O=f(w,fe(fe({},V),{},{dataStartIndex:b,dataEndIndex:N,updateId:S,graphicalItems:U,stackGroups:W,offset:D}));return fe(fe({formattedGraphicalItems:O,graphicalItems:U,offset:D,stackGroups:W},$),V)},x=function(g){function y(j){var w,b,N;return eEe(this,y),N=nEe(this,y,[j]),Je(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Je(N,"accessibilityManager",new zAe),Je(N,"handleLegendBBoxUpdate",function(S){if(S){var C=N.state,P=C.dataStartIndex,_=C.dataEndIndex,A=C.updateId;N.setState(fe({legendBBox:S},p({props:N.props,dataStartIndex:P,dataEndIndex:_,updateId:A},fe(fe({},N.state),{},{legendBBox:S}))))}}),Je(N,"handleReceiveSyncEvent",function(S,C,P){if(N.props.syncId===S){if(P===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(C)}}),Je(N,"handleBrushChange",function(S){var C=S.startIndex,P=S.endIndex;if(C!==N.state.dataStartIndex||P!==N.state.dataEndIndex){var _=N.state.updateId;N.setState(function(){return fe({dataStartIndex:C,dataEndIndex:P},p({props:N.props,dataStartIndex:C,dataEndIndex:P,updateId:_},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),Je(N,"handleMouseEnter",function(S){var C=N.getMouseInfo(S);if(C){var P=fe(fe({},C),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var _=N.props.onMouseEnter;at(_)&&_(P,S)}}),Je(N,"triggeredAfterMouseMove",function(S){var C=N.getMouseInfo(S),P=C?fe(fe({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var _=N.props.onMouseMove;at(_)&&_(P,S)}),Je(N,"handleItemMouseEnter",function(S){N.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Je(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Je(N,"handleMouseMove",function(S){S.persist(),N.throttleTriggeredAfterMouseMove(S)}),Je(N,"handleMouseLeave",function(S){N.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var P=N.props.onMouseLeave;at(P)&&P(C,S)}),Je(N,"handleOuterEvent",function(S){var C=xde(S),P=Fs(N.props,"".concat(C));if(C&&at(P)){var _,A;/.*touch.*/i.test(C)?A=N.getMouseInfo(S.changedTouches[0]):A=N.getMouseInfo(S),P((_=A)!==null&&_!==void 0?_:{},S)}}),Je(N,"handleClick",function(S){var C=N.getMouseInfo(S);if(C){var P=fe(fe({},C),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var _=N.props.onClick;at(_)&&_(P,S)}}),Je(N,"handleMouseDown",function(S){var C=N.props.onMouseDown;if(at(C)){var P=N.getMouseInfo(S);C(P,S)}}),Je(N,"handleMouseUp",function(S){var C=N.props.onMouseUp;if(at(C)){var P=N.getMouseInfo(S);C(P,S)}}),Je(N,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Je(N,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseDown(S.changedTouches[0])}),Je(N,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseUp(S.changedTouches[0])}),Je(N,"handleDoubleClick",function(S){var C=N.props.onDoubleClick;if(at(C)){var P=N.getMouseInfo(S);C(P,S)}}),Je(N,"handleContextMenu",function(S){var C=N.props.onContextMenu;if(at(C)){var P=N.getMouseInfo(S);C(P,S)}}),Je(N,"triggerSyncEvent",function(S){N.props.syncId!==void 0&&Bw.emit(Uw,N.props.syncId,S,N.eventEmitterSymbol)}),Je(N,"applySyncEvent",function(S){var C=N.props,P=C.layout,_=C.syncMethod,A=N.state.updateId,k=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)N.setState(fe({dataStartIndex:k,dataEndIndex:E},p({props:N.props,dataStartIndex:k,dataEndIndex:E,updateId:A},N.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,F=S.chartY,U=S.activeTooltipIndex,W=N.state,V=W.offset,D=W.tooltipTicks;if(!V)return;if(typeof _=="function")U=_(D,S);else if(_==="value"){U=-1;for(var T=0;T<D.length;T++)if(D[T].value===S.activeLabel){U=T;break}}var $=fe(fe({},V),{},{x:V.left,y:V.top}),O=Math.min(L,$.x+$.width),R=Math.min(F,$.y+$.height),I=D[U]&&D[U].value,H=i2(N.state,N.props.data,U),he=D[U]?{x:P==="horizontal"?D[U].coordinate:O,y:P==="horizontal"?R:D[U].coordinate}:Xz;N.setState(fe(fe({},S),{},{activeLabel:I,activeCoordinate:he,activePayload:H,activeTooltipIndex:U}))}else N.setState(S)}),Je(N,"renderCursor",function(S){var C,P=N.state,_=P.isTooltipActive,A=P.activeCoordinate,k=P.activePayload,E=P.offset,L=P.activeTooltipIndex,F=P.tooltipAxisBandSize,U=N.getTooltipEventType(),W=(C=S.props.active)!==null&&C!==void 0?C:_,V=N.props.layout,D=S.key||"_recharts-cursor";return Z.createElement(KAe,{key:D,activeCoordinate:A,activePayload:k,activeTooltipIndex:L,chartName:r,element:S,isActive:W,layout:V,offset:E,tooltipAxisBandSize:F,tooltipEventType:U})}),Je(N,"renderPolarAxis",function(S,C,P){var _=Fs(S,"type.axisType"),A=Fs(N.state,"".concat(_,"Map")),k=S.type.defaultProps,E=k!==void 0?fe(fe({},k),S.props):S.props,L=A&&A[E["".concat(_,"Id")]];return v.cloneElement(S,fe(fe({},L),{},{className:xt(_,L.className),key:S.key||"".concat(C,"-").concat(P),ticks:bi(L,!0)}))}),Je(N,"renderPolarGrid",function(S){var C=S.props,P=C.radialLines,_=C.polarAngles,A=C.polarRadius,k=N.state,E=k.radiusAxisMap,L=k.angleAxisMap,F=ho(E),U=ho(L),W=U.cx,V=U.cy,D=U.innerRadius,T=U.outerRadius;return v.cloneElement(S,{polarAngles:Array.isArray(_)?_:bi(U,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(A)?A:bi(F,!0).map(function($){return $.coordinate}),cx:W,cy:V,innerRadius:D,outerRadius:T,key:S.key||"polar-grid",radialLines:P})}),Je(N,"renderLegend",function(){var S=N.state.formattedGraphicalItems,C=N.props,P=C.children,_=C.width,A=C.height,k=N.props.margin||{},E=_-(k.left||0)-(k.right||0),L=$7({children:P,formattedGraphicalItems:S,legendWidth:E,legendContent:d});if(!L)return null;var F=L.item,U=A5(L,GAe);return v.cloneElement(F,fe(fe({},U),{},{chartWidth:_,chartHeight:A,margin:k,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Je(N,"renderTooltip",function(){var S,C=N.props,P=C.children,_=C.accessibilityLayer,A=is(P,ls);if(!A)return null;var k=N.state,E=k.isTooltipActive,L=k.activeCoordinate,F=k.activePayload,U=k.activeLabel,W=k.offset,V=(S=A.props.active)!==null&&S!==void 0?S:E;return v.cloneElement(A,{viewBox:fe(fe({},W),{},{x:W.left,y:W.top}),active:V,label:U,payload:V?F:[],coordinate:L,accessibilityLayer:_})}),Je(N,"renderBrush",function(S){var C=N.props,P=C.margin,_=C.data,A=N.state,k=A.offset,E=A.dataStartIndex,L=A.dataEndIndex,F=A.updateId;return v.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Tg(N.handleBrushChange,S.props.onChange),data:_,x:Ee(S.props.x)?S.props.x:k.left,y:Ee(S.props.y)?S.props.y:k.top+k.height+k.brushBottom-(P.bottom||0),width:Ee(S.props.width)?S.props.width:k.width,startIndex:E,endIndex:L,updateId:"brush-".concat(F)})}),Je(N,"renderReferenceElement",function(S,C,P){if(!S)return null;var _=N,A=_.clipPathId,k=N.state,E=k.xAxisMap,L=k.yAxisMap,F=k.offset,U=S.type.defaultProps||{},W=S.props,V=W.xAxisId,D=V===void 0?U.xAxisId:V,T=W.yAxisId,$=T===void 0?U.yAxisId:T;return v.cloneElement(S,{key:S.key||"".concat(C,"-").concat(P),xAxis:E[D],yAxis:L[$],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:A})}),Je(N,"renderActivePoints",function(S){var C=S.item,P=S.activePoint,_=S.basePoint,A=S.childIndex,k=S.isRange,E=[],L=C.props.key,F=C.item.type.defaultProps!==void 0?fe(fe({},C.item.type.defaultProps),C.item.props):C.item.props,U=F.activeDot,W=F.dataKey,V=fe(fe({index:A,dataKey:W,cx:P.x,cy:P.y,r:4,fill:TP(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},lt(U,!1)),sy(U));return E.push(y.renderActiveDot(U,V,"".concat(L,"-activePoint-").concat(A))),_?E.push(y.renderActiveDot(U,fe(fe({},V),{},{cx:_.x,cy:_.y}),"".concat(L,"-basePoint-").concat(A))):k&&E.push(null),E}),Je(N,"renderGraphicChild",function(S,C,P){var _=N.filterFormatItem(S,C,P);if(!_)return null;var A=N.getTooltipEventType(),k=N.state,E=k.isTooltipActive,L=k.tooltipAxis,F=k.activeTooltipIndex,U=k.activeLabel,W=N.props.children,V=is(W,ls),D=_.props,T=D.points,$=D.isRange,O=D.baseLine,R=_.item.type.defaultProps!==void 0?fe(fe({},_.item.type.defaultProps),_.item.props):_.item.props,I=R.activeDot,H=R.hide,he=R.activeBar,ie=R.activeShape,je=!!(!H&&E&&V&&(I||he||ie)),xe={};A!=="axis"&&V&&V.props.trigger==="click"?xe={onClick:Tg(N.handleItemMouseEnter,S.props.onClick)}:A!=="axis"&&(xe={onMouseLeave:Tg(N.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Tg(N.handleItemMouseEnter,S.props.onMouseEnter)});var pe=v.cloneElement(S,fe(fe({},_.props),xe));function ye(qe){return typeof L.dataKey=="function"?L.dataKey(qe.payload):null}if(je)if(F>=0){var X,B;if(L.dataKey&&!L.allowDuplicatedCategory){var ce=typeof L.dataKey=="function"?ye:"payload.".concat(L.dataKey.toString());X=ny(T,ce,U),B=$&&O&&ny(O,ce,U)}else X=T==null?void 0:T[F],B=$&&O&&O[F];if(ie||he){var ve=S.props.activeIndex!==void 0?S.props.activeIndex:F;return[v.cloneElement(S,fe(fe(fe({},_.props),xe),{},{activeIndex:ve})),null,null]}if(!pt(X))return[pe].concat(Lu(N.renderActivePoints({item:_,activePoint:X,basePoint:B,childIndex:F,isRange:$})))}else{var q,oe=(q=N.getItemByXY(N.state.activeCoordinate))!==null&&q!==void 0?q:{graphicalItem:pe},le=oe.graphicalItem,Ne=le.item,Me=Ne===void 0?S:Ne,Le=le.childIndex,Ie=fe(fe(fe({},_.props),xe),{},{activeIndex:Le});return[v.cloneElement(Me,Ie),null,null]}return $?[pe,null,null]:[pe,null]}),Je(N,"renderCustomized",function(S,C,P){return v.cloneElement(S,fe(fe({key:"recharts-customized-".concat(P)},N.props),N.state))}),Je(N,"renderMap",{CartesianGrid:{handler:Rg,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Rg},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Rg},YAxis:{handler:Rg},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=j.id)!==null&&w!==void 0?w:uh("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=R9(N.triggeredAfterMouseMove,(b=j.throttleDelay)!==null&&b!==void 0?b:1e3/60),N.state={},N}return iEe(y,g),rEe(y,[{key:"componentDidMount",value:function(){var w,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,b=w.children,N=w.data,S=w.height,C=w.layout,P=is(b,ls);if(P){var _=P.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,k=i2(this.state,N,_,A),E=this.state.tooltipTicks[_].coordinate,L=(this.state.offset.top+S)/2,F=C==="horizontal",U=F?{x:E,y:L}:{y:E,x:L},W=this.state.formattedGraphicalItems.find(function(D){var T=D.item;return T.type.name==="Scatter"});W&&(U=fe(fe({},U),W.props.points[_].tooltipPosition),k=W.props.points[_].tooltipPayload);var V={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:A,activePayload:k,activeCoordinate:U};this.setState(V),this.renderCursor(P),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,S;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){L1([is(w.children,ls)],[is(this.props.children,ls)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=is(this.props.children,ls);if(w&&typeof w.props.shared=="boolean"){var b=w.props.shared?"axis":"item";return l.indexOf(b)>=0?b:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var b=this.container,N=b.getBoundingClientRect(),S=V0e(N),C={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},P=N.width/b.offsetWidth||1,_=this.inRange(C.chartX,C.chartY,P);if(!_)return null;var A=this.state,k=A.xAxisMap,E=A.yAxisMap,L=this.getTooltipEventType(),F=T5(this.state,this.props.data,this.props.layout,_);if(L!=="axis"&&k&&E){var U=ho(k).scale,W=ho(E).scale,V=U&&U.invert?U.invert(C.chartX):null,D=W&&W.invert?W.invert(C.chartY):null;return fe(fe({},C),{},{xValue:V,yValue:D},F)}return F?fe(fe({},C),F):null}},{key:"inRange",value:function(w,b){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=w/N,P=b/N;if(S==="horizontal"||S==="vertical"){var _=this.state.offset,A=C>=_.left&&C<=_.left+_.width&&P>=_.top&&P<=_.top+_.height;return A?{x:C,y:P}:null}var k=this.state,E=k.angleAxisMap,L=k.radiusAxisMap;if(E&&L){var F=ho(E);return dO({x:C,y:P},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,b=this.getTooltipEventType(),N=is(w,ls),S={};N&&b==="axis"&&(N.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=sy(this.props,this.handleOuterEvent);return fe(fe({},C),S)}},{key:"addListener",value:function(){Bw.on(Uw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Bw.removeListener(Uw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,b,N){for(var S=this.state.formattedGraphicalItems,C=0,P=S.length;C<P;C++){var _=S[C];if(_.item===w||_.props.key===w.key||b===ji(_.item.type)&&N===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,b=this.state.offset,N=b.left,S=b.top,C=b.height,P=b.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:w},Z.createElement("rect",{x:N,y:S,height:C,width:P})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(b,N){var S=_5(N,2),C=S[0],P=S[1];return fe(fe({},b),{},Je({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(b,N){var S=_5(N,2),C=S[0],P=S[1];return fe(fe({},b),{},Je({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[w])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(w){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[w])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(w){var b=this.state,N=b.formattedGraphicalItems,S=b.activeItem;if(N&&N.length)for(var C=0,P=N.length;C<P;C++){var _=N[C],A=_.props,k=_.item,E=k.type.defaultProps!==void 0?fe(fe({},k.type.defaultProps),k.props):k.props,L=ji(k.type);if(L==="Bar"){var F=(A.data||[]).find(function(D){return kCe(w,D)});if(F)return{graphicalItem:_,payload:F}}else if(L==="RadialBar"){var U=(A.data||[]).find(function(D){return dO(w,D)});if(U)return{graphicalItem:_,payload:U}}else if(Y0(_,S)||X0(_,S)||Bm(_,S)){var W=EPe({graphicalItem:_,activeTooltipItem:S,itemData:E.data}),V=E.activeIndex===void 0?W:E.activeIndex;return{graphicalItem:fe(fe({},_),{},{childIndex:V}),payload:Bm(_,S)?E.data[W]:_.props.data[W]}}}return null}},{key:"render",value:function(){var w=this;if(!tE(this))return null;var b=this.props,N=b.children,S=b.className,C=b.width,P=b.height,_=b.style,A=b.compact,k=b.title,E=b.desc,L=A5(b,YAe),F=lt(L,!1);if(A)return Z.createElement(l5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(z1,gd({},F,{width:C,height:P,title:k,desc:E}),this.renderClipPath(),nE(N,this.renderMap)));if(this.props.accessibilityLayer){var U,W;F.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,F.role=(W=this.props.role)!==null&&W!==void 0?W:"application",F.onKeyDown=function(D){w.accessibilityManager.keyboardEvent(D)},F.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return Z.createElement(l5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",gd({className:xt("recharts-wrapper",S),style:fe({position:"relative",cursor:"default",width:C,height:P},_)},V,{ref:function(T){w.container=T}}),Z.createElement(z1,gd({},F,{width:C,height:P,title:k,desc:E,style:hEe}),this.renderClipPath(),nE(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Je(x,"displayName",r),Je(x,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Je(x,"getDerivedStateFromProps",function(g,y){var j=g.dataKey,w=g.data,b=g.children,N=g.width,S=g.height,C=g.layout,P=g.stackOffset,_=g.margin,A=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var E=O5(g);return fe(fe(fe({},E),{},{updateId:0},p(fe(fe({props:g},E),{},{updateId:0}),y)),{},{prevDataKey:j,prevData:w,prevWidth:N,prevHeight:S,prevLayout:C,prevStackOffset:P,prevMargin:_,prevChildren:b})}if(j!==y.prevDataKey||w!==y.prevData||N!==y.prevWidth||S!==y.prevHeight||C!==y.prevLayout||P!==y.prevStackOffset||!Td(_,y.prevMargin)){var L=O5(g),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},U=fe(fe({},T5(y,w,C)),{},{updateId:y.updateId+1}),W=fe(fe(fe({},L),F),U);return fe(fe(fe({},W),p(fe({props:g},W),y)),{},{prevDataKey:j,prevData:w,prevWidth:N,prevHeight:S,prevLayout:C,prevStackOffset:P,prevMargin:_,prevChildren:b})}if(!L1(b,y.prevChildren)){var V,D,T,$,O=is(b,ku),R=O&&(V=(D=O.props)===null||D===void 0?void 0:D.startIndex)!==null&&V!==void 0?V:A,I=O&&(T=($=O.props)===null||$===void 0?void 0:$.endIndex)!==null&&T!==void 0?T:k,H=R!==A||I!==k,he=!pt(w),ie=he&&!H?y.updateId:y.updateId+1;return fe(fe({updateId:ie},p(fe(fe({props:g},y),{},{updateId:ie,dataStartIndex:R,dataEndIndex:I}),y)),{},{prevChildren:b,dataStartIndex:R,dataEndIndex:I})}return null}),Je(x,"renderActiveDot",function(g,y,j){var w;return v.isValidElement(g)?w=v.cloneElement(g,y):at(g)?w=g(y):w=Z.createElement(G0,y),Z.createElement(Gt,{className:"recharts-active-dot",key:j},w)});var m=v.forwardRef(function(y,j){return Z.createElement(x,gd({},y,{ref:j}))});return m.displayName=x.displayName,m},jEe=WP({chartName:"LineChart",GraphicalChild:sc,axisComponents:[{axisType:"xAxis",AxisComp:Pi},{axisType:"yAxis",AxisComp:ki}],formatAxisMap:MP}),NEe=WP({chartName:"BarChart",GraphicalChild:Fc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pi},{axisType:"yAxis",AxisComp:ki}],formatAxisMap:MP}),D5=WP({chartName:"AreaChart",GraphicalChild:Li,axisComponents:[{axisType:"xAxis",AxisComp:Pi},{axisType:"yAxis",AxisComp:ki}],formatAxisMap:MP});function SEe({data:e,title:t="Analytics",color:r="#3b82f6"}){return s.jsx(ox,{width:"100%",height:300,children:s.jsxs(NEe,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:r,stopOpacity:.9}),s.jsx("stop",{offset:"95%",stopColor:r,stopOpacity:.6})]}),s.jsx("filter",{id:"barShadow",children:s.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodOpacity:"0.2"})})]}),s.jsx(Mf,{strokeDasharray:"3 3",stroke:"#f1f5f9",strokeWidth:1,opacity:.8}),s.jsx(Pi,{dataKey:"name",tick:{fontSize:12,fontWeight:600,fill:"#475569"},axisLine:{stroke:"#cbd5e1",strokeWidth:2},tickLine:{stroke:"#cbd5e1",strokeWidth:1}}),s.jsx(ki,{tick:{fontSize:12,fontWeight:600,fill:"#475569"},axisLine:{stroke:"#cbd5e1",strokeWidth:2},tickLine:{stroke:"#cbd5e1",strokeWidth:1}}),s.jsx(ls,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",fontSize:"14px",fontWeight:"600"}}),s.jsx(Fc,{dataKey:"value",fill:"url(#barGradient)",radius:[6,6,0,0],filter:"url(#barShadow)"})]})})}function Xc(){var A;const{user:e}=ft(),{theme:t,primaryColor:r,secondaryColor:n}=Ur(),[a,i]=v.useState("30d"),[o,l]=v.useState("all"),[c,d]=v.useState(!1),u=sessionStorage.getItem("selectedRole")||(e==null?void 0:e.role)||"White Label Client";console.log(" ANALYTICS PAGE - User:",e==null?void 0:e.email,"Role:",e==null?void 0:e.role,"Selected Role:",u);const{data:h}=ue({queryKey:["/api/end-users/stats"],onSuccess:k=>{console.log(" END-USER STATS DATA:",k)},onError:k=>{console.error(" END-USER STATS ERROR:",k)}}),{data:f}=ue({queryKey:["/api/analytics/revenue-trend"],onSuccess:k=>{console.log(" REVENUE TREND DATA:",k)},onError:k=>{console.error(" REVENUE TREND ERROR:",k)}}),{data:p}=ue({queryKey:["/api/plans/analytics"],onSuccess:k=>{console.log(" PLAN ANALYTICS DATA:",k),k&&(console.log(" PLAN ANALYTICS DETAILS:"),console.log("  - Total Plans:",k.totalPlans||0),console.log("  - Total Revenue:",k.totalRevenue||0),console.log("  - Total Sales:",k.totalSales||0),k.plans&&k.plans.length>0&&(console.log("  - Plans with Sales:"),k.plans.forEach((E,L)=>{console.log(`    Plan ${L+1}: "${E.planName}" - Sales: ${E.totalSales}, Revenue: $${E.totalRevenue}`)})),k.recentPurchases&&k.recentPurchases.length>0&&(console.log("  - Recent Purchases:"),k.recentPurchases.slice(0,3).forEach((E,L)=>{console.log(`    Purchase ${L+1}: ${E.planName} - $${E.amount} by ${E.userEmail}`)})))},onError:k=>{console.error(" PLAN ANALYTICS ERROR:",k)}}),{data:x}=ue({queryKey:["/api/subscriptions/my"],onSuccess:k=>{console.log(" SUBSCRIPTIONS DATA:",k)},onError:k=>{console.error(" SUBSCRIPTIONS ERROR:",k)}}),{data:m}=ue({queryKey:["/api/end-users"],onSuccess:k=>{console.log(" END-USERS DATA:",k),console.log(" END-USERS COUNT:",(k==null?void 0:k.length)||0)},onError:k=>{console.error(" END-USERS ERROR:",k)}}),{data:g}=ue({queryKey:["/api/end-users/activities"],onSuccess:k=>{console.log(" END-USER ACTIVITIES DATA:",k),console.log(" ACTIVITIES COUNT:",(k==null?void 0:k.length)||0),k&&k.length>0&&(console.log(" RECENT ACTIVITIES:"),k.slice(0,5).forEach((E,L)=>{var F;console.log(`  Activity ${L+1}: ${E.activityType} by ${((F=E.user)==null?void 0:F.email)||"Unknown"} - ${E.description}`)}))},onError:k=>{console.error(" END-USER ACTIVITIES ERROR:",k)}}),{data:y}=ue({queryKey:["/api/analytics/client-distribution"],onSuccess:k=>{console.log(" CLIENT DISTRIBUTION DATA:",k)},onError:k=>{console.error(" CLIENT DISTRIBUTION ERROR:",k)}}),{data:j}=ue({queryKey:["/api/analytics/plan-performance"],onSuccess:k=>{console.log(" PLAN PERFORMANCE DATA:",k),console.log(" PLAN PERFORMANCE COUNT:",(k==null?void 0:k.length)||0),k&&k.length>0&&(console.log(" TOP PERFORMING PLANS:"),k.forEach((E,L)=>{console.log(`  Plan ${L+1}: "${E.name}" - Sales: ${E.value}, Revenue: $${E.revenue}`)}))},onError:k=>{console.error(" PLAN PERFORMANCE ERROR:",k)}}),w=f&&f.length>0?f:[{month:"Jul",revenue:89.5},{month:"Aug",revenue:156.75},{month:"Sep",revenue:203.25},{month:"Oct",revenue:287.4},{month:"Nov",revenue:193.42},{month:"Dec",revenue:930.32}];y&&y.length>0;const b=j&&j.length>0?j:[{name:"12 Testing",value:12,revenue:350.99},{name:"asajjjll",value:8,revenue:215.8},{name:"Minnib Ahmed",value:7,revenue:180.5},{name:"Car",value:3,revenue:120.03},{name:"M2",value:2,revenue:63}],N=[{date:"Aug 10",plans:1,purchases:2,revenue:4},{date:"Aug 11",plans:0,purchases:1,revenue:3},{date:"Aug 12",plans:2,purchases:1,revenue:8},{date:"Aug 13",plans:4,purchases:0,revenue:17},{date:"Total",plans:7,purchases:4,revenue:32}],S=(p==null?void 0:p.length)||(x==null?void 0:x.length)||0,C=parseInt((p==null?void 0:p.purchasedUsers)||((A=x==null?void 0:x.filter(k=>k.status==="active"))==null?void 0:A.length)||"7"),P=parseInt((h==null?void 0:h.totalPurchases)||"32"),_=(p==null?void 0:p.reduce((k,E)=>k+(E.totalRevenue||0),0))||930.32;return S>0&&(C/S*100).toFixed(1),s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{isMobileOpen:c,onMobileToggle:()=>d(!c)}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>d(!0),style:{color:r||"#3b82f6"},children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold",style:{color:r||"#3b82f6"},children:"Analytics"}),s.jsx("div",{className:"w-10"})]}),s.jsx(Fr,{title:"Analytics Dashboard",subtitle:"Comprehensive performance metrics and real-time insights"}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Plans"}),s.jsx(ct,{className:"h-4 w-4",style:{color:r}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:S.toLocaleString()}),s.jsxs("p",{className:"text-xs flex items-center",style:{color:n||"#10b981"},children:[s.jsx(eg,{className:"h-3 w-3 mr-1",style:{color:n||"#10b981"}}),"Plans you created"]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Purchased Users"}),s.jsx(ha,{className:"h-4 w-4",style:{color:n}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:C.toLocaleString()}),s.jsxs("p",{className:"text-xs flex items-center",style:{color:n||"#10b981"},children:[s.jsx(eg,{className:"h-3 w-3 mr-1",style:{color:n||"#10b981"}}),"Users who purchased your plans"]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Purchases"}),s.jsx(en,{className:"h-4 w-4",style:{color:r}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P.toLocaleString()}),s.jsxs("p",{className:"text-xs flex items-center",style:{color:n||"#10b981"},children:[s.jsx(eg,{className:"h-3 w-3 mr-1",style:{color:n||"#10b981"}}),"+",Math.floor(P*.08)," this month"]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(Tt,{className:"h-4 w-4",style:{color:n}})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",_.toFixed(2)]}),s.jsxs("p",{className:"text-xs flex items-center",style:{color:n||"#10b981"},children:[s.jsx(eg,{className:"h-3 w-3 mr-1",style:{color:n||"#10b981"}}),"Real revenue from ",P," purchases"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{className:"bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden backdrop-blur-sm",children:[s.jsx(re,{className:"bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg font-bold bg-gradient-to-r from-slate-700 to-slate-900 bg-clip-text text-transparent",children:"Revenue Trend"}),s.jsx("p",{className:"text-sm mt-1 opacity-80",style:{color:r||"#3b82f6"},children:"Monthly revenue growth over time"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-2 w-2 bg-emerald-400 rounded-full animate-pulse shadow-lg"}),s.jsx("span",{className:"text-xs text-emerald-600 font-semibold",children:"Live Data"})]})]})}),s.jsx(G,{className:"p-6 bg-gradient-to-br from-white to-slate-50",children:s.jsx("div",{className:"bg-gradient-to-br from-white via-slate-50 to-blue-50 rounded-xl border border-slate-200 shadow-inner p-4",children:s.jsx(ox,{width:"100%",height:300,children:s.jsxs(D5,{data:w,children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:r||"#3b82f6",stopOpacity:.9}),s.jsx("stop",{offset:"95%",stopColor:r||"#3b82f6",stopOpacity:.1})]}),s.jsx("filter",{id:"shadow",children:s.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"4",floodOpacity:"0.3"})})]}),s.jsx(Mf,{strokeDasharray:"3 3",stroke:"#f1f5f9",strokeWidth:1,opacity:.8}),s.jsx(Pi,{dataKey:"month",tick:{fontSize:12,fontWeight:600,fill:"#475569"},axisLine:{stroke:"#cbd5e1",strokeWidth:2},tickLine:{stroke:"#cbd5e1",strokeWidth:1}}),s.jsx(ki,{tick:{fontSize:12,fontWeight:600,fill:"#475569"},axisLine:{stroke:"#cbd5e1",strokeWidth:2},tickLine:{stroke:"#cbd5e1",strokeWidth:1}}),s.jsx(ls,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",fontSize:"14px",fontWeight:"600"}}),s.jsx(Li,{type:"monotone",dataKey:"revenue",stroke:r||"#3b82f6",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)",filter:"url(#shadow)"})]})})})})]}),s.jsxs(K,{className:"bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden backdrop-blur-sm",children:[s.jsx(re,{className:"bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg font-bold bg-gradient-to-r from-slate-700 to-slate-900 bg-clip-text text-transparent",children:"Plan Purchase Activity"}),s.jsx("p",{className:"text-sm mt-1 opacity-80 text-slate-600",children:"Daily plan creation and purchase metrics"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-2 w-2 bg-blue-400 rounded-full animate-pulse shadow-lg"}),s.jsx("span",{className:"text-xs text-blue-600 font-semibold",children:"Real-time"})]})]})}),s.jsx(G,{className:"p-6 bg-gradient-to-br from-white to-slate-50",children:s.jsx("div",{className:"bg-gradient-to-br from-white via-slate-50 to-blue-50 rounded-xl border border-slate-200 shadow-inner p-4",children:s.jsx(ox,{width:"100%",height:300,children:s.jsxs(jEe,{data:N,children:[s.jsx("defs",{children:s.jsx("filter",{id:"lineShadow",children:s.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodOpacity:"0.2"})})}),s.jsx(Mf,{strokeDasharray:"3 3",stroke:"#f1f5f9",strokeWidth:1,opacity:.8}),s.jsx(Pi,{dataKey:"date",tick:{fontSize:12,fontWeight:600,fill:"#475569"},axisLine:{stroke:"#cbd5e1",strokeWidth:2},tickLine:{stroke:"#cbd5e1",strokeWidth:1}}),s.jsx(ki,{tick:{fontSize:12,fontWeight:600,fill:"#475569"},axisLine:{stroke:"#cbd5e1",strokeWidth:2},tickLine:{stroke:"#cbd5e1",strokeWidth:1}}),s.jsx(ls,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",fontSize:"14px",fontWeight:"600"}}),s.jsx(sc,{type:"monotone",dataKey:"plans",stroke:n||"#10b981",strokeWidth:3,dot:{fill:n||"#10b981",strokeWidth:2,r:5,filter:"url(#lineShadow)"},activeDot:{r:7,stroke:n||"#10b981",strokeWidth:3,fill:"white"},filter:"url(#lineShadow)"}),s.jsx(sc,{type:"monotone",dataKey:"purchases",stroke:r||"#3b82f6",strokeWidth:3,dot:{fill:r||"#3b82f6",strokeWidth:2,r:5,filter:"url(#lineShadow)"},activeDot:{r:7,stroke:r||"#3b82f6",strokeWidth:3,fill:"white"},filter:"url(#lineShadow)"}),s.jsx(sc,{type:"monotone",dataKey:"revenue",stroke:"#f59e0b",strokeWidth:3,dot:{fill:"#f59e0b",strokeWidth:2,r:5,filter:"url(#lineShadow)"},activeDot:{r:7,stroke:"#f59e0b",strokeWidth:3,fill:"white"},filter:"url(#lineShadow)"})]})})})})]}),s.jsxs(K,{className:"bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden backdrop-blur-sm",children:[s.jsx(re,{className:"bg-gradient-to-r from-slate-50 via-green-50 to-emerald-50 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg font-bold bg-gradient-to-r from-slate-700 to-slate-900 bg-clip-text text-transparent",children:"Monthly Growth"}),s.jsx("p",{className:"text-sm mt-1 opacity-80 text-slate-600",children:"Plan purchase revenue growth"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-2 w-2 bg-green-400 rounded-full animate-pulse shadow-lg"}),s.jsx("span",{className:"text-xs text-green-600 font-semibold",children:"Growth"})]})]})}),s.jsx(G,{className:"p-6 bg-gradient-to-br from-white to-slate-50",children:s.jsx("div",{className:"bg-gradient-to-br from-white via-green-50 to-emerald-50 rounded-xl border border-slate-200 shadow-inner p-4",children:s.jsx(ox,{width:"100%",height:300,children:s.jsxs(D5,{data:w,children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorGrowth",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:n||"#10b981",stopOpacity:.9}),s.jsx("stop",{offset:"95%",stopColor:n||"#10b981",stopOpacity:.1})]}),s.jsx("filter",{id:"growthShadow",children:s.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"4",floodOpacity:"0.3"})})]}),s.jsx(Mf,{strokeDasharray:"3 3",stroke:"#f0fdf4",strokeWidth:1,opacity:.8}),s.jsx(Pi,{dataKey:"month",tick:{fontSize:12,fontWeight:600,fill:"#475569"},axisLine:{stroke:"#cbd5e1",strokeWidth:2},tickLine:{stroke:"#cbd5e1",strokeWidth:1}}),s.jsx(ki,{tick:{fontSize:12,fontWeight:600,fill:"#475569"},axisLine:{stroke:"#cbd5e1",strokeWidth:2},tickLine:{stroke:"#cbd5e1",strokeWidth:1}}),s.jsx(ls,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",fontSize:"14px",fontWeight:"600"}}),s.jsx(Li,{type:"monotone",dataKey:"revenue",stroke:n||"#10b981",strokeWidth:3,fillOpacity:1,fill:"url(#colorGrowth)",filter:"url(#growthShadow)"})]})})})})]}),s.jsxs(K,{className:"bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden backdrop-blur-sm",children:[s.jsx(re,{className:"bg-gradient-to-r from-slate-50 via-purple-50 to-indigo-50 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg font-bold bg-gradient-to-r from-slate-700 to-slate-900 bg-clip-text text-transparent",children:"Plan Performance"}),s.jsx("p",{className:"text-sm mt-1 opacity-80 text-slate-600",children:"Sales performance by plan"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-2 w-2 bg-purple-400 rounded-full animate-pulse shadow-lg"}),s.jsx("span",{className:"text-xs text-purple-600 font-semibold",children:"Performance"})]})]})}),s.jsx(G,{className:"p-6 bg-gradient-to-br from-white to-slate-50",children:s.jsx("div",{className:"bg-gradient-to-br from-white via-purple-50 to-indigo-50 rounded-xl border border-slate-200 shadow-inner p-4",children:s.jsx(SEe,{data:b})})})]})]})]})]})]})}function Zz({categories:e,selectedId:t,onSelect:r,excludeId:n,placeholder:a="Select category"}){const[i,o]=v.useState(!1),[l,c]=v.useState(new Set),d=(x=null)=>e.filter(m=>m.parentCategoryId===x&&m.id!==n).map(m=>({...m,children:d(m.id),depth:x===null?0:1})),u=d(),h=x=>{const m=new Set(l);m.has(x)?m.delete(x):m.add(x),c(m)},f=(x,m=0)=>{const g=x.children.length>0,y=l.has(x.id),j=m*16;return s.jsxs("div",{children:[s.jsxs("div",{className:`flex items-center py-1 px-2 hover:bg-gray-100 cursor-pointer ${t===x.id?"bg-blue-50 text-blue-700":""}`,style:{paddingLeft:`${j+8}px`},onClick:()=>{r(x.id),o(!1)},children:[s.jsx(M,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 mr-1",onClick:w=>{w.stopPropagation(),g&&h(x.id)},children:g?y?s.jsx(qa,{className:"h-3 w-3"}):s.jsx(Bi,{className:"h-3 w-3"}):s.jsx("div",{className:"h-3 w-3"})}),s.jsx(Qn,{className:"h-3 w-3 mr-2 text-blue-600"}),s.jsx("span",{className:"text-sm",children:x.name})]}),y&&g&&x.children.map(w=>f(w,m+1))]},x.id)},p=e.find(x=>x.id===t);return s.jsxs("div",{className:"relative",children:[s.jsxs(M,{type:"button",variant:"outline",onClick:()=>o(!i),className:"w-full justify-between",children:[s.jsx("span",{children:p?p.name:a}),s.jsx(qa,{className:"h-4 w-4"})]}),i&&s.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-64 overflow-auto",children:[s.jsx("div",{className:"py-1 px-2 hover:bg-gray-100 cursor-pointer border-b",onClick:()=>{r(void 0),o(!1)},children:s.jsx("span",{className:"text-sm",children:"No Category"})}),u.map(x=>f(x))]})]})}function CEe({selectedProductType:e,setSelectedProductType:t,editingProduct:r,categories:n,dragActive:a,uploadedFile:i,fetchingMeta:o,handleDrag:l,handleDrop:c,handleFileSelect:d,handleUrlChange:u,getAcceptedFileTypes:h,getProductTypeIcon:f,PRODUCT_TYPES:p,onProductTypeChange:x,onCategoryChange:m,selectedCategoryId:g}){const{toast:y}=Ct(),[j,w]=v.useState((r==null?void 0:r.contentUrl)||"");v.useEffect(()=>{const C=document.querySelector('input[name="categoryId"]');C&&(C.value=(g==null?void 0:g.toString())||"")},[g]),v.useEffect(()=>{r!=null&&r.contentUrl?w(r.contentUrl):w("")},[r]);const b=Oe({mutationFn:async C=>await(await Pe("/api/ai/generate-content","POST",{type:"product_description",prompt:C.existingDescription?`Enhance this ${C.productType} product description: "${C.existingDescription}" for product "${C.title}"`:`Create a compelling ${C.productType} product description for: "${C.title}"`,tone:"professional",length:"medium"})).json(),onSuccess:(C,P)=>{const _=document.getElementById("description");_&&(_.value=C.content,_.focus()),y({title:"Description Generated!",description:"AI has created an enhanced product description for you."})},onError:()=>{y({title:"Generation Failed",description:"Unable to generate description. Please try again.",variant:"destructive"})}}),N=()=>{var k,E;const C=document.getElementById("name"),P=document.getElementById("description"),_=(k=C==null?void 0:C.value)==null?void 0:k.trim();if(!_){y({title:"Title Required",description:"Please enter a product title first to generate a description.",variant:"destructive"});return}const A=(E=P==null?void 0:P.value)==null?void 0:E.trim();b.mutate({title:_,existingDescription:A,productType:e})},S=(C,P=!1,_,A=!1)=>{const k=r&&r.contentUrl,E=!!r;return s.jsxs("div",{children:[s.jsxs(Y,{children:[C," ",E&&k&&"(Optional - leave empty to keep existing file)"]}),k&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:" Current File Saved:"}),s.jsx("p",{className:"text-sm font-mono bg-green-100 px-2 py-1 rounded text-xs",children:r.contentUrl||r.name}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"File is preserved - upload a new one only if you want to replace it"})]})]})}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-colors ${a?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:l,onDragLeave:l,onDragOver:l,onDrop:c,children:[s.jsx("input",{type:"file",id:"file-upload",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:_||h(e),onChange:d,required:P&&!k,multiple:A}),s.jsxs("div",{className:"space-y-2",children:[f(e),i?s.jsxs("div",{className:"text-green-600",children:[s.jsx("p",{className:"font-medium",children:i.name}),s.jsx("p",{className:"text-sm",children:"New file uploaded - will replace existing"})]}):s.jsxs("div",{className:"text-gray-600",children:[s.jsx("p",{className:"font-medium",children:k?`Upload new ${C.toLowerCase()} (optional)`:`Drop ${C.toLowerCase()} here`}),s.jsx("p",{className:"text-sm",children:"or click to browse"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Accepts: ",_||h(e)]})]})]})]}),k&&!i&&s.jsx("input",{type:"hidden",name:"contentUrl",value:r.contentUrl})]})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"type",children:"Product Type"}),s.jsxs(an,{name:"type",defaultValue:(r==null?void 0:r.type)||"website_link",onValueChange:C=>{t(C),x==null||x(C)},children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:"Select product type"})}),s.jsx(Yr,{children:p.map(C=>s.jsx(Ae,{value:C.value,children:C.label},C.value))})]})]}),e==="website_link"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"contentUrl",children:"Website URL (Auto-fill from URL)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(J,{id:"contentUrl",name:"contentUrl",type:"url",placeholder:"https://example.com",value:j,onChange:C=>{w(C.target.value),u(C)},required:!0}),s.jsx(M,{type:"button",variant:"outline",disabled:o,children:o?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}):s.jsx(vn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"name",children:"Website Name"}),s.jsx(J,{id:"name",name:"name",defaultValue:(r==null?void 0:r.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"price",children:"Access Price ($)"}),s.jsx(J,{id:"price",name:"price",type:"number",step:"0.01",defaultValue:(r==null?void 0:r.price)||"",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Y,{htmlFor:"description",children:"Website Description"}),s.jsxs(M,{type:"button",size:"sm",variant:"outline",onClick:N,disabled:b.isPending,className:"text-xs",children:[s.jsx(aa,{className:"h-3 w-3 mr-1"}),b.isPending?"Generating...":"AI Generated Description"]})]}),s.jsx(pr,{id:"description",name:"description",defaultValue:(r==null?void 0:r.description)||"",required:!0})]})]}),(e==="video"||e==="audio")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"name",children:e==="video"?"Video Title":"Audio Title"}),s.jsx(J,{id:"name",name:"name",defaultValue:(r==null?void 0:r.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"price",children:"Price ($)"}),s.jsx(J,{id:"price",name:"price",type:"number",step:"0.01",defaultValue:(r==null?void 0:r.price)||"",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Y,{htmlFor:"description",children:"Description"}),s.jsxs(M,{type:"button",size:"sm",variant:"outline",onClick:N,disabled:b.isPending,className:"text-xs",children:[s.jsx(aa,{className:"h-3 w-3 mr-1"}),b.isPending?"Generating...":"AI Generated Description"]})]}),s.jsx(pr,{id:"description",name:"description",placeholder:`Describe your ${e} content...`,defaultValue:(r==null?void 0:r.description)||"",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"duration",children:"Duration (minutes)"}),s.jsx(J,{id:"duration",name:"duration",type:"number",placeholder:"e.g., 30"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"quality",children:e==="video"?"Resolution":"Quality"}),s.jsxs(an,{name:"quality",children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:e==="video"?"Select resolution":"Select quality"})}),s.jsx(Yr,{children:e==="video"?s.jsxs(s.Fragment,{children:[s.jsx(Ae,{value:"720p",children:"720p HD"}),s.jsx(Ae,{value:"1080p",children:"1080p Full HD"}),s.jsx(Ae,{value:"4k",children:"4K Ultra HD"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ae,{value:"128kbps",children:"128 kbps"}),s.jsx(Ae,{value:"256kbps",children:"256 kbps"}),s.jsx(Ae,{value:"320kbps",children:"320 kbps"})]})})]})]})]}),S(`${e==="video"?"Video":"Audio"} File`,!0)]}),e==="article"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"name",children:"Article Title"}),s.jsx(J,{id:"name",name:"name",defaultValue:(r==null?void 0:r.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"price",children:"Price ($)"}),s.jsx(J,{id:"price",name:"price",type:"number",step:"0.01",defaultValue:(r==null?void 0:r.price)||"",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Y,{htmlFor:"description",children:"Article Content"}),s.jsxs(M,{type:"button",size:"sm",variant:"outline",onClick:N,disabled:b.isPending,className:"text-xs",children:[s.jsx(aa,{className:"h-3 w-3 mr-1"}),b.isPending?"Generating...":"AI Generated Description"]})]}),s.jsx(pr,{id:"description",name:"description",placeholder:"Write your article content here...",defaultValue:(r==null?void 0:r.description)||"",className:"min-h-[200px]",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"readingTime",children:"Reading Time (minutes)"}),s.jsx(J,{id:"readingTime",name:"readingTime",type:"number",placeholder:"e.g., 5"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"articleCategory",children:"Article Category"}),s.jsxs(an,{name:"articleCategory",children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:"Select category"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"tutorial",children:"Tutorial"}),s.jsx(Ae,{value:"guide",children:"Guide"}),s.jsx(Ae,{value:"news",children:"News"}),s.jsx(Ae,{value:"review",children:"Review"}),s.jsx(Ae,{value:"opinion",children:"Opinion"})]})]})]})]}),S("Optional Image or Document",!1,"image/*,.pdf,.doc,.docx")]}),e==="document"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"name",children:"Document Title"}),s.jsx(J,{id:"name",name:"name",defaultValue:(r==null?void 0:r.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"price",children:"Price ($)"}),s.jsx(J,{id:"price",name:"price",type:"number",step:"0.01",defaultValue:(r==null?void 0:r.price)||"",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Y,{htmlFor:"description",children:"Document Description"}),s.jsxs(M,{type:"button",size:"sm",variant:"outline",onClick:N,disabled:b.isPending,className:"text-xs",children:[s.jsx(aa,{className:"h-3 w-3 mr-1"}),b.isPending?"Generating...":"AI Generated Description"]})]}),s.jsx(pr,{id:"description",name:"description",placeholder:"Describe what this document contains...",defaultValue:(r==null?void 0:r.description)||"",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"pages",children:"Number of Pages"}),s.jsx(J,{id:"pages",name:"pages",type:"number",placeholder:"e.g., 10"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"documentType",children:"Document Type"}),s.jsxs(an,{name:"documentType",children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:"Select type"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"ebook",children:"E-book"}),s.jsx(Ae,{value:"manual",children:"Manual"}),s.jsx(Ae,{value:"template",children:"Template"}),s.jsx(Ae,{value:"report",children:"Report"}),s.jsx(Ae,{value:"guide",children:"Guide"})]})]})]})]}),S("Document File",!0)]}),e==="ecommerce_product"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"name",children:"Product Name"}),s.jsx(J,{id:"name",name:"name",defaultValue:(r==null?void 0:r.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"price",children:"Price ($)"}),s.jsx(J,{id:"price",name:"price",type:"number",step:"0.01",defaultValue:(r==null?void 0:r.price)||"",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Y,{htmlFor:"description",children:"Product Description"}),s.jsxs(M,{type:"button",size:"sm",variant:"outline",onClick:N,disabled:b.isPending,className:"text-xs",children:[s.jsx(aa,{className:"h-3 w-3 mr-1"}),b.isPending?"Generating...":"AI Generated Description"]})]}),s.jsx(pr,{id:"description",name:"description",placeholder:"Describe your product features, benefits, and specifications...",defaultValue:(r==null?void 0:r.description)||"",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"sku",children:"SKU"}),s.jsx(J,{id:"sku",name:"sku",placeholder:"e.g., PROD-001"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"inventory",children:"Inventory Count"}),s.jsx(J,{id:"inventory",name:"inventory",type:"number",placeholder:"e.g., 100"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"weight",children:"Weight (lbs)"}),s.jsx(J,{id:"weight",name:"weight",type:"number",step:"0.1",placeholder:"e.g., 2.5"})]})]}),S("Product Images",!1,"image/*",!0)]}),e==="digital_product"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"name",children:"Digital Product Name"}),s.jsx(J,{id:"name",name:"name",defaultValue:(r==null?void 0:r.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"price",children:"Price ($)"}),s.jsx(J,{id:"price",name:"price",type:"number",step:"0.01",defaultValue:(r==null?void 0:r.price)||"",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Y,{htmlFor:"description",children:"Product Description"}),s.jsxs(M,{type:"button",size:"sm",variant:"outline",onClick:N,disabled:b.isPending,className:"text-xs",children:[s.jsx(aa,{className:"h-3 w-3 mr-1"}),b.isPending?"Generating...":"AI Generated Description"]})]}),s.jsx(pr,{id:"description",name:"description",placeholder:"Describe your digital product, what it includes, and how customers will benefit...",defaultValue:(r==null?void 0:r.description)||"",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"downloadLimit",children:"Download Limit"}),s.jsx(J,{id:"downloadLimit",name:"downloadLimit",type:"number",placeholder:"e.g., 5 (0 for unlimited)"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"fileFormat",children:"File Format"}),s.jsxs(an,{name:"fileFormat",children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:"Select format"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"pdf",children:"PDF"}),s.jsx(Ae,{value:"zip",children:"ZIP Archive"}),s.jsx(Ae,{value:"mp4",children:"MP4 Video"}),s.jsx(Ae,{value:"mp3",children:"MP3 Audio"}),s.jsx(Ae,{value:"software",children:"Software"})]})]})]})]}),S("Digital Product Files",!0)]}),e==="lms_course"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"name",children:"Course Title"}),s.jsx(J,{id:"name",name:"name",defaultValue:(r==null?void 0:r.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"price",children:"Course Price ($)"}),s.jsx(J,{id:"price",name:"price",type:"number",step:"0.01",defaultValue:(r==null?void 0:r.price)||"",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"description",children:"Course Description"}),s.jsx(pr,{id:"description",name:"description",placeholder:"Describe what students will learn, course objectives, and requirements...",defaultValue:(r==null?void 0:r.description)||"",className:"min-h-[120px]",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"duration",children:"Duration (hours)"}),s.jsx(J,{id:"duration",name:"duration",type:"number",placeholder:"e.g., 20"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"difficulty",children:"Difficulty Level"}),s.jsxs(an,{name:"difficulty",children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:"Select level"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"beginner",children:"Beginner"}),s.jsx(Ae,{value:"intermediate",children:"Intermediate"}),s.jsx(Ae,{value:"advanced",children:"Advanced"})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"students",children:"Max Students"}),s.jsx(J,{id:"students",name:"students",type:"number",placeholder:"e.g., 100"})]})]}),S("Course Materials",!1,void 0,!0)]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"category",children:"Category"}),s.jsx(Zz,{categories:n||[],selectedId:g||(r==null?void 0:r.categoryId),onSelect:C=>m==null?void 0:m(C),placeholder:"Select category"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"accessDuration",children:"Access Duration (days)"}),s.jsx(J,{id:"accessDuration",name:"accessDuration",type:"number",placeholder:"0 for lifetime access",defaultValue:(r==null?void 0:r.accessDuration)||""})]})]}),s.jsx("input",{type:"hidden",name:"imageUrl",defaultValue:(r==null?void 0:r.imageUrl)||""}),s.jsx("input",{type:"hidden",name:"categoryId",defaultValue:g||(r==null?void 0:r.categoryId)||""}),s.jsx("img",{id:"image-preview",className:"mt-3 max-w-full h-32 object-cover rounded-lg hidden",alt:"Preview"})]})}const I5=[{value:"website_link",label:"Website Link"},{value:"video",label:"Video"},{value:"audio",label:"Audio"},{value:"document",label:"Document"},{value:"article",label:"Article"},{value:"ecommerce_product",label:"E-commerce Product"},{value:"digital_product",label:"Digital Product"},{value:"lms_course",label:"LMS Course"}];function Qc(){const{user:e}=ft(),{theme:t,primaryColor:r,secondaryColor:n}=Ur(),a=Zt(),[i,o]=v.useState(!1),[l,c]=v.useState(null),[d,u]=v.useState(""),[h,f]=v.useState(!1),[p,x]=v.useState(!1),[m,g]=v.useState(null),[y,j]=v.useState("website_link"),[w,b]=v.useState(null),[N,S]=v.useState(""),[C,P]=v.useState(void 0),[_,A]=v.useState(!1);sessionStorage.getItem("selectedRole")||e!=null&&e.role;const k=(B=.1,ce=135)=>{const ve=r||"#2563EB",q=n||"#64748B",oe=Math.round(B*255).toString(16).padStart(2,"0"),le=Math.round(B*.6*255).toString(16).padStart(2,"0");return{background:`linear-gradient(${ce}deg, ${ve}${oe}, ${q}${le})`}},E=(B=!1,ce=1)=>{const oe=B?n||"#64748B":r||"#2563EB";if(ce===1)return{backgroundColor:oe};const le=Math.round(ce*255).toString(16).padStart(2,"0");return{backgroundColor:`${oe}${le}`}},L=(B=!1)=>{const ce=r||"#2563EB",ve=n||"#64748B";return B?{background:`linear-gradient(135deg, ${ce}E6, ${ve}CC)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{background:`linear-gradient(135deg, ${ce}, ${ve})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}},F=(B="primary")=>{const ce=r||"#2563EB",ve=n||"#64748B";switch(B){case"success":return{backgroundColor:"#10B981"};case"warning":return{backgroundColor:"#F59E0B"};case"secondary":return{backgroundColor:ve};case"neutral":return{backgroundColor:"#6B7280"};default:return{backgroundColor:ce}}},{data:U,isLoading:W}=ue({queryKey:["/api/products"]}),{data:V}=ue({queryKey:["/api/categories"]}),D=Oe({mutationFn:async B=>Pe("/api/products","POST",B),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/products"]}),o(!1),c(null),P(void 0),g(null),j("website_link"),ai({title:"Product Created",description:"Your product has been created successfully."})}}),T=Oe({mutationFn:async({id:B,...ce})=>Pe(`/api/products/${B}`,"PUT",ce),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/products"]}),c(null),o(!1),P(void 0),g(null),j("website_link"),ai({title:"Product Updated",description:"Your product has been updated successfully."})}}),$=Oe({mutationFn:async B=>Pe(`/api/products/${B}`,"DELETE"),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/products"]}),ai({title:"Product Deleted",description:"Product has been deleted successfully."})}}),O=async B=>{if(!(!B||!B.startsWith("http"))){f(!0);try{const ve=await(await fetch(`https://api.microlink.io/?url=${encodeURIComponent(B)}`)).json();if(ve.status==="success"&&ve.data){const{title:q,description:oe,image:le}=ve.data,Ne=document.querySelector('input[name="name"]'),Me=document.querySelector('textarea[name="description"]'),Le=document.querySelector('input[name="contentUrl"]'),Ie=document.querySelector("#image-preview"),qe=document.querySelector('input[name="imageUrl"]');Ne&&q&&(Ne.value=q),Me&&oe&&(Me.value=oe),Le&&(Le.value=B),le&&le.url&&(b(le.url),Ie&&(Ie.src=le.url,Ie.style.display="block"),qe&&(qe.value=le.url)),ai({title:"URL Meta Fetched",description:`Product details ${le!=null&&le.url?"and image":""} have been auto-filled from the URL.`})}}catch{ai({title:"Error",description:"Failed to fetch URL metadata. Please enter details manually.",variant:"destructive"})}finally{f(!1)}}},R=B=>{const ce=B.target.value;if(u(ce),ce&&ce.startsWith("http")){const ve=setTimeout(()=>{O(ce)},1e3);return()=>clearTimeout(ve)}},I=B=>{switch(B){case"video":return".mp4,.mov,.avi,.mkv,.webm";case"audio":return".mp3,.wav,.ogg,.m4a";case"document":return".pdf,.doc,.docx,.txt,.rtf";case"article":return".md,.txt,.html";case"ecommerce_product":case"digital_product":case"lms_course":return".zip,.pdf,.mp4,.mp3";default:return"image/*"}},H=B=>{switch(B){case"video":return s.jsx(Uq,{className:"h-8 w-8"});case"audio":return s.jsx(zq,{className:"h-8 w-8"});case"document":return s.jsx(Bt,{className:"h-8 w-8"});case"article":return s.jsx(Jf,{className:"h-8 w-8"});case"ecommerce_product":return s.jsx(en,{className:"h-8 w-8"});case"digital_product":return s.jsx(Sn,{className:"h-8 w-8"});case"lms_course":return s.jsx(Jf,{className:"h-8 w-8"});default:return s.jsx(Dx,{className:"h-8 w-8"})}},he=B=>{B.preventDefault(),B.stopPropagation(),B.type==="dragenter"||B.type==="dragover"?x(!0):B.type==="dragleave"&&x(!1)},ie=B=>{if(B.preventDefault(),B.stopPropagation(),x(!1),B.dataTransfer.files&&B.dataTransfer.files[0]){const ce=B.dataTransfer.files[0];xe(ce)}},je=B=>{if(B.preventDefault(),B.target.files&&B.target.files[0]){const ce=B.target.files[0];xe(ce)}},xe=B=>{var Me;const ce=I(y).split(","),ve="."+((Me=B.name.split(".").pop())==null?void 0:Me.toLowerCase());if(!ce.some(Le=>Le.trim()===ve||Le.includes("/*")&&B.type.startsWith(Le.replace("/*","")))){ai({title:"Invalid File Type",description:`Please upload a file matching the ${y} type. Expected: ${ce.join(", ")}`,variant:"destructive"});return}g(B);const oe=URL.createObjectURL(B),le=document.querySelector("#image-preview"),Ne=document.querySelector('input[name="imageUrl"]');le&&B.type.startsWith("image/")&&(le.src=oe,le.style.display="block"),Ne&&(Ne.value=oe),ai({title:"File Uploaded",description:`${B.name} has been uploaded successfully.`})},pe=async B=>{B.preventDefault();const ce=new FormData(B.currentTarget),ve=ce.get("categoryId");let q=ce.get("contentUrl")||"";if(m)try{const le=new FormData;le.append("file",m);const Ne=await fetch("/api/upload",{method:"POST",body:le});if(!Ne.ok)throw new Error("File upload failed");const{filename:Me}=await Ne.json();q=Me}catch(le){console.error("File upload error:",le),ai({title:"Upload Error",description:"Failed to upload file. Please try again.",variant:"destructive"});return}else l&&l.contentUrl&&y!=="website_link"&&(q=l.contentUrl);const oe={name:ce.get("name"),description:ce.get("description"),price:ce.get("price"),type:ce.get("type"),categoryId:ve&&ve!=="none"?parseInt(ve):null,contentUrl:q,accessDuration:ce.get("accessDuration")?parseInt(ce.get("accessDuration")):null,imageUrl:ce.get("imageUrl"),isActive:ce.get("isActive")==="on"};l?T.mutate({id:l.id,...oe}):D.mutate(oe)},ye=B=>{c(B),j(B.type||"document"),P(B.categoryId||void 0),g(null),o(!0)},X=B=>{confirm("Are you sure you want to delete this product?")&&$.mutate(B)};return W?s.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[s.jsx(kr,{isMobileOpen:_,onMobileToggle:()=>A(!_)}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"lg:hidden bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>A(!0),className:"text-muted-foreground",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-card-foreground",children:"Product Manager"}),s.jsx("div",{className:"w-10"})," "]}),s.jsx(Fr,{title:"Product Manager",subtitle:"Manage your products and inventory"}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-center py-12",children:"Loading products..."})})]})]}):s.jsxs("div",{className:"flex h-screen overflow-hidden",children:[s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-gray-850 dark:to-gray-900"}),s.jsx("div",{className:"fixed inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-white/40 via-gray-50/20 to-gray-100/30 dark:from-gray-800/30 dark:via-gray-850/20 dark:to-gray-900/40"}),s.jsx(kr,{isMobileOpen:_,onMobileToggle:()=>A(!_)}),s.jsxs("main",{className:"flex-1 overflow-y-auto relative z-10",children:[s.jsxs("div",{className:"lg:hidden backdrop-blur-xl bg-white/95 dark:bg-gray-900/95 border-b border-gray-200/60 dark:border-gray-700/60 px-4 py-3 flex items-center justify-between shadow-sm",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>A(!0),className:"text-gray-600 dark:text-gray-300 hover:bg-gray-100/60 dark:hover:bg-gray-800/60",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold bg-gradient-to-r bg-clip-text text-transparent",style:L(),children:"Product Manager"}),s.jsx("div",{className:"w-10"})]}),s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0",style:k(.12,135)}),s.jsx("div",{className:"relative backdrop-blur-sm bg-white/50 dark:bg-gray-900/50 border-b border-gray-200/40 dark:border-gray-700/40",children:s.jsx("div",{className:"px-6 py-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r bg-clip-text text-transparent mb-2",style:L(!1),children:"Product Manager"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Manage your products and inventory with professional style"})]}),s.jsx("div",{className:"hidden md:flex items-center space-x-4",children:s.jsx("div",{className:"backdrop-blur-md rounded-2xl p-4 border border-gray-200/50 dark:border-gray-700/50",style:E(.15),children:s.jsx(Ot,{className:"h-8 w-8 text-white"})})})]})})})]}),s.jsxs("div",{className:"px-6 py-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(K,{className:"backdrop-blur-md bg-white/80 dark:bg-gray-800/80 border-gray-200/70 dark:border-gray-700/70 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Products"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(U==null?void 0:U.length)||0})]}),s.jsx("div",{className:"p-3 rounded-xl",style:E(!1,1),children:s.jsx(Ot,{className:"h-6 w-6 text-white"})})]})})}),s.jsx(K,{className:"backdrop-blur-md bg-white/80 dark:bg-gray-800/80 border-gray-200/70 dark:border-gray-700/70 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Products"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(U==null?void 0:U.filter(B=>B.isActive).length)||0})]}),s.jsx("div",{className:"p-3 rounded-xl",style:E(!0,1),children:s.jsx(_t,{className:"h-6 w-6 text-white"})})]})})}),s.jsx(K,{className:"backdrop-blur-md bg-white/80 dark:bg-gray-800/80 border-gray-200/70 dark:border-gray-700/70 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Categories"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(V==null?void 0:V.length)||0})]}),s.jsx("div",{className:"p-3 rounded-xl",style:F("secondary"),children:s.jsx(wn,{className:"h-6 w-6 text-white"})})]})})}),s.jsx(K,{className:"backdrop-blur-md bg-white/80 dark:bg-gray-800/80 border-gray-200/70 dark:border-gray-700/70 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Value"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",(U==null?void 0:U.reduce((B,ce)=>B+(parseFloat(ce.price)||0),0).toFixed(2))||"0.00"]})]}),s.jsx("div",{className:"p-3 rounded-xl",style:F("secondary"),children:s.jsx(ha,{className:"h-6 w-6 text-white"})})]})})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"relative flex-1 sm:w-80",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(J,{placeholder:"Search products...",value:N,onChange:B=>S(B.target.value),className:"pl-10 w-full backdrop-blur-md bg-white/90 dark:bg-gray-800/90 border-gray-200/70 dark:border-gray-700/70 focus:bg-white dark:focus:bg-gray-800 focus:border-2 transition-all duration-200",style:{focusBorderColor:r||"#2563EB","--tw-ring-color":r||"#2563EB"}})]})}),s.jsxs(M,{onClick:()=>{o(!0),c(null),P(void 0),g(null),j("website_link")},className:"text-white font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 w-full sm:w-auto hover:scale-105 border-2 border-white/20",style:E(!1,1),children:[s.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Create Product"]})]}),(i||l)&&s.jsxs(K,{className:"mb-8 backdrop-blur-md bg-white/90 dark:bg-gray-800/90 border-gray-200/70 dark:border-gray-700/70 shadow-xl",children:[s.jsx(re,{className:"rounded-t-lg border-b border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-gray-800 dark:to-gray-900",children:s.jsx(ne,{className:"text-2xl text-gray",children:l?"Edit Product":"Create New Product"})}),s.jsx(G,{className:"p-6",children:s.jsxs("form",{onSubmit:pe,className:"space-y-6",children:[s.jsx(CEe,{selectedProductType:y,setSelectedProductType:j,editingProduct:l,categories:V,dragActive:p,uploadedFile:m,fetchingMeta:h,handleDrag:he,handleDrop:ie,handleFileSelect:je,handleUrlChange:R,getAcceptedFileTypes:I,getProductTypeIcon:H,PRODUCT_TYPES:I5,onProductTypeChange:B=>{const ce=y;if(j(B),ce!==B){g(null);const ve=document.querySelector('input[type="file"]');ve&&(ve.value="")}if(ce==="website_link"&&B!=="website_link"){b(null);const ve=document.querySelector("#image-preview"),q=document.querySelector('input[name="imageUrl"]');ve&&(ve.style.display="none",ve.src=""),q&&(q.value="")}if(ce!=="website_link"&&B==="website_link"){const ve=document.querySelector('input[name="contentUrl"]');ve&&ve.value&&ve.value.startsWith("http")&&O(ve.value)}},onCategoryChange:B=>P(B),selectedCategoryId:C},l?`edit-${l.id}`:"create"),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",defaultChecked:(l==null?void 0:l.isActive)??!0,className:"rounded"}),s.jsx(Y,{htmlFor:"isActive",children:"Active Product"})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(M,{type:"submit",disabled:D.isPending||T.isPending,children:D.isPending||T.isPending?"Saving...":l?"Update Product":"Create Product"}),s.jsx(M,{type:"button",variant:"outline",onClick:()=>{o(!1),c(null),g(null)},children:"Cancel"})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.isArray(U)&&U.filter(B=>{if(!N)return!0;const ce=N.toLowerCase();return B.name.toLowerCase().includes(ce)||B.description.toLowerCase().includes(ce)||B.type.toLowerCase().includes(ce)}).map(B=>{var ce;return s.jsxs(K,{className:"backdrop-blur-md bg-white/80 dark:bg-gray-800/80 border-gray-200/60 dark:border-gray-700/60 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 group",children:[s.jsx(re,{className:"pb-3 rounded-t-lg",style:k(.04,110),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"p-2 rounded-lg",style:k(.85,60),children:s.jsx(Ot,{className:"h-4 w-4 text-white"})}),s.jsx(ne,{className:"text-lg bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-200 bg-clip-text text-transparent",children:B.name})]}),s.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>ye(B),className:"h-8 w-8 p-0 hover:bg-gray-100 dark:hover:bg-gray-700",children:s.jsx(up,{className:"h-4 w-4",style:{color:r||"#2563EB"}})}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>X(B.id),className:"h-8 w-8 p-0 hover:bg-red-100 dark:hover:bg-red-900/30",children:s.jsx(Ui,{className:"h-4 w-4 text-red-600"})})]})]})}),s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-full h-32 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(()=>{if(B.imageUrl&&B.imageUrl.trim()!=="")return s.jsx("img",{src:B.imageUrl,alt:B.name,className:"w-full h-full object-cover",onError:ve=>{const q=ve.target;q.style.display="none";const oe=q.parentElement;oe&&(oe.innerHTML=`
                                    <div class="w-full h-full flex items-center justify-center">
                                      <svg class="h-8 w-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                      </svg>
                                    </div>
                                  `)}});if(B.attachments&&Array.isArray(B.attachments)&&B.attachments.length>0){const ve=B.attachments.find(q=>{var oe,le;return((oe=q.type)==null?void 0:oe.startsWith("image/"))||q.type==="image"||((le=q.name)==null?void 0:le.match(/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i))});if(ve)return s.jsx("img",{src:ve.url,alt:B.name,className:"w-full h-full object-cover",onError:q=>{const oe=q.target;oe.style.display="none";const le=oe.parentElement;le&&(le.innerHTML=`
                                      <div class="w-full h-full flex items-center justify-center">
                                        <svg class="h-8 w-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                        </svg>
                                      </div>
                                    `)}})}return s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Dx,{className:"h-8 w-8 text-gray-400"})})})()}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm line-clamp-2 leading-relaxed",children:B.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"p-1.5 rounded-full",style:E(!0,1),children:s.jsx(Tt,{className:"h-3 w-3 text-white"})}),s.jsxs("span",{className:"font-bold text-lg bg-gradient-to-r bg-clip-text text-transparent",style:L(),children:["$",B.price]})]}),s.jsx(be,{variant:B.isActive?"default":"secondary",className:B.isActive?"text-white border-0 shadow-md":"bg-gray-100 text-gray-600 border-gray-200",style:B.isActive?E(!0,1):{},children:B.isActive?"Active":"Inactive"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(be,{variant:"outline",className:"text-xs border-gray-200 text-gray-700 hover:border-gray-300 transition-all duration-200",style:k(.08,90),children:((ce=I5.find(ve=>ve.value===B.type))==null?void 0:ce.label)||B.type}),B.contentUrl&&s.jsxs(be,{variant:"outline",className:"text-xs border-gray-200 text-gray-700 hover:border-gray-300 transition-all duration-200",style:k(.08,90),children:[s.jsx(Jl,{className:"h-3 w-3 mr-1"}),"Link"]})]}),B.contentUrl&&B.type!=="website_link"&&s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-800 dark:to-slate-800 px-3 py-2 rounded-lg font-mono truncate border border-gray-200 dark:border-gray-700",children:B.contentUrl.split("/").pop()||B.contentUrl}),B.contentUrl&&B.type==="website_link"&&s.jsxs("a",{href:B.contentUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm font-medium truncate group transition-all duration-200",style:{color:r||"#2563EB"},children:["View Product",s.jsx("svg",{className:"ml-1 h-3 w-3 transform group-hover:translate-x-1 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]},B.id)})}),(!U||U.length===0)&&s.jsxs("div",{className:"text-center py-16",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-100 dark:bg-gray-800 opacity-20"})}),s.jsx(Ot,{className:"relative mx-auto h-16 w-16 text-gray-400"})]}),s.jsx("h3",{className:"mt-6 text-lg font-semibold text-gray-900 dark:text-gray-100",children:"No products yet"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400 max-w-sm mx-auto",children:"Start building your product catalog by creating your first product. You can add digital products, courses, and more."}),s.jsx("div",{className:"mt-8",children:s.jsxs(M,{onClick:()=>o(!0),className:"text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",style:k(1,135),children:[s.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Create Your First Product"]})})]})]})]})]})}function PEe({feature:e,description:t}){const r=()=>{window.location.href="/pricing"};return s.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-6",children:s.jsxs(K,{className:"max-w-md w-full text-center border-2 border-orange-200 bg-gradient-to-br from-orange-50 to-yellow-50",children:[s.jsxs(re,{className:"pb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(jS,{className:"w-8 h-8 text-white"})}),s.jsxs(ne,{className:"text-2xl text-gray-900 flex items-center justify-center gap-2",children:[s.jsx(dK,{className:"w-6 h-6 text-orange-500"}),"Upgrade Your Plan"]}),s.jsxs(tt,{className:"text-gray-600 text-base",children:["Access to ",s.jsx("span",{className:"font-semibold text-orange-600",children:e})," is not included in your current plan.",t&&s.jsx("span",{className:"block mt-2 text-sm",children:t})]})]}),s.jsxs(G,{className:"pt-0",children:[s.jsx(M,{onClick:r,className:"w-full bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white py-3 mb-4",size:"lg",children:"Upgrade Now"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Contact support or upgrade to a higher-tier plan to unlock this feature."})]})]})})}function Jz({feature:e,featureName:t,description:r,children:n}){const{data:a,isLoading:i}=AL();return i?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:"Loading..."}):mne(a,e)?s.jsx(s.Fragment,{children:n}):s.jsx(PEe,{feature:t,description:r})}function eB({category:e,depth:t,expandedCategories:r,toggleCategory:n,handleEdit:a,handleDelete:i,allCategories:o,primaryColor:l,secondaryColor:c}){var f;const d=r.has(e.id),u=e.children&&e.children.length>0,h=t*20;return s.jsxs(s.Fragment,{children:[s.jsxs(fu,{children:[s.jsx(Bn,{children:s.jsxs("div",{className:"flex items-center space-x-2",style:{marginLeft:`${h}px`},children:[s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>u&&n(e.id),className:"h-6 w-6 p-0 hover:bg-gray-100",disabled:!u,children:u?d?s.jsx(qa,{className:"h-4 w-4"}):s.jsx(Bi,{className:"h-4 w-4"}):s.jsx("div",{className:"h-4 w-4"})}),s.jsx(Qn,{className:"h-4 w-4",style:{color:l||"#3b82f6"}}),s.jsx("span",{className:"font-medium",children:e.name}),u&&s.jsx(be,{variant:"outline",className:"ml-2 text-xs",children:e.children.length})]})}),s.jsx(Bn,{children:e.parentCategoryId?s.jsx(be,{variant:"outline",children:((f=o.find(p=>p.id===e.parentCategoryId))==null?void 0:f.name)||"Unknown"}):s.jsx("span",{className:"text-gray-500",children:"Root Category"})}),s.jsx(Bn,{children:s.jsx("span",{className:"text-sm text-gray-600",children:e.description||"No description"})}),s.jsx(Bn,{children:s.jsx(be,{variant:e.isActive?"default":"secondary",className:(e.isActive,"text-white"),style:{backgroundColor:e.isActive?l||"#3b82f6":c||"#64748b"},children:e.isActive?"Active":"Inactive"})}),s.jsx(Bn,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>a(e),className:"h-8 w-8 p-0 hover:bg-opacity-20",style:{color:c||"#64748b",backgroundColor:"transparent"},onMouseEnter:p=>{p.currentTarget.style.backgroundColor=`${c||"#64748b"}20`},onMouseLeave:p=>{p.currentTarget.style.backgroundColor="transparent"},children:s.jsx(up,{className:"h-4 w-4"})}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>i(e.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:s.jsx(Ui,{className:"h-4 w-4"})})]})})]}),d&&u&&e.children.map(p=>s.jsx(eB,{category:p,depth:t+1,expandedCategories:r,toggleCategory:n,handleEdit:a,handleDelete:i,allCategories:o,primaryColor:l,secondaryColor:c},p.id))]})}function kEe(){const{primaryColor:e,secondaryColor:t}=Ur(),[r,n]=v.useState(!1),[a,i]=v.useState(null),[o,l]=v.useState(new Set),[c,d]=v.useState(!1),[u,h]=v.useState({name:"",description:"",parentCategoryId:void 0}),{toast:f}=Ct(),p=Zt(),{data:x=[],isLoading:m}=ue({queryKey:["/api/categories"]}),g=Oe({mutationFn:k=>Pe("/api/categories","POST",k),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/categories"]}),n(!1),w(),f({title:"Success",description:"Category created successfully"})},onError:()=>{f({title:"Error",description:"Failed to create category",variant:"destructive"})}}),y=Oe({mutationFn:({id:k,data:E})=>Pe(`/api/categories/${k}`,"PUT",E),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/categories"]}),n(!1),w(),i(null),f({title:"Success",description:"Category updated successfully"})},onError:()=>{f({title:"Error",description:"Failed to update category",variant:"destructive"})}}),j=Oe({mutationFn:k=>Pe(`/api/categories/${k}`,"DELETE"),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/categories"]}),f({title:"Success",description:"Category deleted successfully"})},onError:()=>{f({title:"Error",description:"Failed to delete category",variant:"destructive"})}}),w=()=>{h({name:"",description:"",parentCategoryId:void 0})},b=k=>{if(k.preventDefault(),!u.name.trim()){f({title:"Error",description:"Category name is required",variant:"destructive"});return}const E={name:u.name.trim(),description:u.description.trim()||null,parentCategoryId:u.parentCategoryId||null,whiteLabelId:2};a?y.mutate({id:a.id,data:E}):g.mutate(E)},N=k=>{i(k),h({name:k.name,description:k.description||"",parentCategoryId:k.parentCategoryId||void 0}),n(!0)},S=k=>{confirm("Are you sure you want to delete this category?")&&j.mutate(k)},C=()=>{w(),i(null),n(!0)},P=(k=null,E=0)=>x.filter(L=>L.parentCategoryId===k).map(L=>({...L,children:P(L.id,E+1),depth:E})),_=P(),A=k=>{l(E=>{const L=new Set(E);return L.has(k)?L.delete(k):L.add(k),L})};return m?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg",children:"Loading categories..."})}):s.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{isMobileOpen:c,onMobileToggle:()=>d(!c)}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>d(!0),className:"text-gray-600",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Category Management"}),s.jsx("div",{className:"w-10"})," "]}),s.jsx(Fr,{title:"Category Management"}),s.jsx("main",{className:"flex-1 overflow-auto p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Category Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Organize your products with hierarchical categories"})]}),s.jsxs(ar,{open:r,onOpenChange:n,children:[s.jsx(Yv,{asChild:!0,children:s.jsxs(M,{onClick:C,className:"flex items-center gap-2 text-white",style:{backgroundColor:e||"#3b82f6"},children:[s.jsx(Zn,{className:"h-4 w-4"}),"New Category"]})}),s.jsxs(Yt,{className:"sm:max-w-md",children:[s.jsxs(Xt,{children:[s.jsx(Qt,{children:a?"Edit Category":"Create New Category"}),s.jsx(gs,{children:a?"Update the category information below.":"Fill in the details to create a new category for organizing your products."})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"name",style:{color:t||"#64748b"},children:"Category Name *"}),s.jsx(J,{id:"name",value:u.name,onChange:k=>h({...u,name:k.target.value}),placeholder:"Enter category name",required:!0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Y,{htmlFor:"description",style:{color:t||"#64748b"},children:"Description"}),s.jsx(IC,{titleFieldId:"name",descriptionFieldId:"description",contentType:"category",onContentGenerated:k=>h({...u,description:k})})]}),s.jsx(pr,{id:"description",value:u.description,onChange:k=>h({...u,description:k.target.value}),placeholder:"Enter category description (optional)",rows:3})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"parentCategory",style:{color:t||"#64748b"},children:"Parent Category (Optional)"}),s.jsx(Zz,{categories:x,selectedId:u.parentCategoryId,onSelect:k=>h({...u,parentCategoryId:k}),excludeId:a==null?void 0:a.id})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>n(!1),className:"border-2 text-white",style:{borderColor:t||"#64748b",backgroundColor:t||"#64748b"},children:"Cancel"}),s.jsx(M,{type:"submit",disabled:g.isPending||y.isPending,className:"text-white",style:{backgroundColor:e||"#3b82f6"},children:g.isPending||y.isPending?"Saving...":a?"Update":"Create"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Categories"}),s.jsx(Qn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:x.length})})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Parent Categories"}),s.jsx(Wq,{className:"h-4 w-4",style:{color:t||"#64748b"}})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:x.filter(k=>!k.parentCategoryId).length})})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Sub Categories"}),s.jsx(Qn,{className:"h-4 w-4",style:{color:t||"#64748b"}})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:x.filter(k=>k.parentCategoryId).length})})]})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"All Categories"})}),s.jsx(G,{className:"p-0",children:s.jsxs(jC,{children:[s.jsx(NC,{children:s.jsxs(fu,{style:{borderBottomColor:t||"#64748b"},children:[s.jsx(os,{style:{color:t||"#64748b"},children:"Category Name"}),s.jsx(os,{style:{color:t||"#64748b"},children:"Parent Category"}),s.jsx(os,{style:{color:t||"#64748b"},children:"Description"}),s.jsx(os,{style:{color:t||"#64748b"},children:"Status"}),s.jsx(os,{style:{color:t||"#64748b"},children:"Actions"})]})}),s.jsxs(SC,{children:[_.map(k=>s.jsx(eB,{category:k,depth:0,expandedCategories:o,toggleCategory:A,handleEdit:N,handleDelete:S,allCategories:x,primaryColor:e,secondaryColor:t},k.id)),x.length===0&&s.jsx(fu,{children:s.jsx(Bn,{colSpan:5,className:"text-center py-8",children:s.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[s.jsx(Qn,{className:"h-12 w-12 text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"No categories created yet"}),s.jsx(M,{onClick:C,variant:"outline",children:"Create Your First Category"})]})})})]})]})})]})]})})]})]})}function _Ee(){return s.jsx(Jz,{feature:"categories",featureName:"Categories Management",description:"Create and organize product categories to better structure your content and make it easier for customers to find what they need.",children:s.jsx(kEe,{})})}function AEe(){const{user:e}=ft(),{canManageUsers:t}=$Y(),{primaryColor:r,secondaryColor:n}=Ur(),a=Zt(),[i,o]=v.useState(""),[l,c]=v.useState("all"),[d,u]=v.useState(!1),[h,f]=v.useState(null),[p,x]=v.useState(!1),[m,g]=v.useState(!1),[y,j]=v.useState(null),[w,b]=v.useState(!1),[N,S]=v.useState({firstName:"",lastName:"",username:"",password:"",email:""}),[C,P]=v.useState(!1),[_,A]=v.useState("single"),[k,E]=v.useState({email:"",firstName:"",lastName:""}),[L,F]=v.useState(null),[U,W]=v.useState([]),[V,D]=v.useState(""),[T,$]=v.useState(!1),O=e==null?void 0:e.role;if(!t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-24 w-24 text-red-400",children:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.732 15.5c-.77.833-.73 2.5 1.732 2.5z"})})}),s.jsx("h1",{className:"mt-4 text-3xl font-bold tracking-tight text-gray-900",children:"Access Denied"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"You don't have permission to access user management."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary/90",children:"Go Back"})})]})});const{data:R}=ue({queryKey:["/api/admin/white-label"]}),{data:I}=ue({queryKey:["/api/admin/user-stats"]}),{data:H,refetch:he}=ue({queryKey:["/api/admin/users"],staleTime:0,cacheTime:0}),{data:ie}=ue({queryKey:["/api/test-admin-users-exact"],staleTime:0,cacheTime:0});console.log(" UsersPage Debug - Raw users data:",H),console.log(" UsersPage Debug - Test users data:",ie),console.log(" UsersPage Debug - Is users an array?",Array.isArray(H)),console.log(" UsersPage Debug - Is testUsers an array?",Array.isArray(ie)),console.log(" UsersPage Debug - Users type:",typeof H),H&&(console.log(" UsersPage Debug - Users length:",H.length),console.log(" UsersPage Debug - First user:",H[0])),ie&&(console.log(" UsersPage Debug - Test users length:",ie.length),console.log(" UsersPage Debug - First test user:",ie[0]));const{data:je}=ue({queryKey:[`/api/admin/user-activities/${h==null?void 0:h.id}`],enabled:!!(h!=null&&h.id)}),{data:xe}=ue({queryKey:[`/api/admin/user-purchases/${h==null?void 0:h.id}`],enabled:!!(h!=null&&h.id)}),pe=Oe({mutationFn:ee=>Pe("/api/admin/impersonate-user","POST",ee),onSuccess:ee=>{j(ee),g(!0),window.location.href=ee.redirectUrl||"/user-dashboard"}}),ye=Oe({mutationFn:ee=>Pe("/api/admin/create-user","POST",{...ee,role:"end_user",user_of_white_label_id:e==null?void 0:e.white_label_id}),onSuccess:()=>{a.invalidateQueries({queryKey:["users"]}),a.invalidateQueries({queryKey:["userStats"]}),b(!1),S({firstName:"",lastName:"",username:"",password:"",email:""})}}),X=Oe({mutationFn:({id:ee,status:Te})=>Pe(`/api/admin/users/${ee}/status`,"PATCH",{status:Te}),onSuccess:()=>{a.invalidateQueries({queryKey:["users"]}),a.invalidateQueries({queryKey:["userStats"]})}}),B=Oe({mutationFn:ee=>Pe("/api/admin/send-invitation","POST",{...ee,businessName:`${ee.firstName} ${ee.lastName}'s Business`}),onSuccess:()=>{P(!1),E({email:"",firstName:"",lastName:""}),a.invalidateQueries({queryKey:["users"]})}}),ce=Oe({mutationFn:ee=>Pe("/api/admin/send-bulk-invitations","POST",{invitations:ee}),onSuccess:()=>{P(!1),F(null),W([]),D(""),a.invalidateQueries({queryKey:["users"]})}}),q=(Array.isArray(H)?H:[]).filter(ee=>{var dt,ae,Se,bt;const Te=((dt=ee.firstName)==null?void 0:dt.toLowerCase().includes(i.toLowerCase()))||((ae=ee.lastName)==null?void 0:ae.toLowerCase().includes(i.toLowerCase()))||((Se=ee.email)==null?void 0:Se.toLowerCase().includes(i.toLowerCase()))||((bt=ee.username)==null?void 0:bt.toLowerCase().includes(i.toLowerCase())),Nt=l==="all"||ee.status===l;return Te&&Nt}),oe=(ee,Te)=>{S(Nt=>({...Nt,[ee]:Te}))},le=()=>{!N.firstName||!N.lastName||!N.username||!N.password||!N.email||ye.mutate(N)},Ne=ee=>{pe.mutate(ee)},Me=ee=>{f(ee),x(!0)},Le=()=>{!k.email||!k.firstName||!k.lastName||B.mutate(k)},Ie=ee=>{var Nt;const Te=(Nt=ee.target.files)==null?void 0:Nt[0];if(Te){F(Te);const dt=new FileReader;dt.onload=ae=>{var Xe;const bt=((Xe=ae.target)==null?void 0:Xe.result).split(`
`),se=bt[0].split(",").map(He=>He.trim()),me=bt.slice(1).filter(He=>He.trim()).map(He=>{const Qe=He.split(",").map(it=>it.trim()),mt={};return se.forEach((it,Vr)=>{mt[it]=Qe[Vr]||""}),mt});W(me),D(`${me.length} users loaded from CSV`)},dt.readAsText(Te)}},qe=()=>{if(U.length===0)return;$(!0);const ee=U.map(Te=>({...Te,businessName:Te.businessName||`${Te.firstName} ${Te.lastName}'s Business`}));ce.mutate(ee)},z=()=>{const ee=`email,firstName,lastName
example@email.com,John,Doe`,Te=new Blob([ee],{type:"text/csv"}),Nt=window.URL.createObjectURL(Te),dt=document.createElement("a");dt.href=Nt,dt.download="white_label_invitation_template.csv",dt.click(),window.URL.revokeObjectURL(Nt)},de=ee=>{switch(ee){case"active":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"suspended":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[s.jsx(kr,{isMobileOpen:d,onMobileToggle:()=>u(!d)}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>u(!0),className:"text-gray-600",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),s.jsx("div",{className:"w-10"})]}),s.jsx(Fr,{title:"User Management",subtitle:"Manage and create user accounts",onMobileMenuToggle:()=>u(!d)}),s.jsx("div",{className:"py-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs(K,{className:"bg-white border border-gray-200 shadow-sm",children:[s.jsx(re,{className:"border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:s.jsx(Wn,{className:"h-4 w-4",style:{color:r||"#3b82f6"}})}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg font-semibold text-gray-900",children:"User Invitations"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Send invitations to new users"})]})]})}),s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(M,{onClick:()=>P(!0),className:"flex-1 text-white font-medium shadow-sm hover:shadow-md transition-all duration-300",style:{backgroundColor:r||"#3b82f6"},children:[s.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Send Invitations"]}),s.jsxs(M,{variant:"outline",onClick:z,className:"flex-1 bg-white font-medium transition-all duration-300 hover:bg-gray-50",style:{borderColor:n||"#10b981",color:n||"#10b981"},onMouseEnter:ee=>{ee.currentTarget.style.backgroundColor=`${n||"#10b981"}10`},onMouseLeave:ee=>{ee.currentTarget.style.backgroundColor="white"},children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Download Template"]})]})})]})}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:s.jsx(ct,{className:"h-5 w-5",style:{color:r||"#3b82f6"}})}),"User Management"]}),s.jsx("p",{className:"text-gray-500 mt-1 ml-11",children:"Create and manage user accounts"})]}),s.jsxs(ar,{open:w,onOpenChange:b,children:[s.jsx(Yv,{asChild:!0,children:s.jsxs(M,{className:"text-white font-medium shadow-sm hover:shadow-md transition-all duration-300",style:{backgroundColor:r||"#3b82f6"},children:[s.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Create User"]})}),s.jsxs(Yt,{className:"sm:max-w-[600px]",children:[s.jsxs(Xt,{children:[s.jsx(Qt,{children:"Create New User"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Set up a new end-user account. All fields with * are required."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"firstName",className:"text-sm font-medium",children:"First Name *"}),s.jsx(J,{id:"firstName",placeholder:"John",value:N.firstName,onChange:ee=>oe("firstName",ee.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"lastName",className:"text-sm font-medium",children:"Last Name *"}),s.jsx(J,{id:"lastName",placeholder:"Smith",value:N.lastName,onChange:ee=>oe("lastName",ee.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address *"}),s.jsx(J,{id:"email",type:"email",placeholder:"john.smith@email.com",value:N.email,onChange:ee=>oe("email",ee.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"username",className:"text-sm font-medium",children:"Username *"}),s.jsx(J,{id:"username",placeholder:"john_smith",value:N.username,onChange:ee=>oe("username",ee.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx(Y,{htmlFor:"password",className:"text-sm font-medium",children:"Password *"}),s.jsx(J,{id:"password",type:"password",placeholder:"Strong password",value:N.password,onChange:ee=>oe("password",ee.target.value)})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[s.jsx(M,{variant:"outline",onClick:()=>b(!1),className:"transition-all duration-300",style:{borderColor:n||"#10b981",color:n||"#10b981"},onMouseEnter:ee=>{ee.currentTarget.style.backgroundColor=`${n||"#10b981"}10`},onMouseLeave:ee=>{ee.currentTarget.style.backgroundColor="transparent"},children:"Cancel"}),s.jsx(M,{onClick:le,className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:ye.isPending||!N.firstName||!N.lastName||!N.username||!N.password||!N.email,children:ye.isPending?"Creating...":"Create User"})]})]})]})]}),s.jsx(K,{className:"mb-6 bg-white border border-gray-200 shadow-sm",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(J,{placeholder:"Search users by name or email...",value:i,onChange:ee=>o(ee.target.value),className:"pl-10 border-gray-300 focus:border-2 focus:ring-2 transition-all duration-300",style:{"--tw-ring-color":`${r||"#3b82f6"}40`}})]})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100",children:[s.jsx(FD,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"})]}),s.jsxs("select",{value:l,onChange:ee=>c(ee.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-700 focus:border-2 focus:ring-2 transition-all duration-300",style:{"--tw-ring-color":`${r||"#3b82f6"}40`},children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})})}),s.jsxs(K,{className:"bg-white border border-gray-200 shadow-sm",children:[s.jsx(re,{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs(ne,{className:"flex items-center gap-2 text-gray-900",children:[s.jsx(Jn,{className:"h-5 w-5",style:{color:r||"#3b82f6"}}),"User Accounts (",(q==null?void 0:q.length)||0,")"]})}),s.jsx(G,{className:"p-0",children:s.jsxs("div",{className:"space-y-0",children:[q==null?void 0:q.map((ee,Te)=>s.jsxs("div",{className:"flex items-center justify-between p-6 border-b last:border-b-0 hover:bg-gray-50 transition-colors duration-200",style:{background:Te%2===0?"white":"#fafafa"},children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center",children:s.jsx(Jn,{className:"h-6 w-6",style:{color:r||"#3b82f6"}})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:[ee.firstName," ",ee.lastName]}),s.jsxs("p",{className:"text-gray-600 flex items-center gap-1",children:[s.jsx(Wn,{className:"h-3 w-3"}),ee.email]}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["@",ee.username]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"End User"}),s.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(Nn,{className:"h-3 w-3",style:{color:n||"#10b981"}}),"Joined ",new Date(ee.createdAt).toLocaleDateString()]})]}),s.jsx(be,{className:`${de(ee.status)} font-medium px-3 py-1`,children:ee.status}),s.jsxs("div",{className:"flex items-center space-x-2",children:[(O==="Super Admin"||O==="super_admin"||(ee==null?void 0:ee.role)==="super_admin")&&s.jsx(M,{size:"sm",variant:"outline",onClick:()=>Ne(ee),title:"Impersonate User",className:"border-gray-300 text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-all duration-200",children:s.jsx(SS,{className:"h-3 w-3"})}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>Me(ee),title:"View Details",className:"transition-all duration-200",style:{borderColor:n||"#10b981",color:n||"#10b981"},children:s.jsx(vt,{className:"h-3 w-3"})}),(O==="Super Admin"||O==="super_admin"||(ee==null?void 0:ee.role)==="super_admin")&&s.jsxs("div",{className:"flex space-x-1",children:[ee.status==="pending"&&s.jsx(M,{size:"sm",onClick:()=>X.mutate({id:ee.id,status:"active"}),disabled:X.isPending,className:"text-white shadow-sm hover:shadow-md transition-all duration-300",style:{backgroundColor:r||"#3b82f6",borderColor:r||"#3b82f6"},children:"Approve"}),ee.status==="active"&&s.jsx(M,{size:"sm",variant:"outline",onClick:()=>X.mutate({id:ee.id,status:"suspended"}),disabled:X.isPending,className:"border-red-300 text-red-600 hover:bg-red-50 transition-all duration-300",children:"Suspend"}),ee.status==="suspended"&&s.jsx(M,{size:"sm",onClick:()=>X.mutate({id:ee.id,status:"active"}),disabled:X.isPending,className:"text-white shadow-sm hover:shadow-md transition-all duration-300",style:{backgroundColor:r||"#3b82f6",borderColor:r||"#3b82f6"},children:"Reactivate"}),s.jsx(M,{size:"sm",variant:"outline",className:"hover:shadow-md transition-all duration-300",style:{borderColor:n||"#10b981",color:n||"#10b981"},children:s.jsx(NS,{className:"h-3 w-3"})})]})]})]})]},ee.id)),(!q||q.length===0)&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${r||"#3b82f6"}20, ${n||"#10b981"}20)`},children:s.jsx(ct,{className:"h-10 w-10",style:{color:r||"#3b82f6"}})}),s.jsx("div",{className:"text-gray-600 mb-2 text-lg font-medium",children:i||l!=="all"?"No users match your filters":"No users yet"}),s.jsx("p",{className:"text-gray-500",children:i||l!=="all"?"Try adjusting your search or filters":"User accounts will appear here when they sign up"})]})]})})]})]})})]}),s.jsx(ar,{open:C,onOpenChange:P,children:s.jsxs(Yt,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"h-5 w-5",style:{color:r||"#3b82f6"}}),"Send User Invitations"]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Invite new users to join your platform."})]}),s.jsxs(es,{value:_,onValueChange:A,className:"w-full",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-2 bg-gray-100",children:[s.jsx(Ge,{value:"single",className:"data-[state=active]:text-white data-[state=active]:shadow-sm",style:{backgroundColor:_==="single"?r||"#3b82f6":"transparent"},children:"Single Invitation"}),s.jsx(Ge,{value:"bulk",className:"data-[state=active]:text-white data-[state=active]:shadow-sm",style:{backgroundColor:_==="bulk"?r||"#3b82f6":"transparent"},children:"Bulk Upload (CSV)"})]}),s.jsx(Ye,{value:"single",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsxs(Y,{htmlFor:"invite-email",className:"text-sm font-medium text-gray-700",children:["Email Address ",s.jsx("span",{style:{color:n||"#10b981"},children:"*"})]}),s.jsx(J,{id:"invite-email",type:"email",placeholder:"user@email.com",value:k.email,onChange:ee=>E(Te=>({...Te,email:ee.target.value})),className:"mt-2 border-gray-300 focus:border-2 transition-all duration-300",style:{"--tw-ring-color":`${r||"#3b82f6"}50`,borderColor:`${r||"#3b82f6"}40`}})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Y,{htmlFor:"invite-firstname",className:"text-sm font-medium text-gray-700",children:["First Name ",s.jsx("span",{style:{color:n||"#10b981"},children:"*"})]}),s.jsx(J,{id:"invite-firstname",placeholder:"John",value:k.firstName,onChange:ee=>E(Te=>({...Te,firstName:ee.target.value})),className:"mt-2 border-gray-300 focus:border-2 transition-all duration-300",style:{"--tw-ring-color":`${r||"#3b82f6"}50`,borderColor:`${r||"#3b82f6"}40`}})]}),s.jsxs("div",{children:[s.jsxs(Y,{htmlFor:"invite-lastname",className:"text-sm font-medium text-gray-700",children:["Last Name ",s.jsx("span",{style:{color:n||"#10b981"},children:"*"})]}),s.jsx(J,{id:"invite-lastname",placeholder:"Doe",value:k.lastName,onChange:ee=>E(Te=>({...Te,lastName:ee.target.value})),className:"mt-2 border-gray-300 focus:border-2 transition-all duration-300",style:{"--tw-ring-color":`${r||"#3b82f6"}50`,borderColor:`${r||"#3b82f6"}40`}})]})]}),s.jsx("div",{className:"rounded-lg p-6 border border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wn,{className:"h-6 w-6 mt-0.5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-lg text-gray-900",children:"Invitation Preview"}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"The user will receive a professional invitation email with setup instructions and login credentials."})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(M,{variant:"outline",onClick:()=>P(!1),className:"px-6 transition-all duration-300",style:{borderColor:n||"#10b981",color:n||"#10b981"},onMouseEnter:ee=>{ee.currentTarget.style.backgroundColor=`${n||"#10b981"}10`},onMouseLeave:ee=>{ee.currentTarget.style.backgroundColor="transparent"},children:"Cancel"}),s.jsx(M,{onClick:Le,disabled:B.isPending,className:"px-6 text-white shadow-sm hover:shadow-md transition-all duration-300",style:{backgroundColor:r||"#3b82f6"},children:B.isPending?"Sending...":"Send Invitation"})]})]})}),s.jsx(Ye,{value:"bulk",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Bt,{className:"h-5 w-5 text-amber-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-amber-900",children:"CSV Format Instructions"}),s.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Upload a CSV file with columns: email, firstName, lastName"})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"csv-upload",className:"text-sm font-medium text-gray-700",children:"Upload CSV File"}),s.jsx(J,{id:"csv-upload",type:"file",accept:".csv",onChange:Ie,className:"mt-2"}),V&&s.jsx("p",{className:"text-sm text-green-600 mt-2",children:V})]}),U.length>0&&s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Preview (",U.length," users)"]}),s.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[U.slice(0,5).map((ee,Te)=>s.jsxs("div",{className:"text-sm text-gray-600",children:[ee.email," - ",ee.firstName," ",ee.lastName]},Te)),U.length>5&&s.jsxs("div",{className:"text-sm text-gray-500",children:["... and ",U.length-5," more"]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(M,{variant:"outline",onClick:()=>P(!1),className:"px-6 transition-all duration-300",style:{borderColor:n||"#10b981",color:n||"#10b981"},children:"Cancel"}),s.jsx(M,{onClick:qe,disabled:ce.isPending||U.length===0,className:"px-6 text-white shadow-sm hover:shadow-md transition-all duration-300",style:{backgroundColor:r||"#3b82f6"},children:ce.isPending?"Processing...":`Send ${U.length} Invitations`})]})]})})]})]})}),s.jsx(ar,{open:p,onOpenChange:x,children:s.jsxs(Yt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[s.jsx(Xt,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-5 w-5",style:{color:r||"#3b82f6"}}),"User Details"]})}),h&&s.jsx("div",{className:"space-y-6",children:s.jsxs(es,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-2 bg-gray-100",children:[s.jsx(Ge,{value:"overview",children:"Overview"}),s.jsx(Ge,{value:"purchases",children:"Purchases"})]}),s.jsx(Ye,{value:"overview",className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"User Information"})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Full Name"}),s.jsxs("p",{className:"text-lg",children:[h.firstName," ",h.lastName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),s.jsx("p",{className:"text-lg",children:h.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Username"}),s.jsxs("p",{className:"text-lg",children:["@",h.username]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),s.jsx(be,{className:de(h.status),children:h.status})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Joined Date"}),s.jsx("p",{className:"text-lg",children:new Date(h.createdAt).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Role"}),s.jsx("p",{className:"text-lg",children:"End User"})]})]})})]})}),s.jsx(Ye,{value:"purchases",className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-5 w-5",style:{color:n||"#10b981"}}),"Purchase History"]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:(xe==null?void 0:xe.length)>0?xe.map((ee,Te)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Tt,{className:"h-4 w-4",style:{color:n||"#10b981"}})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ee.planName||ee.productName}),s.jsx("p",{className:"text-sm text-gray-600",children:ee.description})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold text-green-600",children:["$",parseFloat(ee.amount||ee.total||"0").toFixed(2)]}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(ee.createdAt||ee.purchaseDate).toLocaleDateString()})]})]},Te)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(en,{className:"h-12 w-12 mx-auto mb-4 opacity-50",style:{color:n||"#10b981"}}),s.jsx("p",{children:"No purchases found"})]})})})]})})]})})]})})]})}function EEe(){const[e,t]=v.useState(!1);return s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{isMobileOpen:e,onMobileToggle:()=>t(!e)}),s.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>t(!0),className:"text-gray-600",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Landing Page Builder"}),s.jsx("div",{className:"w-10"})]}),s.jsx(Fr,{title:"Landing Page Builder",subtitle:"Create professional landing pages with our drag-and-drop builder"}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"h-full",children:s.jsx(Jz,{feature:"landing_page_builder",featureName:"Landing Page Builder",description:"Create professional landing pages with our drag-and-drop builder. Design custom pages to promote your products and services.",children:s.jsx(_$,{})})})})]})]})}var nb="Switch",[TEe]=zr(nb),[OEe,MEe]=TEe(nb),tB=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[f,p]=v.useState(null),x=et(t,w=>p(w)),m=v.useRef(!1),g=f?u||!!f.closest("form"):!0,[y,j]=ga({prop:a,defaultProp:i??!1,onChange:d,caller:nb});return s.jsxs(OEe,{scope:r,checked:y,disabled:l,children:[s.jsx(ze.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":aB(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:Ce(e.onClick,w=>{j(b=>!b),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&s.jsx(sB,{control:f,bubbles:!m.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});tB.displayName=nb;var rB="SwitchThumb",nB=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=MEe(rB,r);return s.jsx(ze.span,{"data-state":aB(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});nB.displayName=rB;var DEe="SwitchBubbleInput",sB=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=v.useRef(null),l=et(o,i),c=s0(r),d=zv(t);return v.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const x=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(x)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});sB.displayName=DEe;function aB(e){return e?"checked":"unchecked"}var iB=tB,IEe=nB;const oB=v.forwardRef(({className:e,...t},r)=>s.jsx(iB,{className:De("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(IEe,{className:De("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));oB.displayName=iB.displayName;function R5({currentImageUrl:e,onUpload:t,isUploading:r=!1,maxSizeInMB:n=10,acceptedTypes:a=["image/jpeg","image/png","image/gif","image/webp"],title:i,description:o,className:l}){const[c,d]=v.useState(!1),[u,h]=v.useState(""),[f,p]=v.useState(!1),x=v.useRef(null),m=u||e,g=v.useCallback(P=>{P.preventDefault(),d(!0)},[]),y=v.useCallback(P=>{P.preventDefault(),d(!1)},[]),j=v.useCallback(P=>{P.preventDefault(),d(!1);const _=P.dataTransfer.files;_&&_[0]&&b(_[0])},[]),w=P=>P.size>n*1024*1024?(alert(`File size must be less than ${n}MB`),!1):a.some(_=>P.type===_)?!0:(alert(`Please select a valid image file (${a.join(", ")})`),!1),b=async P=>{if(!w(P))return;const _=new FileReader;_.onload=A=>{var k;h((k=A.target)==null?void 0:k.result)},_.readAsDataURL(P),t(P),p(!1)},N=P=>{var A;const _=(A=P.target.files)==null?void 0:A[0];_&&b(_)},S=()=>{var P;(P=x.current)==null||P.click()},C=()=>{h(""),p(!1),x.current&&(x.current.value="")};return m&&!f?s.jsx(K,{className:De("overflow-hidden",l),children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:i}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:o}),s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:m,alt:i,className:"w-full h-48 object-cover rounded-lg border border-gray-200 dark:border-gray-700"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:s.jsxs(M,{onClick:()=>p(!0),variant:"secondary",size:"sm",className:"bg-white/90 hover:bg-white text-gray-900",children:[s.jsx(nK,{className:"w-4 h-4 mr-2"}),"Change"]})})]})]})}):s.jsx(K,{className:De("overflow-hidden",l),children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:i}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:o}),s.jsxs("div",{className:De("relative border-2 border-dashed rounded-lg transition-all duration-200 cursor-pointer min-h-[200px]","hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-950/20",c?"border-blue-500 bg-blue-50 dark:bg-blue-950/30":"border-gray-300 dark:border-gray-600"),onDragOver:g,onDragLeave:y,onDrop:j,onClick:S,children:[s.jsx("input",{ref:x,type:"file",accept:a.join(","),onChange:N,className:"hidden"}),s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 text-center",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4",children:s.jsx(Wi,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),s.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Drop your image here"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"or click to browse files"}),s.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Max size: ",n,"MB  ",a.map(P=>P.split("/")[1].toUpperCase()).join(", ")]})]})})]}),f&&s.jsx("div",{className:"flex justify-between items-center mt-4",children:s.jsxs(M,{variant:"outline",size:"sm",onClick:C,className:"text-gray-600 dark:text-gray-400",children:[s.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Cancel"]})})]})})}const REe=({subscription:e})=>{const[t,r]=v.useState(new Set(e.selectedCategories||[])),[n,a]=v.useState(new Set(e.selectedProducts||[])),[i,o]=v.useState(new Set),{toast:l}=Ct(),c=Zt(),{data:d}=ue({queryKey:["plan",e.planId],queryFn:async()=>{const b=await fetch(`/api/plans/${e.planId}`);if(!b.ok)throw new Error("Failed to fetch plan details");return b.json()}}),{data:u=[]}=ue({queryKey:["categories"],queryFn:async()=>{const b=await fetch("/api/categories");if(!b.ok)throw new Error("Failed to fetch categories");return b.json()}}),{data:h=[]}=ue({queryKey:["products"],queryFn:async()=>{const b=await fetch("/api/products");if(!b.ok)throw new Error("Failed to fetch products");return b.json()}}),f=Oe({mutationFn:async({selectedCategories:b,selectedProducts:N})=>{const S=await fetch(`/api/subscriptions/${e.id}/selections`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedCategories:b,selectedProducts:N})});if(!S.ok){const C=await S.json();throw new Error(C.error||"Failed to update selections")}return S.json()},onSuccess:()=>{c.invalidateQueries({queryKey:["subscriptions"]}),l({title:"Success",description:"Subscription selections updated successfully"})},onError:b=>{console.error("Error updating selections:",b),l({title:"Error",description:"Failed to update subscription selections",variant:"destructive"})}}),p=()=>{f.mutate({selectedCategories:Array.from(t),selectedProducts:Array.from(n)})},x=b=>{const N=new Set(t);N.has(b)?N.delete(b):N.add(b),r(N)},m=b=>{const N=new Set(n);N.has(b)?N.delete(b):N.add(b),a(N)},g=b=>{const N=new Set(i);N.has(b)?N.delete(b):N.add(b),o(N)},y=u.filter(b=>{var N;return(N=d==null?void 0:d.selectedCategories)==null?void 0:N.includes(b.id)}),j=h.filter(b=>{var N;return(N=d==null?void 0:d.selectedProducts)==null?void 0:N.includes(b.id)}),w=j.reduce((b,N)=>(b[N.categoryId]||(b[N.categoryId]=[]),b[N.categoryId].push(N),b),{});return d?s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-5 w-5"}),"Subscription Content Selection"]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Choose which categories and products you want to access with your ",e.planName," subscription."]})]}),s.jsxs(G,{className:"space-y-6",children:[y.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(Qn,{className:"h-5 w-5"}),"Categories"]}),s.jsx("div",{className:"space-y-2",children:y.map(b=>{const N=i.has(b.id),S=w[b.id]||[];return s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Uo,{id:`category-${b.id}`,checked:t.has(b.id),onCheckedChange:()=>x(b.id)}),s.jsx(Y,{htmlFor:`category-${b.id}`,className:"font-medium cursor-pointer",children:b.name}),b.description&&s.jsxs("span",{className:"text-sm text-gray-500",children:["- ",b.description]})]}),S.length>0&&s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>g(b.id),children:N?s.jsx(qa,{className:"h-4 w-4"}):s.jsx(Bi,{className:"h-4 w-4"})})]}),N&&S.length>0&&s.jsx("div",{className:"mt-3 ml-6 space-y-2 border-l-2 border-gray-200 pl-4",children:S.map(C=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Uo,{id:`product-${C.id}`,checked:n.has(C.id),onCheckedChange:()=>m(C.id)}),s.jsx(Y,{htmlFor:`product-${C.id}`,className:"cursor-pointer",children:C.name}),s.jsx(be,{variant:"outline",className:"text-xs",children:C.type}),C.description&&s.jsxs("span",{className:"text-sm text-gray-500",children:["- ",C.description]})]},C.id))})]},b.id)})})]}),j.filter(b=>!y.some(N=>N.id===b.categoryId)).length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(Ot,{className:"h-5 w-5"}),"Individual Products"]}),s.jsx("div",{className:"space-y-2",children:j.filter(b=>!y.some(N=>N.id===b.categoryId)).map(b=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[s.jsx(Uo,{id:`standalone-product-${b.id}`,checked:n.has(b.id),onCheckedChange:()=>m(b.id)}),s.jsx(Y,{htmlFor:`standalone-product-${b.id}`,className:"cursor-pointer font-medium",children:b.name}),s.jsx(be,{variant:"outline",className:"text-xs",children:b.type}),b.description&&s.jsxs("span",{className:"text-sm text-gray-500",children:["- ",b.description]})]},b.id))})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsxs(M,{onClick:p,disabled:f.isPending,className:"flex items-center gap-2",children:[s.jsx(ec,{className:"h-4 w-4"}),f.isPending?"Saving...":"Save Selections"]})}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Current Selection Summary:"}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[s.jsxs("p",{children:["Categories selected: ",t.size]}),s.jsxs("p",{children:["Products selected: ",n.size]})]})]})]})]}):s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsx("div",{className:"text-center text-gray-500",children:"Loading plan details..."})})})};function Zc(){const{user:e}=ft(),{primaryColor:t,secondaryColor:r}=Ur(),n=Zt(),{toast:a}=Ct(),[i,o]=v.useState("profile"),[l,c]=v.useState(!1),[d,u]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,f]=v.useState({current:!1,new:!1,confirm:!1,nmi:!1,nmiKey:!1}),[p,x]=v.useState({}),[m,g]=v.useState({}),[y,j]=v.useState(""),[w,b]=v.useState(""),[N,S]=v.useState({firstName:"",lastName:"",phone:"",company:""}),[C,P]=v.useState(!1),[_,A]=v.useState({username:"",password:"",securityKey:"",processorId:"",gatewayUrl:"https://secure.nmi.com/api/transact.php",isTestMode:!1}),[k,E]=v.useState(!1),[L,F]=v.useState(!1),U=sessionStorage.getItem("selectedRole")||(e==null?void 0:e.role)||"Super Admin",{data:W}=ue({queryKey:["/api/profile"]}),{data:V}=ue({queryKey:["/api/preferences"]}),{data:D}=ue({queryKey:["/api/subscriptions/my"]}),{data:T}=ue({queryKey:["/api/billing/info"]}),{data:$}=ue({queryKey:["/api/nmi-credentials"]});v.useEffect(()=>{if(W){const z={firstName:(W==null?void 0:W.firstName)||"",lastName:(W==null?void 0:W.lastName)||"",phone:(W==null?void 0:W.phone)||"",company:(W==null?void 0:W.company)||""};S(z),P(!1)}},[W]),v.useEffect(()=>{if($!=null&&$.hasCredentials){const z=$.credentials;A({username:z.username||"",password:"",securityKey:"",processorId:"",gatewayUrl:z.gatewayUrl||"https://secure.nmi.com/api/transact.php",isTestMode:z.isTestMode||!1}),E(!1)}},[$]);const O=(V==null?void 0:V.theme)||"light",R=z=>{g(de=>({...de,[z]:!de[z]}))},I=Oe({mutationFn:async z=>{const de=await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});if(!de.ok){const ee=await de.json();throw new Error(ee.error||"Failed to update profile")}return de.json()},onSuccess:z=>{if(n.invalidateQueries({queryKey:["/api/profile"]}),z){const de={firstName:z.firstName||"",lastName:z.lastName||"",phone:z.phone||"",company:z.company||""};S(de)}P(!1),a({title:"Profile Updated",description:"Your profile has been successfully updated."})},onError:z=>{a({title:"Update Failed",description:z.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),H=Oe({mutationFn:async z=>{const de=await fetch("/api/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});if(!de.ok){const ee=await de.json();throw new Error(ee.error||"Failed to update preferences")}return de.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/preferences"]}),a({title:"Preferences Updated",description:"Your preferences have been successfully updated."})}}),he=Oe({mutationFn:async z=>{const de=new FormData;de.append("logo",z);const ee=await fetch("/api/upload/brand-logo",{method:"POST",body:de});if(!ee.ok){const Te=await ee.json();throw new Error(Te.error||"Failed to upload brand logo")}return ee.json()},onSuccess:z=>{n.invalidateQueries({queryKey:["/api/profile"]}),n.invalidateQueries({queryKey:["/api/preferences"]}),b(z.logoUrl||""),a({title:"Brand Logo Updated",description:"Your brand logo has been successfully updated."})},onError:z=>{a({title:"Upload Failed",description:z.message,variant:"destructive"})}}),ie=Oe({mutationFn:async z=>{const de=new FormData;de.append("file",z);const ee=await fetch("/api/objects/upload",{method:"POST",body:de});if(!ee.ok){const Te=await ee.json();throw new Error(Te.error||"Failed to upload profile image")}return ee.json()},onSuccess:z=>{n.invalidateQueries({queryKey:["/api/profile"]}),j(z.uploadURL||""),a({title:"Profile Image Updated",description:"Your profile image has been successfully updated."})},onError:z=>{a({title:"Upload Failed",description:z.message,variant:"destructive"})}}),je=z=>{he.mutate(z)},xe=z=>{ie.mutate(z),F(!1)},pe=Oe({mutationFn:async z=>{const de=await fetch("/api/auth/update-password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});if(!de.ok){const ee=await de.json();throw new Error(ee.error||"Failed to update password")}return de.json()},onSuccess:()=>{a({title:"Password Updated",description:"Your password has been successfully updated."}),u({currentPassword:"",newPassword:"",confirmPassword:""}),x({})},onError:z=>{const de=z.message||"Failed to update password";a({title:"Password Update Failed",description:de,variant:"destructive"})}}),ye=Oe({mutationFn:async z=>{const de=await fetch("/api/nmi-credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:z.username,password:z.password,securityKey:z.securityKey,gatewayUrl:z.gatewayUrl,isTestMode:z.isTestMode})});if(!de.ok){const ee=await de.json();throw new Error(ee.error||"Failed to save NMI credentials")}return de.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/nmi-credentials"]}),a({title:"NMI Settings Saved",description:"Your NMI payment gateway settings have been saved successfully."}),E(!1),A(z=>({...z,password:"",securityKey:""}))},onError:z=>{const de=z.message||"Failed to save NMI settings";a({title:"Save Failed",description:de,variant:"destructive"})}}),X=z=>{z.preventDefault();const de=new FormData(z.currentTarget),ee={firstName:de.get("firstName"),lastName:de.get("lastName"),email:de.get("email"),company:de.get("company"),phone:de.get("phone"),bio:de.get("bio"),profileImageUrl:y||(W==null?void 0:W.profileImageUrl)};I.mutate(ee)},B=(z,de)=>{const ee={...N,[z]:de};S(ee);const Te={firstName:(W==null?void 0:W.firstName)||"",lastName:(W==null?void 0:W.lastName)||"",phone:(W==null?void 0:W.phone)||"",company:(W==null?void 0:W.company)||""},Nt=Object.keys(ee).some(dt=>ee[dt]!==Te[dt]);P(Nt)},ce=()=>{const z={firstName:N.firstName,lastName:N.lastName,company:N.company,phone:N.phone,email:(W==null?void 0:W.email)||"",bio:(W==null?void 0:W.bio)||"",profileImageUrl:y||(W==null?void 0:W.profileImageUrl)};I.mutate(z),P(!1)},ve=()=>{const z={};return d.currentPassword||(z.currentPassword="Current password is required"),d.newPassword?d.newPassword.length<6&&(z.newPassword="New password must be at least 6 characters"):z.newPassword="New password is required",d.confirmPassword?d.newPassword!==d.confirmPassword&&(z.confirmPassword="Passwords do not match"):z.confirmPassword="Please confirm your new password",x(z),Object.keys(z).length===0},q=z=>{z.preventDefault(),ve()&&pe.mutate({currentPassword:d.currentPassword,newPassword:d.newPassword})},oe=(z,de)=>{u(ee=>({...ee,[z]:de})),p[z]&&x(ee=>({...ee,[z]:""}))},le=z=>{f(de=>({...de,[z]:!de[z]}))},Ne=z=>{H.mutate({theme:z})},Me=(z,de)=>{A(ee=>({...ee,[z]:de})),E(!0)},Le=z=>{if(z.preventDefault(),!_.username||!_.password||!_.securityKey){a({title:"Validation Error",description:"Username, password, and security key are required.",variant:"destructive"});return}ye.mutate(_)},Ie=(z,de)=>{H.mutate({[z]:de})},qe=()=>{let z=O;O==="system"&&(z=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");const de=z==="light"?"#ffffff":"#64748B";H.mutate({primaryColor:"#2563EB",secondaryColor:de})};return s.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[s.jsx(kr,{isMobileOpen:l,onMobileToggle:()=>c(!l)}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"lg:hidden bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>c(!0),className:"text-muted-foreground",children:s.jsx($r,{className:"h-6 w-6 text-muted-foreground"})}),s.jsx("h1",{className:"text-lg font-semibold text-card-foreground",children:"Settings"}),s.jsx("div",{className:"w-10"})]}),s.jsx(Fr,{title:"Settings",subtitle:"Manage your account preferences and platform settings"}),s.jsx("div",{className:"p-6",children:s.jsxs(es,{value:i,onValueChange:o,className:"space-y-6",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsxs(Ge,{value:"profile",className:"flex items-center space-x-2",children:[s.jsx(Jn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Profile"})]}),s.jsxs(Ge,{value:"security",className:"flex items-center space-x-2",children:[s.jsx(xr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Security"})]}),s.jsxs(Ge,{value:"billing",className:"flex items-center space-x-2",children:[s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Billing"})]}),s.jsxs(Ge,{value:"appearance",className:"flex items-center space-x-2",children:[s.jsx(Xo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Appearance"})]})]}),s.jsx(Ye,{value:"profile",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Profile Information"})}),s.jsx(G,{children:s.jsxs("form",{onSubmit:X,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"firstName",children:"First Name"}),s.jsx(J,{id:"firstName",name:"firstName",value:N.firstName,onChange:z=>B("firstName",z.target.value)})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"lastName",children:"Last Name"}),s.jsx(J,{id:"lastName",name:"lastName",value:N.lastName,onChange:z=>B("lastName",z.target.value)})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"phone",children:"Phone"}),s.jsx(J,{id:"phone",name:"phone",value:N.phone,onChange:z=>B("phone",z.target.value)})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"company",children:"Company"}),s.jsx(J,{id:"company",name:"company",value:N.company,onChange:z=>B("company",z.target.value)})]}),C&&s.jsx("div",{className:"absolute -bottom-12 right-0",children:s.jsx(M,{type:"button",onClick:ce,disabled:I.isPending,className:"bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:I.isPending?"Saving...":"Save"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{children:"Profile Image"}),s.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"Upload your profile picture. Recommended size: 200x200px (PNG, JPG, or SVG)"}),W!=null&&W.profileImageUrl&&!L?s.jsxs("div",{className:"flex flex-col items-center space-y-4 p-6 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:W.profileImageUrl,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200"}),ie.isPending&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),s.jsx("button",{type:"button",onClick:()=>F(!0),className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 hover:border-blue-300 transition-colors",children:"Click to Edit"})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(R5,{currentImageUrl:W==null?void 0:W.profileImageUrl,onUpload:xe,isUploading:ie.isPending,maxSizeInMB:10,acceptedTypes:["image/jpeg","image/png","image/gif","image/webp"],title:"Profile Image",description:"Upload your profile picture"}),L&&s.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"})]})]})]})})]})}),s.jsx(Ye,{value:"security",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Password & Security"})}),s.jsx(G,{children:(e==null?void 0:e.authProvider)==="google"?s.jsxs(Ba,{children:[s.jsx(xr,{className:"h-4 w-4"}),s.jsx(Ua,{children:"You signed in with Google. Password management is handled by your Google account."})]}):s.jsxs("form",{onSubmit:q,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"currentPassword",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"currentPassword",type:h.current?"text":"password",value:d.currentPassword,onChange:z=>oe("currentPassword",z.target.value),placeholder:"Enter current password",className:p.currentPassword?"border-destructive":""}),s.jsx(M,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>le("current"),children:h.current?s.jsx(ds,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})})]}),p.currentPassword&&s.jsx("p",{className:"text-sm text-destructive",children:p.currentPassword})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"newPassword",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"newPassword",type:h.new?"text":"password",value:d.newPassword,onChange:z=>oe("newPassword",z.target.value),placeholder:"Enter new password (min 6 characters)",className:p.newPassword?"border-destructive":""}),s.jsx(M,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>le("new"),children:h.new?s.jsx(ds,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})})]}),p.newPassword&&s.jsx("p",{className:"text-sm text-destructive",children:p.newPassword})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"confirmPassword",type:h.confirm?"text":"password",value:d.confirmPassword,onChange:z=>oe("confirmPassword",z.target.value),placeholder:"Confirm new password",className:p.confirmPassword?"border-destructive":""}),s.jsx(M,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>le("confirm"),children:h.confirm?s.jsx(ds,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})})]}),p.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive",children:p.confirmPassword})]}),s.jsx(M,{type:"submit",disabled:pe.isPending,className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",children:pe.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ec,{className:"mr-2 h-4 w-4 animate-spin",style:{color:"white"}}),"Updating Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xr,{className:"mr-2 h-4 w-4",style:{color:"white"}}),"Update Password"]})})]})})]})})}),s.jsx(Ye,{value:"billing",children:s.jsxs("div",{className:"space-y-6",children:[(U==="white_label_client"||U==="White-Label Client"||U==="White Label")&&s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Current Subscription"})}),s.jsxs(G,{children:[D==null?void 0:D.filter(z=>z.status==="active").map(z=>{const de=new Date(z.createdAt),ee=new Date(de);ee.setDate(de.getDate()+30);const Te=m[z.id];return s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:z.planName}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["$",z.amount,"/month  Next billing: ",ee.toLocaleDateString()]}),Te&&s.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[s.jsxs("p",{children:["Started: ",de.toLocaleDateString()]}),s.jsxs("p",{children:["Features: ",z.features||"All premium features included"]})]})]}),s.jsx(be,{variant:"default",children:z.status})]}),s.jsx(M,{variant:"outline",size:"sm",onClick:()=>R(z.id),className:"w-full",children:Te?"Show Less":"Show More"}),Te&&s.jsx("div",{className:"mt-4",children:s.jsx(REe,{subscription:z})})]},z.id)}),(!D||(D==null?void 0:D.filter(z=>z.status==="active").length)===0)&&s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No active subscriptions"})]})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(xr,{className:"h-5 w-5"}),"NMI Payment Gateway Settings"]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Configure your NMI payment gateway credentials to receive payments directly to your account"}),s.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"nmi-username",children:"NMI Username"}),s.jsx(J,{id:"nmi-username",type:"text",placeholder:"Enter your NMI username",className:"w-full",value:_.username,onChange:z=>Me("username",z.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"nmi-password",children:"NMI Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"nmi-password",type:h.nmi?"text":"password",placeholder:"Enter your NMI password",className:"w-full pr-10",value:_.password,onChange:z=>Me("password",z.target.value)}),s.jsx(M,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(z=>({...z,nmi:!z.nmi})),children:h.nmi?s.jsx(ds,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"nmi-security-key",children:"Security Key"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"nmi-security-key",type:h.nmiKey?"text":"password",placeholder:"Enter your NMI security key",className:"w-full pr-10",value:_.securityKey,onChange:z=>Me("securityKey",z.target.value)}),s.jsx(M,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(z=>({...z,nmiKey:!z.nmiKey})),children:h.nmiKey?s.jsx(ds,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"nmi-processor-id",children:"Processor ID (Optional)"}),s.jsx(J,{id:"nmi-processor-id",type:"text",placeholder:"Enter processor ID if required",className:"w-full",value:_.processorId,onChange:z=>Me("processorId",z.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"nmi-gateway-url",children:"Gateway URL"}),s.jsx(J,{id:"nmi-gateway-url",type:"url",placeholder:"https://secure.nmi.com/api/transact.php",className:"w-full",value:_.gatewayUrl,onChange:z=>Me("gatewayUrl",z.target.value)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oB,{id:"nmi-test-mode",checked:_.isTestMode,onCheckedChange:z=>Me("isTestMode",z)}),s.jsx(Y,{htmlFor:"nmi-test-mode",className:"text-sm",children:"Test Mode (Use sandbox environment)"})]}),s.jsxs(Ba,{children:[s.jsx(xr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Ua,{children:"Your NMI credentials are encrypted and stored securely. When customers purchase your plans, payments will be processed directly through your NMI account."})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(M,{type:"submit",disabled:ye.isPending||!k,className:"flex items-center gap-2 bg-primary text-primary-foreground hover:bg-primary/90",children:ye.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ec,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ec,{className:"h-4 w-4"}),"Save NMI Settings"]})}),s.jsx(M,{type:"button",variant:"outline",className:"text-muted-foreground border-muted-foreground hover:bg-muted/10",children:"Test Connection"})]})]})]})]}),U!=="white_label_client"&&U!=="White-Label Client"&&U!=="White Label"&&s.jsxs(Ba,{children:[s.jsx(Sd,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Ua,{children:"Subscription billing is only available for White Label Clients. You can still manage your payment method above."})]})]})}),s.jsx(Ye,{value:"appearance",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Xo,{className:"h-5 w-5 text-muted-foreground"}),"Theme & Display"]})}),s.jsx(G,{className:"space-y-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{children:"Theme Preference"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs(M,{variant:O==="light"?"default":"outline",className:"flex flex-col items-center gap-2 h-20",onClick:()=>Ne("light"),children:[s.jsx(cK,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:"Light"})]}),s.jsxs(M,{variant:O==="dark"?"default":"outline",className:"flex flex-col items-center gap-2 h-20",onClick:()=>Ne("dark"),children:[s.jsx(eK,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:"Dark"})]}),s.jsxs(M,{variant:O==="system"?"default":"outline",className:"flex flex-col items-center gap-2 h-20",onClick:()=>Ne("system"),children:[s.jsx(CS,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:"System"})]})]})]})})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between",children:[s.jsx(ne,{children:"Brand Colors"}),s.jsx(M,{variant:"outline",size:"sm",onClick:qe,disabled:H.isPending,className:"text-muted-foreground border-muted-foreground hover:bg-muted/10",children:"Reset to Default"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{htmlFor:"primaryColor",children:"Primary Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(J,{id:"primaryColor",type:"color",value:(V==null?void 0:V.primaryColor)||"#2563EB",onChange:z=>Ie("primaryColor",z.target.value),className:"w-16 h-10 p-0 border rounded cursor-pointer"}),s.jsx(J,{type:"text",value:(V==null?void 0:V.primaryColor)||"#2563EB",onChange:z=>Ie("primaryColor",z.target.value),className:"flex-1",placeholder:"#2563EB"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Used for buttons, links, and primary UI elements"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{htmlFor:"secondaryColor",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(J,{id:"secondaryColor",type:"color",value:(V==null?void 0:V.secondaryColor)||"#64748B",onChange:z=>Ie("secondaryColor",z.target.value),className:"w-16 h-10 p-0 border rounded cursor-pointer"}),s.jsx(J,{type:"text",value:(V==null?void 0:V.secondaryColor)||"#64748B",onChange:z=>Ie("secondaryColor",z.target.value),className:"flex-1",placeholder:"#64748B"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Used for secondary elements and accents"})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-800",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Color Preview"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-white shadow-sm",style:{backgroundColor:(V==null?void 0:V.primaryColor)||"#2563EB"}}),s.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-white shadow-sm",style:{backgroundColor:(V==null?void 0:V.secondaryColor)||"#64748B"}})]})]})]})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Brand Logo"})}),s.jsx(G,{className:"space-y-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{children:"Logo Upload"}),s.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"Upload your logo to appear in the top-left corner of your dashboard and landing pages. Recommended size: 200x60px (PNG, JPG, or SVG)"}),s.jsx(R5,{currentImageUrl:W==null?void 0:W.logoImageUrl,onUpload:je,isUploading:he.isPending,maxSizeInMB:5,acceptedTypes:["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"],title:"Brand Logo",description:"Upload your brand logo"})]})})]})]})})]})})]})]})}function $Ee(){var y,j;const{user:e}=ft(),t=Zt(),[r,n]=v.useState(!1),[a,i]=v.useState(null);sessionStorage.getItem("selectedRole")||e!=null&&e.role;const{data:o,isLoading:l}=ue({queryKey:["/api/integrations"]}),{data:c}=ue({queryKey:["/api/integrations/available"]}),{data:d}=ue({queryKey:["/api/integrations/logs"]}),u=Oe({mutationFn:async w=>Pe("/api/integrations/configure","POST",w),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/integrations"]}),n(!1),i(null)}});Oe({mutationFn:async({id:w,...b})=>Pe(`/api/integrations/${w}`,"PUT",b),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/integrations"]})}});const h=Oe({mutationFn:async w=>Pe(`/api/integrations/${w}`,"DELETE"),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/integrations"]})}}),f=Oe({mutationFn:async w=>Pe(`/api/integrations/${w}/test`,"POST")}),p=w=>{i(w),n(!0)},x=w=>{w.preventDefault();const b=new FormData(w.currentTarget),N={serviceName:a.name,apiKey:b.get("apiKey"),webhookUrl:b.get("webhookUrl"),settings:{enabled:!0,autoSync:b.get("autoSync")==="on",syncInterval:b.get("syncInterval")||"24"}};u.mutate(N)},m=w=>{switch(w.toLowerCase()){case"nmi":return s.jsx(Ht,{className:"h-6 w-6"});case"nmi payment gateway":return s.jsx(Ht,{className:"h-6 w-6"});case"mailchimp":return s.jsx(Wn,{className:"h-6 w-6"});case"google analytics":return s.jsx(Xr,{className:"h-6 w-6"});case"slack":return s.jsx(Yo,{className:"h-6 w-6"});case"zapier":return s.jsx(Qo,{className:"h-6 w-6"});case"calendly":return s.jsx(Nn,{className:"h-6 w-6"});default:return s.jsx(Ir,{className:"h-6 w-6"})}},g=w=>{switch(w){case"connected":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return l?s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsx(Fr,{title:"Integrations",subtitle:"Connect third-party services to enhance your platform"}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-center py-12",children:"Loading integrations..."})})]})]}):s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsx(Fr,{title:"Integrations",subtitle:"Connect third-party services to enhance your platform"}),s.jsxs("div",{className:"p-6",children:[s.jsxs(K,{className:"mb-8",children:[s.jsx(re,{children:s.jsx(ne,{children:"Connected Services"})}),s.jsx(G,{children:o&&o.length>0?s.jsx("div",{className:"space-y-4",children:o.map((w,b)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"text-blue-600",children:m(w.serviceName)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:w.displayName}),s.jsx("p",{className:"text-sm text-gray-500",children:w.description})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(be,{className:g(w.status),children:w.status}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>f.mutate(w.id),disabled:f.isPending,children:"Test"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>p(w),children:s.jsx(Zr,{className:"h-4 w-4"})}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>h.mutate(w.id),disabled:h.isPending,children:s.jsx(Ui,{className:"h-4 w-4"})})]})]},w.id||`integration-${b}`))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ir,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No integrations configured yet"})]})})]}),s.jsxs(K,{className:"mb-8",children:[s.jsx(re,{children:s.jsx(ne,{children:"Available Services"})}),s.jsx(G,{children:c&&c.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((w,b)=>s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"text-blue-600",children:m(w.name)}),s.jsx("h3",{className:"font-medium",children:w.name})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:w.description}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(be,{variant:"outline",children:w.category}),s.jsxs(M,{size:"sm",onClick:()=>p(w),children:[s.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Connect"]})]})]},w.name||`service-${b}`))}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:s.jsx("p",{children:"No available services"})})})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Recent Activity"})}),s.jsx(G,{children:d&&d.length>0?s.jsx("div",{className:"space-y-3",children:d.slice(0,10).map((w,b)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ha,{className:"h-4 w-4 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:w.action}),s.jsx("p",{className:"text-xs text-gray-500",children:w.serviceName})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(be,{className:w.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:w.success?"Success":"Failed"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(w.timestamp).toLocaleString()})]})]},b))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ha,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No recent activity"})]})})]}),r&&a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Configure ",a.name||a.displayName]}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"apiKey",children:"API Key"}),s.jsx(J,{id:"apiKey",name:"apiKey",type:"password",defaultValue:a.apiKey||"",placeholder:"Enter your API key",required:!0})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"webhookUrl",children:"Webhook URL (Optional)"}),s.jsx(J,{id:"webhookUrl",name:"webhookUrl",defaultValue:a.webhookUrl||"",placeholder:"https://your-webhook-url.com"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"autoSync",name:"autoSync",defaultChecked:((y=a.settings)==null?void 0:y.autoSync)??!0}),s.jsx(Y,{htmlFor:"autoSync",children:"Enable auto-sync"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"syncInterval",children:"Sync Interval (hours)"}),s.jsx(J,{id:"syncInterval",name:"syncInterval",type:"number",defaultValue:((j=a.settings)==null?void 0:j.syncInterval)||"24",min:"1",max:"168"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(M,{type:"submit",disabled:u.isPending,children:u.isPending?"Configuring...":"Save Configuration"}),s.jsx(M,{type:"button",variant:"outline",onClick:()=>{n(!1),i(null)},children:"Cancel"})]})]})]})})]})]})]})}function LEe(){ft();const{primaryColor:e,secondaryColor:t}=Ur(),r=Zt(),[n,a]=v.useState("overview"),[i,o]=v.useState(!1),{data:l,isLoading:c}=ue({queryKey:["/api/billing/info"]}),{data:d}=ue({queryKey:["/api/subscriptions/my"]}),{data:u}=ue({queryKey:["/api/billing/invoices"]}),{data:h}=ue({queryKey:["/api/billing/payment-methods"]});Oe({mutationFn:async m=>Pe("/api/billing/payment-method","POST",m),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/billing/payment-methods"]})}});const f=Oe({mutationFn:async m=>Pe(`/api/billing/invoices/${m}/download`,"GET")}),p=m=>{switch(m){case"active":return"bg-green-100 text-green-800";case"past_due":return"bg-red-100 text-red-800";case"canceled":return"bg-gray-100 text-gray-800";case"trialing":return"bg-blue-100 text-blue-800";default:return"bg-yellow-100 text-yellow-800"}},x=m=>{switch(m){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return c?s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsx(Fr,{title:"Billing",subtitle:"Manage your subscription and billing information"}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-center py-12",children:"Loading billing information..."})})]})]}):s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsx(Fr,{title:"Billing & Subscriptions",subtitle:"Manage your subscription and billing information"}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1 mb-6 w-fit",children:[{id:"overview",label:"Overview"},{id:"subscriptions",label:"Subscriptions"},{id:"invoices",label:"Invoices"},{id:"payment",label:"Payment Methods"}].map(m=>s.jsx("button",{onClick:()=>a(m.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${n===m.id?"bg-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,style:{color:n===m.id?e||"#3b82f6":void 0},children:m.label},m.id))}),n==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Current Balance"}),s.jsx(Tt,{className:"h-4 w-4",style:{color:e}})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(l==null?void 0:l.currentBalance)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(l==null?void 0:l.currentBalance)>0?"Amount due":"Account credit"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Next Payment"}),s.jsx(Nn,{className:"h-4 w-4",style:{color:t}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:l!=null&&l.nextPaymentDate?new Date(l.nextPaymentDate).toLocaleDateString():"N/A"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",(l==null?void 0:l.nextPaymentAmount)||"0.00"]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Plan Status"}),s.jsx(_t,{className:"h-4 w-4",style:{color:e}})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.planName)||"Free"}),s.jsx(be,{className:p((l==null?void 0:l.status)||"active"),children:(l==null?void 0:l.status)||"Active"})]})]})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Recent Billing Activity"})}),s.jsx(G,{children:l!=null&&l.recentActivity&&l.recentActivity.length>0?s.jsx("div",{className:"space-y-3",children:l.recentActivity.slice(0,5).map((m,g)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-full ${m.type==="payment"?"bg-green-100":m.type==="refund"?"bg-blue-100":"bg-yellow-100"}`,children:m.type==="payment"?s.jsx(_t,{className:"h-4 w-4 text-green-600"}):m.type==="refund"?s.jsx(Tt,{className:"h-4 w-4 text-blue-600"}):s.jsx(Sd,{className:"h-4 w-4 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:m.description}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(m.date).toLocaleDateString()})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium",children:["$",m.amount]}),s.jsx(be,{className:x(m.status),children:m.status})]})]},g))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Bt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No recent billing activity"})]})})]})]}),n==="subscriptions"&&s.jsx("div",{className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Active Subscriptions"})}),s.jsx(G,{children:d&&d.length>0?s.jsx("div",{className:"space-y-4",children:d.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{style:{color:e||"#3b82f6"},children:s.jsx(Ht,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:m.planName}),s.jsxs("p",{className:"text-sm text-gray-500",children:["$",m.amount,"/",m.interval]}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Next billing: ",new Date(m.nextBilling).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(be,{className:p(m.status),children:m.status}),s.jsx(M,{size:"sm",variant:"outline",children:"Manage"})]})]},m.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ht,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No active subscriptions"}),s.jsx(M,{className:"mt-4",children:"Browse Plans"})]})})]})}),n==="invoices"&&s.jsx("div",{className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Invoice History"})}),s.jsx(G,{children:u&&u.length>0?s.jsx("div",{className:"space-y-3",children:u.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Bt,{className:"h-5 w-5",style:{color:e||"#3b82f6"}}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium",children:["Invoice #",m.number]}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(m.date).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["$",m.amount]}),s.jsx(be,{className:x(m.status),children:m.status})]}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>f.mutate(m.id),disabled:f.isPending,children:s.jsx(Sn,{className:"h-4 w-4"})})]})]},m.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Bt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No invoices found"})]})})]})}),n==="payment"&&s.jsx("div",{className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Payment Methods"})}),s.jsxs(G,{children:[h&&h.length>0?s.jsx("div",{className:"space-y-4",children:h.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ht,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium",children:["**** **** **** ",m.lastFour]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[m.brand,"  Expires ",m.expMonth,"/",m.expYear]}),m.isDefault&&s.jsx(be,{variant:"outline",className:"mt-1",children:"Default"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{size:"sm",variant:"outline",children:"Edit"}),!m.isDefault&&s.jsx(M,{size:"sm",variant:"outline",children:"Delete"})]})]},m.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ht,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No payment methods on file"})]}),s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs(M,{children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]})})]})]})})]})]})]})}function FEe({userId:e,onContentGenerated:t}){const{toast:r}=Ct(),n=Zt(),[a,i]=v.useState({type:"product_description",prompt:"",tone:"professional",length:"medium",audience:"",keywords:""}),[o,l]=v.useState(""),[c,d]=v.useState([]),u=Oe({mutationFn:async m=>await(await Pe("/api/ai/generate-content","POST",m)).json(),onSuccess:m=>{console.log("Generated content response:",m);const g=m.content||m.generatedContent||"";l(g),d(m.suggestions||[]),t&&t(m),n.invalidateQueries({queryKey:["/api/ai/content"]}),r({title:"Content Generated",description:"Your AI content has been generated successfully."})},onError:m=>{let g="Failed to generate content. Please try again.";m!=null&&m.message&&(m.message.includes("quota exceeded")?g="API quota exceeded. Please check your OpenAI billing and usage limits.":m.message.includes("Invalid API key")?g="Invalid API key. Please verify your OpenAI configuration.":m.message.includes("Access denied")?g="Access denied. Please check your API key permissions.":g=m.message),r({title:"Content Generation Failed",description:g,variant:"destructive"})}}),h=Oe({mutationFn:async m=>await(await Pe("/api/ai/content","POST",m)).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/ai/content"]}),r({title:"Content Saved",description:"Your content has been saved to the library."})}}),f=()=>{if(!a.prompt.trim()){r({title:"Missing Prompt",description:"Please enter a prompt to generate content.",variant:"destructive"});return}u.mutate({...a,userId:e,keywords:a.keywords.split(",").map(m=>m.trim()).filter(m=>m)})},p=()=>{if(!o.trim()){r({title:"No Content",description:"Generate content first before saving.",variant:"destructive"});return}h.mutate({userId:e,type:a.type,content:o,prompt:a.prompt,metadata:{tone:a.tone,length:a.length,audience:a.audience,keywords:a.keywords.split(",").map(m=>m.trim()).filter(m=>m)}})},x=()=>{navigator.clipboard.writeText(o),r({title:"Copied",description:"Content copied to clipboard."})};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center",children:[s.jsx(aa,{className:"mr-2 h-5 w-5 text-purple-600"}),"Content Generator"]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"content-type",children:"Content Type"}),s.jsxs(an,{value:a.type,onValueChange:m=>i(g=>({...g,type:m})),children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:"Select content type"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"product_description",children:"Product Description"}),s.jsx(Ae,{value:"marketing_copy",children:"Marketing Copy"}),s.jsx(Ae,{value:"email_template",children:"Email Template"}),s.jsx(Ae,{value:"social_media",children:"Social Media Post"}),s.jsx(Ae,{value:"blog_post",children:"Blog Post"})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"prompt",children:"Content Prompt *"}),s.jsx(pr,{id:"prompt",placeholder:"Describe what you want to create...",value:a.prompt,onChange:m=>i(g=>({...g,prompt:m.target.value})),className:"min-h-[100px]"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"tone",children:"Tone"}),s.jsxs(an,{value:a.tone,onValueChange:m=>i(g=>({...g,tone:m})),children:[s.jsx(Gr,{children:s.jsx(on,{})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"professional",children:"Professional"}),s.jsx(Ae,{value:"casual",children:"Casual"}),s.jsx(Ae,{value:"persuasive",children:"Persuasive"}),s.jsx(Ae,{value:"friendly",children:"Friendly"}),s.jsx(Ae,{value:"technical",children:"Technical"})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"length",children:"Length"}),s.jsxs(an,{value:a.length,onValueChange:m=>i(g=>({...g,length:m})),children:[s.jsx(Gr,{children:s.jsx(on,{})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"short",children:"Short"}),s.jsx(Ae,{value:"medium",children:"Medium"}),s.jsx(Ae,{value:"long",children:"Long"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"audience",children:"Target Audience"}),s.jsx(J,{id:"audience",placeholder:"e.g., small business owners, tech enthusiasts",value:a.audience,onChange:m=>i(g=>({...g,audience:m.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"keywords",children:"Keywords (comma-separated)"}),s.jsx(J,{id:"keywords",placeholder:"e.g., innovative, affordable, reliable",value:a.keywords,onChange:m=>i(g=>({...g,keywords:m.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(M,{onClick:f,disabled:u.isPending,className:"w-full bg-gradient-to-r from-purple-500 to-blue-600 hover:from-purple-600 hover:to-blue-700",children:[s.jsx(aa,{className:"mr-2 h-4 w-4"}),u.isPending?"Generating...":"Generate Content"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{i(m=>({...m,prompt:"javascript coding platform for developers"})),setTimeout(()=>f(),100)},disabled:u.isPending,children:"Test Tech"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{i(m=>({...m,prompt:"business enterprise workflow solution"})),setTimeout(()=>f(),100)},disabled:u.isPending,children:"Test Business"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{i(m=>({...m,prompt:"video course tutorial platform"})),setTimeout(()=>f(),100)},disabled:u.isPending,children:"Test Video"})]})]})]})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{children:"Generated Content"}),o&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(M,{size:"sm",variant:"outline",onClick:x,children:s.jsx(qn,{className:"h-3 w-3"})}),s.jsx(M,{size:"sm",variant:"outline",onClick:p,disabled:h.isPending,children:s.jsx(ec,{className:"h-3 w-3"})})]})]})}),s.jsx(G,{children:u.isPending?s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]}):o?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-900 dark:text-white",children:o})}),c.length>0&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-200 mb-2",children:"Suggestions for Improvement:"}),s.jsx("ul",{className:"space-y-1 text-sm text-blue-800 dark:text-blue-300",children:c.map((m,g)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-500 mr-2",children:""}),m]},g))})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[s.jsxs("p",{children:["Content type: ",a.type.replace("_"," ").replace(/\b\w/g,m=>m.toUpperCase())]}),s.jsxs("p",{children:["Tone: ",a.tone,"  Length: ",a.length]}),a.audience&&s.jsxs("p",{children:["Audience: ",a.audience]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(aa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"No content generated yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:'Fill out the form and click "Generate Content" to create AI-powered content'})]})})]})]})}function zEe({userId:e,context:t}){const r=Zt(),[n,a]=v.useState(!1),{data:i,isLoading:o}=ue({queryKey:["/api/ai/insights",e,t],staleTime:5*60*1e3}),l=Oe({mutationFn:async()=>{a(!0);const h=await Pe("/api/ai/generate-insights","POST",{userId:e,context:t});return a(!1),h},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/ai/insights",e,t]})},onError:()=>{a(!1)}}),c=h=>{switch(h){case"growth":return s.jsx(wn,{className:"h-4 w-4 text-green-600"});case"optimization":return s.jsx(nu,{className:"h-4 w-4 text-blue-600"});case"recommendation":return s.jsx(Yq,{className:"h-4 w-4 text-yellow-600"});default:return s.jsx(Al,{className:"h-4 w-4 text-purple-600"})}},d=h=>{switch(h){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},u=Array.isArray(i)?i:[];return o?s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center",children:[s.jsx(Al,{className:"mr-2 h-5 w-5 text-purple-600"}),"AI Insights"]})}),s.jsx(G,{children:s.jsx("div",{className:"animate-pulse space-y-3",children:[...Array(3)].map((h,f)=>s.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded"},f))})})]}):s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ne,{className:"flex items-center",children:[s.jsx(Al,{className:"mr-2 h-5 w-5 text-purple-600"}),"AI Insights (",u.length,")"]}),s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>l.mutate(),disabled:l.isPending||n,children:[s.jsx(El,{className:`h-3 w-3 mr-1 ${l.isPending||n?"animate-spin":""}`}),"Refresh"]})]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:u.length>0?u.map((h,f)=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsx("div",{className:"mt-1",children:c(h.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:h.title}),h.priority&&s.jsx(be,{className:`text-xs ${d(h.priority)}`,children:h.priority})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.description}),h.metric&&s.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium",children:h.metric})]})]},f)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Al,{className:"h-8 w-8 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"No insights available"}),s.jsxs(M,{size:"sm",onClick:()=>l.mutate(),disabled:l.isPending||n,children:[s.jsx(Al,{className:"h-3 w-3 mr-1"}),"Generate AI Insights"]})]})})})]})}function BEe(){const{user:e}=ft(),{primaryColor:t,secondaryColor:r}=Ur(),n=Zt(),[a,i]=v.useState("generator"),[o,l]=v.useState(!1);sessionStorage.getItem("selectedRole")||e!=null&&e.role;const{data:c}=ue({queryKey:["/api/ai/content",e==null?void 0:e.id]}),{data:d}=ue({queryKey:["/api/ai/content/stats",e==null?void 0:e.id]}),{data:u}=ue({queryKey:["/api/ai/recommendations",e==null?void 0:e.id]}),{data:h}=ue({queryKey:["/api/ai/optimizations",e==null?void 0:e.id]});Oe({mutationFn:async p=>Pe("/api/ai/optimize-content","POST",p),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/ai/optimizations"]})}});const f=Oe({mutationFn:async()=>Pe("/api/ai/generate-recommendations","POST",{userId:e==null?void 0:e.id,context:"content"}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/ai/recommendations"]})}});return s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{isMobileOpen:o,onMobileToggle:()=>l(!o)}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>l(!0),className:"text-gray-600",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"AI Content"}),s.jsx("div",{className:"w-10"})]}),s.jsx(Fr,{title:"AI Content Studio",subtitle:"Create, optimize, and manage your content with AI-powered tools"}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex justify-end mb-6",children:s.jsxs(M,{onClick:()=>f.mutate(),disabled:f.isPending,className:"text-white hover:opacity-90",style:{background:`linear-gradient(to right, ${t||"#8b5cf6"}, ${r||"#3b82f6"})`},children:[s.jsx(BD,{className:"mr-2 h-4 w-4"}),"Get AI Suggestions"]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsxs(K,{className:"text-white border-0 shadow-lg",style:{background:`linear-gradient(135deg, ${t||"#8b5cf6"}, ${t}CC || '#8b5cf6CC', ${t}99 || '#8b5cf699')`},children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium text-white opacity-90",children:"Content Generated"}),s.jsx(Bt,{className:"h-5 w-5 text-white opacity-80"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-3xl font-bold",children:(d==null?void 0:d.totalGenerated)||"127"}),s.jsxs("p",{className:"text-xs text-white opacity-90 mt-1",children:["+",(d==null?void 0:d.recentlyGenerated)||"18"," this month"]})]})]}),s.jsxs(K,{className:"text-white border-0 shadow-lg",style:{background:`linear-gradient(135deg, ${r||"#3b82f6"}, ${r}CC || '#3b82f6CC', ${r}99 || '#3b82f699')`},children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium text-white opacity-90",children:"Optimizations"}),s.jsx(nu,{className:"h-5 w-5 text-white opacity-80"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-3xl font-bold",children:(d==null?void 0:d.totalOptimizations)||"89"}),s.jsxs("p",{className:"text-xs text-white opacity-90 mt-1",children:["Avg improvement: ",(d==null?void 0:d.avgImprovement)||"24","%"]})]})]}),s.jsxs(K,{className:"text-white border-0 shadow-lg",style:{background:`linear-gradient(135deg, ${t||"#10b981"}, ${t}CC || '#10b981CC', ${t}99 || '#10b98199')`},children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium text-white opacity-90",children:"Success Rate"}),s.jsx(wn,{className:"h-5 w-5 text-white opacity-80"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:[(d==null?void 0:d.successRate)||"94","%"]}),s.jsx("p",{className:"text-xs text-white opacity-90 mt-1",children:"Quality score improvement"})]})]}),s.jsxs(K,{className:"text-white border-0 shadow-lg",style:{background:`linear-gradient(135deg, ${r||"#f59e0b"}, ${r}CC || '#f59e0bCC', ${r}99 || '#f59e0b99')`},children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium text-white opacity-90",children:"Time Saved"}),s.jsx(Al,{className:"h-5 w-5 text-white opacity-80"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:[(d==null?void 0:d.timeSaved)||"34"," hrs"]}),s.jsx("p",{className:"text-xs text-white opacity-90 mt-1",children:"This month"})]})]})]}),s.jsxs(es,{value:a,onValueChange:i,className:"space-y-6",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsxs(Ge,{value:"generator",className:"flex items-center space-x-2",children:[s.jsx(aa,{className:"h-4 w-4"}),s.jsx("span",{children:"Generator"})]}),s.jsxs(Ge,{value:"library",className:"flex items-center space-x-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Content Library"})]}),s.jsxs(Ge,{value:"optimize",className:"flex items-center space-x-2",children:[s.jsx(nu,{className:"h-4 w-4"}),s.jsx("span",{children:"Optimizer"})]}),s.jsxs(Ge,{value:"insights",className:"flex items-center space-x-2",children:[s.jsx(Al,{className:"h-4 w-4"}),s.jsx("span",{children:"AI Insights"})]})]}),s.jsx(Ye,{value:"generator",children:s.jsx(FEe,{userId:(e==null?void 0:e.id)||"",onContentGenerated:p=>{n.invalidateQueries({queryKey:["/api/ai/content"]})}})}),s.jsx(Ye,{value:"library",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Content Library"})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:(c==null?void 0:c.length)>0?c.map(p=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:p.title||"Generated Content"}),s.jsx("p",{className:"text-sm text-gray-500",children:p.type})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{size:"sm",variant:"outline",children:s.jsx(qn,{className:"h-4 w-4"})}),s.jsx(M,{size:"sm",variant:"outline",children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsx(M,{size:"sm",variant:"outline",children:s.jsx(ec,{className:"h-4 w-4"})})]})]}),s.jsx("p",{className:"text-sm line-clamp-3",children:p.content}),s.jsxs("div",{className:"flex justify-between items-center mt-3 text-xs text-gray-500",children:[s.jsxs("span",{children:["Created ",new Date(p.createdAt).toLocaleDateString()]}),s.jsx("span",{className:"px-2 py-1 rounded text-white text-xs",style:{backgroundColor:t||"#3b82f6"},children:p.tone||"Professional"})]})]},p.id)):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No content generated yet"})})})]})}),s.jsx(Ye,{value:"optimize",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Content Optimizer"})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-6",children:(h==null?void 0:h.length)>0?h.map(p=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Optimization Analysis"}),s.jsx("p",{className:"text-sm text-gray-500",children:p.type})]}),s.jsxs("div",{className:"text-sm font-medium",style:{color:t||"#10b981"},children:["+",p.score||"24","% improvement"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Original Content:"}),s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm",children:s.jsx("p",{className:"line-clamp-3",children:p.originalContent})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Optimized Content:"}),s.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded text-sm",children:s.jsx("p",{className:"line-clamp-3",children:p.optimizedContent})})]})]})]},p.id)):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No optimizations yet"})})})]})}),s.jsx(Ye,{value:"insights",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(zEe,{userId:(e==null?void 0:e.id)||"",context:"content"}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Recommendations"})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:(u==null?void 0:u.length)>0?u.map(p=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium mb-2",children:p.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.description}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["Impact: ",p.impact||"High"]}),s.jsx(M,{size:"sm",children:"Apply"})]})]},p.id)):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recommendations available"})})})]})]})})]})]})]})]})}function UEe(){const{id:e}=uS(),[t,r]=v.useState(null),[n,a]=v.useState(!0),[i,o]=v.useState(null);if(v.useEffect(()=>{e&&(async()=>{try{const d=await fetch(`/api/landing-pages/${e}`);if(!d.ok)throw new Error("Failed to fetch landing page");const u=await d.json();r(u)}catch(d){o(d instanceof Error?d.message:"Unknown error")}finally{a(!1)}})()},[e]),n)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading landing page..."})]})});if(i||!t)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(K,{className:"max-w-md w-full mx-4",children:s.jsxs(G,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-red-500 text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Landing Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:i||"The landing page you are looking for does not exist or is not published."}),s.jsx(M,{onClick:()=>window.history.back(),variant:"outline",children:"Go Back"})]})})});const l=`/landing/${e}`;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),s.jsxs("p",{className:"text-gray-600",children:[t.isPublished?"Published":"Draft","  Last updated: ",new Date(t.updatedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(M,{variant:"outline",onClick:()=>window.open(l,"_blank"),className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-4 w-4"}),"Preview"]}),s.jsxs(M,{onClick:()=>window.open(l,"_blank"),className:"flex items-center gap-2",children:[s.jsx(Ir,{className:"h-4 w-4"}),"View Live Page"]})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsx(K,{children:s.jsx(G,{className:"p-0",children:s.jsx("iframe",{src:l,className:"w-full h-screen border-0 rounded-lg",title:t.name})})})})]})}var VP="Radio",[WEe,lB]=zr(VP),[VEe,HEe]=WEe(VP),cB=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[h,f]=v.useState(null),p=et(t,g=>f(g)),x=v.useRef(!1),m=h?d||!!h.closest("form"):!0;return s.jsxs(VEe,{scope:r,checked:a,disabled:o,children:[s.jsx(ze.button,{type:"button",role:"radio","aria-checked":a,"data-state":fB(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:Ce(e.onClick,g=>{a||c==null||c(),m&&(x.current=g.isPropagationStopped(),x.current||g.stopPropagation())})}),m&&s.jsx(hB,{control:h,bubbles:!x.current,name:n,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});cB.displayName=VP;var dB="RadioIndicator",uB=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=HEe(dB,r);return s.jsx(Br,{present:n||i.checked,children:s.jsx(ze.span,{"data-state":fB(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});uB.displayName=dB;var qEe="RadioBubbleInput",hB=v.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=v.useRef(null),l=et(o,i),c=s0(r),d=zv(t);return v.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const x=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(x)}},[c,r,n]),s.jsx(ze.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hB.displayName=qEe;function fB(e){return e?"checked":"unchecked"}var KEe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sb="RadioGroup",[GEe]=zr(sb,[nh,lB]),mB=nh(),pB=lB(),[YEe,XEe]=GEe(sb),gB=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...f}=e,p=mB(r),x=rh(d),[m,g]=ga({prop:i,defaultProp:a??null,onChange:h,caller:sb});return s.jsx(YEe,{scope:r,name:n,required:o,disabled:l,value:m,onValueChange:g,children:s.jsx(uC,{asChild:!0,...p,orientation:c,dir:x,loop:u,children:s.jsx(ze.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...f,ref:t})})})});gB.displayName=sb;var xB="RadioGroupItem",yB=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=XEe(xB,r),o=i.disabled||n,l=mB(r),c=pB(r),d=v.useRef(null),u=et(t,d),h=i.value===a.value,f=v.useRef(!1);return v.useEffect(()=>{const p=m=>{KEe.includes(m.key)&&(f.current=!0)},x=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),s.jsx(hC,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(cB,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ce(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Ce(a.onFocus,()=>{var p;f.current&&((p=d.current)==null||p.click())})})})});yB.displayName=xB;var QEe="RadioGroupIndicator",vB=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=pB(r);return s.jsx(uB,{...a,...n,ref:t})});vB.displayName=QEe;var bB=gB,wB=yB,ZEe=vB;const jB=v.forwardRef(({className:e,...t},r)=>s.jsx(bB,{className:De("grid gap-2",e),...t,ref:r}));jB.displayName=bB.displayName;const o2=v.forwardRef(({className:e,...t},r)=>s.jsx(wB,{ref:r,className:De("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(ZEe,{className:"flex items-center justify-center",children:s.jsx(RD,{className:"h-2.5 w-2.5 fill-current text-current"})})}));o2.displayName=wB.displayName;function $5(){var Vr,ir,rs,vh,js,ei,Tp,bh,wh,JP;const{user:e}=ft(),{primaryColor:t,secondaryColor:r}=Ur(),{toast:n}=Ct(),a=uS(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[d,u]=v.useState(""),[h,f]=v.useState(!1),[p,x]=v.useState(null),[m,g]=v.useState({title:"",content:"",visibility:"clients",status:"draft",scheduledAt:"",targetingType:"everyone",targetedPlanIds:[]}),[y,j]=v.useState("publish"),[w,b]=v.useState(!1),[N,S]=v.useState([]),[C,P]=v.useState({}),[_,A]=v.useState({}),[k,E]=v.useState({}),[L,F]=v.useState(null),[U,W]=v.useState(null),[V,D]=v.useState(null),[T,$]=v.useState(!1),[O,R]=v.useState(!1),[I,H]=v.useState(null),he=Zt(),ie=async te=>{try{const we=await fetch(`/api/announcements/${te}/comments`,{credentials:"include"});if(!we.ok)throw new Error("Failed to fetch comments");const Ze=await we.json();E(yr=>({...yr,[te]:Ze}))}catch(we){console.error("Error fetching comments:",we)}},je=te=>{const we=_[te];A(Ze=>({...Ze,[te]:!we})),!we&&!k[te]&&ie(te)},{data:xe=[],isLoading:pe,refetch:ye}=ue({queryKey:["/api/announcements"],queryFn:async()=>{const te=await fetch("/api/announcements",{credentials:"include"});if(!te.ok)throw new Error("Failed to fetch announcements");return te.json()}}),{data:X=[]}=ue({queryKey:["/api/plans"],queryFn:async()=>{const te=await fetch("/api/plans",{credentials:"include"});if(!te.ok)throw new Error("Failed to fetch plans");return te.json()}}),B=xe.filter(te=>{const we=!d||te.title.toLowerCase().includes(d.toLowerCase()),Ze=!h||String(te.userId)===String(e==null?void 0:e.id);return we&&Ze}),ce=Oe({mutationFn:async te=>{const we=await fetch(`/api/announcements/${te}/like`,{method:"POST",credentials:"include"});if(!we.ok)throw new Error("Failed to toggle like");return we.json()},onSuccess:()=>{he.invalidateQueries({queryKey:["/api/announcements"]})}}),ve=Oe({mutationFn:async({announcementId:te,content:we})=>{const Ze=await fetch(`/api/announcements/${te}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content:we})});if(!Ze.ok)throw new Error("Failed to add comment");return Ze.json()},onSuccess:(te,{announcementId:we})=>{he.invalidateQueries({queryKey:["/api/announcements"]}),ie(we),P(Ze=>({...Ze,[we]:""}))}}),q=Oe({mutationFn:async te=>{const we=await fetch(`/api/announcements/${te}`,{method:"DELETE",credentials:"include"});if(!we.ok)throw new Error("Failed to delete announcement");return we.json()},onSuccess:()=>{he.invalidateQueries({queryKey:["/api/announcements"]}),n({title:"Success",description:"News deleted successfully"})},onError:te=>{n({title:"Error",description:"Failed to delete news",variant:"destructive"})}}),oe=v.useRef(null),le=e;v.useEffect(()=>{if(a.id){const te=parseInt(a.id);setTimeout(()=>{const we=document.getElementById(`announcement-${te}`);we&&(we.scrollIntoView({behavior:"smooth",block:"center"}),we.classList.add("ring-2","ring-blue-500","ring-opacity-50"))},500)}},[a.id]);const Ne=te=>{if(!te)return;const we=Array.from(te).slice(0,5-N.length);S(Ze=>[...Ze,...we])},Me=te=>{te.preventDefault(),b(!1),Ne(te.dataTransfer.files)},Le=te=>{te.preventDefault(),b(!0)},Ie=te=>{te.preventDefault(),b(!1)},qe=te=>{S(we=>we.filter((Ze,yr)=>yr!==te))},z=te=>te.startsWith("image/")?s.jsx(Xu,{className:"h-4 w-4"}):te.startsWith("video/")?s.jsx(Qu,{className:"h-4 w-4"}):te.startsWith("audio/")?s.jsx(PS,{className:"h-4 w-4"}):s.jsx(Bt,{className:"h-4 w-4"}),de=te=>{switch(te){case"public":return s.jsx(vn,{className:"h-4 w-4"});case"clients":return s.jsx(ct,{className:"h-4 w-4"});case"affiliates":return s.jsx(ct,{className:"h-4 w-4"});case"admins":return s.jsx(xr,{className:"h-4 w-4"});default:return s.jsx(vn,{className:"h-4 w-4"})}},ee=async(te="draft")=>{if(!m.title.trim()){n({title:"Error",description:"Title is required",variant:"destructive"});return}if(te==="scheduled"&&!m.scheduledAt){n({title:"Error",description:"Please select a date and time for scheduling",variant:"destructive"});return}try{const we=new FormData;we.append("title",m.title),we.append("content",m.content||""),we.append("visibility",m.visibility),we.append("status",te),we.append("targetingType",m.targetingType),we.append("targetedPlanIds",JSON.stringify(m.targetedPlanIds)),te==="scheduled"&&m.scheduledAt&&we.append("scheduledAt",new Date(m.scheduledAt).toISOString()),N.length>0&&we.append("attachment",N[0]);const Ze=await fetch("/api/announcements",{method:"POST",body:we,credentials:"same-origin"});if(!Ze.ok){const _r=await Ze.json();throw new Error(_r.error||"Failed to create announcement")}const yr=await Ze.json();g({title:"",content:"",visibility:"clients",status:"draft",scheduledAt:"",targetingType:"everyone",targetedPlanIds:[]}),S([]),c(!1),he.invalidateQueries({queryKey:["/api/announcements"]}),n({title:"Success",description:`Announcement ${te==="draft"?"saved as draft":te==="scheduled"?"scheduled successfully":"published successfully"}`})}catch(we){console.error("Error creating announcement:",we),n({title:"Error",description:we instanceof Error?we.message:"Failed to create announcement",variant:"destructive"})}},Te=te=>{ce.mutate(te)},Nt=te=>{var Ze;const we=(Ze=C[te])==null?void 0:Ze.trim();we&&ve.mutate({announcementId:te,content:we},{onSuccess:()=>{P(yr=>({...yr,[te]:""})),n({title:"Success",description:"Comment added successfully"})},onError:()=>{n({title:"Error",description:"Failed to add comment",variant:"destructive"})}})},dt=te=>{D(te),$(!0)},ae=te=>{const we=`${window.location.origin}/news/${te}`;navigator.clipboard.writeText(we),n({title:"Link copied",description:"News link copied to clipboard"})},Se=(te,we)=>{const Ze=`${window.location.origin}/news/${we.id}`,yr=`Check out this news: ${we.title}`;let st="";switch(te){case"whatsapp":st=`https://wa.me/?text=${encodeURIComponent(`${yr} ${Ze}`)}`;break;case"twitter":st=`https://twitter.com/intent/tweet?text=${encodeURIComponent(yr)}&url=${encodeURIComponent(Ze)}`;break;case"facebook":st=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(Ze)}`;break;case"linkedin":st=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(Ze)}`;break;case"telegram":st=`https://t.me/share/url?url=${encodeURIComponent(Ze)}&text=${encodeURIComponent(yr)}`;break}st&&(window.open(st,"_blank","width=600,height=400"),he.invalidateQueries({queryKey:["/api/announcements"]})),$(!1)},bt=async te=>{try{const we=await fetch(`/api/announcements/${te}/analytics`,{credentials:"include"});if(!we.ok)throw new Error("Failed to fetch analytics");const Ze=await we.json();W(Ze)}catch(we){console.error("Error fetching analytics:",we),n({title:"Error",description:"Failed to load analytics data",variant:"destructive"})}},se=async(te,we,Ze)=>{try{await fetch(`/api/announcements/${te}/analytics`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventType:we,eventData:Ze}),credentials:"include"})}catch(yr){console.error("Error tracking analytics:",yr)}},me=te=>{se(te,"view")},Xe=(te,we)=>{se(te,"click",{elementClicked:we})},He=(te,we,Ze)=>{se(te,"conversion",{conversionType:we,...Ze})},Qe=te=>{F(te),bt(te.id)},mt=te=>{x(te),g({title:te.title,content:te.content||"",visibility:te.visibility,status:te.status,scheduledAt:te.scheduledAt?new Date(te.scheduledAt).toISOString().slice(0,16):"",targetingType:te.targetingType||"everyone",targetedPlanIds:te.targetedPlanIds||[]}),te.status==="draft"?j("draft"):te.status==="scheduled"?j("schedule"):j("publish"),c(!0)},it=async(te="draft")=>{if(p){if(!m.title.trim()){n({title:"Error",description:"Title is required",variant:"destructive"});return}if(te==="scheduled"&&!m.scheduledAt){n({title:"Error",description:"Please select a date and time for scheduling",variant:"destructive"});return}try{const we=new FormData;we.append("title",m.title),we.append("content",m.content||""),we.append("visibility",m.visibility),we.append("status",te),we.append("targetingType",m.targetingType),we.append("targetedPlanIds",JSON.stringify(m.targetedPlanIds)),te==="scheduled"&&m.scheduledAt&&we.append("scheduledAt",new Date(m.scheduledAt).toISOString()),N.length>0&&we.append("attachment",N[0]);const Ze=await fetch(`/api/announcements/${p.id}`,{method:"PUT",body:we,credentials:"same-origin"});if(!Ze.ok){const st=await Ze.json();throw new Error(st.error||"Failed to update announcement")}g({title:"",content:"",visibility:"clients",status:"draft",scheduledAt:"",targetingType:"everyone",targetedPlanIds:[]}),S([]),c(!1),x(null),he.invalidateQueries({queryKey:["/api/announcements"]}),n({title:"Success",description:`Announcement updated and ${te==="draft"?"saved as draft":te==="scheduled"?"scheduled successfully":"published successfully"}`})}catch(we){console.error("Error updating announcement:",we),n({title:"Error",description:we instanceof Error?we.message:"Failed to update announcement",variant:"destructive"})}}};return s.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx(kr,{isMobileOpen:i,onMobileToggle:()=>o(!i)}),s.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>o(!0),className:"text-gray-600",children:s.jsx($r,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"News"}),s.jsx("div",{className:"w-10"})]}),s.jsx(Fr,{title:"News",subtitle:"Community updates and news"}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[s.jsx(K,{children:s.jsx(re,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(lo,{children:[s.jsx(co,{src:le==null?void 0:le.profileImageUrl}),s.jsxs(uo,{children:[(Vr=le==null?void 0:le.firstName)==null?void 0:Vr[0],(ir=le==null?void 0:le.lastName)==null?void 0:ir[0]]})]}),s.jsxs(M,{variant:"outline",className:"flex-1 justify-start text-gray-500 hover-glow-blue hover-float",onClick:()=>c(!0),children:[s.jsx(sK,{className:"h-4 w-4 mr-3 hover-bounce",style:{color:r||"#10b981"}}),"What's on your mind?"]})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(M,{variant:h?"default":"outline",size:"sm",onClick:()=>f(!h),className:`shrink-0 ${h?"":"hover-glow-purple hover-float"}`,style:h?{background:`linear-gradient(135deg, ${t||"#3b82f6"}, ${r||"#10b981"})`,color:"white",border:"none"}:{},children:"My News"}),s.jsx(J,{type:"text",placeholder:"Search news by title...",value:d,onChange:te=>u(te.target.value),className:"flex-1 hover-glow-blue transition-all duration-300"})]})})}),l&&s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:p?"Edit News":"Create News"}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>{c(!1),x(null),g({title:"",content:"",visibility:"clients",status:"draft",scheduledAt:"",targetingType:"everyone",targetedPlanIds:[]})},children:s.jsx(Lr,{className:"h-4 w-4"})})]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(lo,{children:[s.jsx(co,{src:le==null?void 0:le.profileImageUrl}),s.jsxs(uo,{children:[(rs=le==null?void 0:le.firstName)==null?void 0:rs[0],(vh=le==null?void 0:le.lastName)==null?void 0:vh[0]]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[le==null?void 0:le.firstName," ",le==null?void 0:le.lastName]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[de(m.visibility),s.jsxs(an,{value:m.visibility,onValueChange:te=>g(we=>({...we,visibility:te})),children:[s.jsx(Gr,{className:"w-auto border-none p-0 h-auto",children:s.jsx(on,{})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"clients",children:"Clients"}),s.jsx(Ae,{value:"affiliates",children:"Affiliates"}),s.jsx(Ae,{value:"admins",children:"Admins Only"})]})]})]})]})]}),s.jsx(J,{id:"news-title",placeholder:"Title (required)",value:m.title,onChange:te=>g(we=>({...we,title:te.target.value})),required:!0}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{htmlFor:"news-content",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"What's happening? (optional)"}),s.jsx(IC,{titleFieldId:"news-title",descriptionFieldId:"news-content",contentType:"news",onContentGenerated:te=>g(we=>({...we,content:te}))})]}),s.jsx(pr,{id:"news-content",placeholder:"What's happening? (optional)",value:m.content,onChange:te=>g(we=>({...we,content:te.target.value})),rows:4,className:"resize-none"})]}),s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${w?"bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600"}`,style:{borderColor:w?t||"#3b82f6":void 0},onDrop:Me,onDragOver:Le,onDragLeave:Ie,children:[s.jsx(Wi,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:["Drop files here to upload, or"," ",s.jsx("button",{type:"button",className:"hover:opacity-80",style:{color:t||"#3b82f6"},onClick:()=>{var te;return(te=oe.current)==null?void 0:te.click()},children:"browse"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Support for images, videos, audio, and documents (max 5 files)"}),s.jsx("input",{ref:oe,type:"file",multiple:!0,className:"hidden",accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt",onChange:te=>Ne(te.target.files)})]}),N.length>0&&s.jsx("div",{className:"space-y-2",children:N.map((te,we)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[z(te.type),s.jsx("span",{className:"text-sm",children:te.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",(te.size/1024/1024).toFixed(1)," MB)"]})]}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>qe(we),children:s.jsx(Lr,{className:"h-4 w-4"})})]},we))}),s.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Targeting Options"}),s.jsxs(jB,{value:m.targetingType,onValueChange:te=>g(we=>({...we,targetingType:te,targetedPlanIds:te==="everyone"?[]:we.targetedPlanIds})),className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(o2,{value:"everyone",id:"everyone"}),s.jsx(Y,{htmlFor:"everyone",className:"text-sm cursor-pointer",children:"Everyone (Public visibility)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(o2,{value:"by_plan",id:"by_plan"}),s.jsx(Y,{htmlFor:"by_plan",className:"text-sm cursor-pointer",children:"By Plan (Restrict to selected plan purchasers)"})]})]}),m.targetingType==="by_plan"&&s.jsxs("div",{className:"space-y-2 pl-6",children:[s.jsx(Y,{className:"text-sm font-medium",children:"Select Plans"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:X.map(te=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Uo,{id:`plan-${te.id}`,checked:m.targetedPlanIds.includes(te.id),onCheckedChange:we=>{g(we?Ze=>({...Ze,targetedPlanIds:[...Ze.targetedPlanIds,te.id]}):Ze=>({...Ze,targetedPlanIds:Ze.targetedPlanIds.filter(yr=>yr!==te.id)}))}}),s.jsxs(Y,{htmlFor:`plan-${te.id}`,className:"text-sm cursor-pointer flex-1",children:[te.name," - $",te.monthlyPrice||"0","/month"]})]},te.id))}),m.targetedPlanIds.length===0&&s.jsx("p",{className:"text-xs text-red-500",children:"Please select at least one plan for targeting"})]})]}),y==="schedule"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Schedule Date & Time"}),s.jsx(J,{type:"datetime-local",value:m.scheduledAt,onChange:te=>g(we=>({...we,scheduledAt:te.target.value})),min:new Date().toISOString().slice(0,16),className:"w-full"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>{var te;return(te=oe.current)==null?void 0:te.click()},children:[s.jsx(rK,{className:"h-4 w-4 mr-2"}),"Attach"]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(M,{variant:"outline",onClick:()=>{c(!1),x(null),g({title:"",content:"",visibility:"clients",status:"draft",scheduledAt:"",targetingType:"everyone",targetedPlanIds:[]}),j("publish")},children:"Cancel"}),s.jsxs("div",{className:"flex border border-input rounded-md",children:[s.jsx(M,{onClick:()=>{const te=y==="publish"?"published":y==="schedule"?"scheduled":"draft";if(y==="schedule"&&!m.scheduledAt){n({title:"Schedule time required",description:"Please select a date and time for scheduling",variant:"destructive"});return}p?it(te):ee(te)},className:"rounded-r-none border-0 border-r border-input/50",style:{background:`linear-gradient(135deg, ${t||"#3b82f6"}, ${r||"#10b981"})`,color:"white",border:"none"},children:y==="publish"?p?"Update":"Add News":y==="schedule"?"Schedule":"Draft"}),s.jsxs(D1,{children:[s.jsx(I1,{asChild:!0,children:s.jsx(M,{variant:"default",size:"sm",className:"rounded-l-none border-0 px-2 h-full",style:{background:`linear-gradient(135deg, ${t||"#3b82f6"}, ${r||"#10b981"})`,color:"white",border:"none"},children:s.jsx(qa,{className:"h-4 w-4",style:{color:"white"}})})}),s.jsxs(ry,{align:"end",children:[y!=="publish"&&s.jsx(ci,{onClick:()=>j("publish"),className:"cursor-pointer",children:p?"Update":"Add News"}),y!=="draft"&&s.jsx(ci,{onClick:()=>j("draft"),className:"cursor-pointer",children:"Save as Draft"}),y!=="schedule"&&s.jsx(ci,{onClick:()=>j("schedule"),className:"cursor-pointer",children:"Schedule for Later"})]})]})]})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:B.length===0?s.jsx(K,{children:s.jsx(G,{className:"p-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:d||h?"No news found matching your filters.":"No news posts yet. Be the first to share something!"})})}):B.map(te=>{var we,Ze,yr;return s.jsxs(K,{id:`announcement-${te.id}`,className:te.isPinned?"bg-blue-50/50 dark:bg-blue-900/10":"",style:{borderColor:te.isPinned?t||"#3b82f6":void 0},onMouseEnter:()=>me(te.id),onClick:()=>Xe(te.id,"card"),children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsxs(lo,{children:[s.jsx(co,{src:te.authorProfileImage}),s.jsx(uo,{children:te.authorName.split(" ").map(st=>st[0]).join("")})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-semibold",children:te.authorName}),te.isPinned&&s.jsx(iK,{className:"h-4 w-4",style:{color:t||"#3b82f6"}}),te.visibility!=="public"&&s.jsxs(be,{variant:"info",className:"text-xs",children:[de(te.visibility),s.jsx("span",{className:"ml-1 capitalize",children:te.visibility})]}),(te.status==="scheduled"||te.status==="draft")&&s.jsx(be,{variant:te.status==="scheduled"?"warning":"purple",className:"text-xs flex items-center gap-1",children:te.status==="scheduled"?s.jsxs(s.Fragment,{children:[s.jsx(Go,{className:"h-3 w-3"}),"Scheduled"]}):s.jsxs(s.Fragment,{children:[s.jsx(Bq,{className:"h-3 w-3"}),"Draft"]})})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[zh(new Date(te.createdAt))," ago"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/news/${te.id}`),n({title:"Link copied",description:"News link copied to clipboard"})},children:s.jsx(Ir,{className:"h-4 w-4"})}),String(te.userId)===String(e==null?void 0:e.id)||(e==null?void 0:e.role)==="super_admin"||(e==null?void 0:e.role)==="white_label_client"?s.jsxs(D1,{children:[s.jsx(I1,{asChild:!0,children:s.jsx(M,{variant:"ghost",size:"sm",children:s.jsx(NS,{className:"h-4 w-4"})})}),s.jsxs(ry,{align:"end",children:[s.jsx(ci,{onClick:()=>mt(te),className:"cursor-pointer",children:"Edit News"}),s.jsx(ci,{onClick:()=>Qe(te),className:"cursor-pointer",children:"View Analytics"}),s.jsxs(ci,{onClick:()=>{H(te),R(!0)},className:"cursor-pointer text-destructive hover:text-destructive/90",children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Delete News"]}),s.jsx(ci,{onClick:()=>ae(te.id),className:"cursor-pointer",children:"Copy Link"})]})]}):s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>ae(te.id),children:s.jsx(Ir,{className:"h-4 w-4"})})]})]})}),s.jsxs(G,{className:"space-y-4",children:[te.title&&s.jsx("h3",{className:"text-lg font-semibold",children:te.title}),s.jsx("p",{className:"whitespace-pre-wrap",children:te.content}),(()=>{let st=te.attachments;if(typeof st=="string")try{st=JSON.parse(st),console.log("Parsed attachments from JSON string:",st)}catch(_r){console.error("Failed to parse attachments JSON:",_r),st=[]}return Array.isArray(st)||(st=[]),st&&st.length>0?s.jsx("div",{className:"space-y-3",children:st.map((_r,YB)=>{const XB=_r.type.startsWith("image/")||_r.type==="image"||_r.name.match(/\.(jpg|jpeg|png|gif|webp)$/i);return s.jsx("div",{className:"border rounded-lg overflow-hidden",children:XB?s.jsx("img",{src:_r.url,alt:_r.name,className:"w-full max-h-96 object-contain bg-gray-50 dark:bg-gray-800 cursor-pointer",onClick:ob=>{ob.stopPropagation(),He(te.id,"image_open",{fileName:_r.name,targetUrl:_r.url}),window.open(_r.url,"_blank")},onError:ob=>{const ek=ob.target;ek.style.display="none";const tk=ek.parentElement;tk&&(tk.innerHTML=`
                                      <div class="p-4 flex items-center space-x-2">
                                        <span class="text-sm truncate">${_r.name}</span>
                                      </div>
                                    `)}}):s.jsxs("div",{className:"p-4 flex items-center space-x-2",children:[z(_r.type),s.jsx("span",{className:"text-sm truncate",children:_r.name})]})},YB)})}):null})(),s.jsx("div",{className:"flex items-center justify-between pt-4 border-t",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs(M,{variant:"ghost",size:"sm",className:"flex items-center space-x-1",onClick:st=>{st.stopPropagation(),Xe(te.id,"like"),Te(te.id)},children:[s.jsx(em,{className:"h-4 w-4",fill:te.userLiked?t||"#3b82f6":"none",color:te.userLiked?t||"#3b82f6":r||"#10b981"}),s.jsx("span",{style:{color:r||"#10b981"},children:te.likesCount})]}),s.jsxs(M,{variant:"ghost",size:"sm",className:"flex items-center space-x-1",onClick:st=>{st.stopPropagation(),Xe(te.id,"comment"),je(te.id)},children:[s.jsx(dp,{className:"h-4 w-4",style:{color:r||"#10b981"}}),s.jsx("span",{style:{color:r||"#10b981"},children:te.commentsCount})]}),s.jsxs(M,{variant:"ghost",size:"sm",className:"flex items-center space-x-1",onClick:st=>{st.stopPropagation(),Xe(te.id,"share"),dt(te)},children:[s.jsx(fc,{className:"h-4 w-4",style:{color:r||"#10b981"}}),s.jsx("span",{style:{color:r||"#10b981"},children:"Share"})]})]})}),_[te.id]&&s.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[k[te.id]&&k[te.id].length>0&&s.jsx("div",{className:"space-y-3 mb-4",children:k[te.id].map(st=>s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsxs(lo,{className:"h-8 w-8",children:[s.jsx(co,{src:st.authorProfileImage}),s.jsx(uo,{className:"text-xs",children:st.authorName.split(" ").map(_r=>_r[0]).join("")})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg px-3 py-2",children:[s.jsx("p",{className:"font-medium text-sm",children:st.authorName}),s.jsx("p",{className:"text-sm",children:st.content})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[zh(new Date(st.createdAt))," ago"]})]})]},st.id))}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(lo,{className:"h-8 w-8",children:[s.jsx(co,{src:le==null?void 0:le.profileImageUrl}),s.jsxs(uo,{className:"text-xs",children:[(we=le==null?void 0:le.firstName)==null?void 0:we[0],(Ze=le==null?void 0:le.lastName)==null?void 0:Ze[0]]})]}),s.jsxs("div",{className:"flex-1 flex space-x-2",children:[s.jsx(J,{placeholder:"Write a comment...",value:C[te.id]||"",onChange:st=>P(_r=>({..._r,[te.id]:st.target.value})),onKeyPress:st=>{st.key==="Enter"&&Nt(te.id)}}),s.jsx(M,{size:"sm",onClick:()=>Nt(te.id),disabled:!((yr=C[te.id])!=null&&yr.trim()),style:{background:`linear-gradient(135deg, ${t||"#3b82f6"}, ${r||"#10b981"})`,color:"white",border:"none"},children:s.jsx(_S,{className:"h-4 w-4",style:{color:"white"}})})]})]})]})]})]},te.id)})})]})})]}),s.jsx(ar,{open:T,onOpenChange:$,children:s.jsxs(Yt,{className:"sm:max-w-md",children:[s.jsx(Xt,{children:s.jsx(Qt,{children:"Share Announcement"})}),V&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm",children:V.title}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["By ",V.authorName]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:"Copy link"})]}),s.jsx(M,{variant:"outline",size:"sm",onClick:()=>ae(V.id),children:"Copy"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>Se("whatsapp",V),className:"flex items-center space-x-2",children:[s.jsx(Yo,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"WhatsApp"})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>Se("twitter",V),className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),s.jsx("span",{children:"Twitter"})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>Se("facebook",V),className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"h-4 w-4",style:{color:t||"#3b82f6"},viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),s.jsx("span",{children:"Facebook"})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>Se("linkedin",V),className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"h-4 w-4",style:{color:r||"#10b981"},viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),s.jsx("span",{children:"LinkedIn"})]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>Se("telegram",V),className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"h-4 w-4",style:{color:t||"#3b82f6"},viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),s.jsx("span",{children:"Telegram"})]})]})]})]})]})}),s.jsx(ar,{open:!!L,onOpenChange:()=>F(null),children:s.jsxs(Yt,{className:"max-w-4xl h-[80vh]",children:[s.jsx(Xt,{children:s.jsxs(Qt,{className:"flex items-center space-x-2",children:[s.jsx(D_,{className:"h-5 w-5"}),s.jsxs("span",{children:["Analytics - ",L==null?void 0:L.title]})]})}),U&&s.jsxs("div",{className:"space-y-6 overflow-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vt,{className:"h-8 w-8",style:{color:t||"#3b82f6"}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",style:{color:t||"#3b82f6"},children:U.views}),s.jsx("p",{className:"text-sm text-gray-500",children:"Views"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Hover interactions"})]})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(R_,{className:"h-8 w-8",style:{color:r||"#10b981"}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",style:{color:r||"#10b981"},children:U.clicks}),s.jsx("p",{className:"text-sm text-gray-500",children:"Clicks"}),s.jsx("p",{className:"text-xs text-gray-400",children:"All interactions"})]})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ir,{className:"h-8 w-8 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:U.conversions}),s.jsx("p",{className:"text-sm text-gray-500",children:"Conversions"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Images, files, links"})]})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Detailed Activity"}),((js=U.viewsData)==null?void 0:js.length)>0&&s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("h4",{className:"font-medium flex items-center space-x-2",children:[s.jsx(vt,{className:"h-4 w-4",style:{color:t||"#3b82f6"}}),s.jsx("span",{children:"Recent Views"})]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:U.viewsData.slice(0,10).map((te,we)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"User viewed news"}),s.jsxs("span",{className:"text-gray-400",children:[zh(new Date(te.createdAt))," ago"]})]},we))})})]}),((ei=U.clicksData)==null?void 0:ei.length)>0&&s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("h4",{className:"font-medium flex items-center space-x-2",children:[s.jsx(R_,{className:"h-4 w-4",style:{color:r||"#10b981"}}),s.jsx("span",{children:"Recent Clicks"})]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:U.clicksData.slice(0,10).map((te,we)=>{var Ze;return s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:["Clicked on ",((Ze=te.eventData)==null?void 0:Ze.elementClicked)||"news"]}),s.jsxs("span",{className:"text-gray-400",children:[zh(new Date(te.createdAt))," ago"]})]},we)})})})]}),((Tp=U.conversionsData)==null?void 0:Tp.length)>0&&s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("h4",{className:"font-medium flex items-center space-x-2",children:[s.jsx(Ir,{className:"h-4 w-4 text-purple-500"}),s.jsx("span",{children:"Recent Conversions"})]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:U.conversionsData.slice(0,10).map((te,we)=>{var Ze,yr,st;return s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:[((Ze=te.eventData)==null?void 0:Ze.conversionType)==="image_open"?"Opened image":((yr=te.eventData)==null?void 0:yr.conversionType)==="link_click"?"Clicked link":"Downloaded file",((st=te.eventData)==null?void 0:st.fileName)&&`: ${te.eventData.fileName}`]}),s.jsxs("span",{className:"text-gray-400",children:[zh(new Date(te.createdAt))," ago"]})]},we)})})})]}),!((bh=U.viewsData)!=null&&bh.length)&&!((wh=U.clicksData)!=null&&wh.length)&&!((JP=U.conversionsData)!=null&&JP.length)&&s.jsx(K,{children:s.jsx(G,{className:"p-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No detailed activity data yet. Analytics will appear as users interact with your news."})})})]})]}),!U&&s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(D_,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Loading analytics data..."})]})})]})}),s.jsx(ar,{open:O,onOpenChange:R,children:s.jsxs(Yt,{children:[s.jsxs(Xt,{children:[s.jsx(Qt,{children:"Delete News"}),s.jsxs(gs,{children:['Are you sure you want to delete "',I==null?void 0:I.title,'"? This action cannot be undone.']})]}),s.jsxs(iR,{children:[s.jsx(M,{variant:"outline",onClick:()=>{R(!1),H(null)},children:"Cancel"}),s.jsx(M,{variant:"destructive",onClick:()=>{I&&(q.mutate(I.id),R(!1),H(null))},disabled:q.isPending,children:q.isPending?"Deleting...":"Delete"})]})]})})]})}function JEe(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(K,{className:"w-full max-w-md mx-4",children:s.jsxs(G,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Sd,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function eTe(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var HP="ScrollArea",[NB]=zr(HP),[tTe,Ks]=NB(HP),SB=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[d,u]=v.useState(null),[h,f]=v.useState(null),[p,x]=v.useState(null),[m,g]=v.useState(null),[y,j]=v.useState(0),[w,b]=v.useState(0),[N,S]=v.useState(!1),[C,P]=v.useState(!1),_=et(t,k=>c(k)),A=rh(a);return s.jsx(tTe,{scope:r,type:n,dir:A,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:C,onScrollbarYEnabledChange:P,onCornerWidthChange:j,onCornerHeightChange:b,children:s.jsx(ze.div,{dir:A,...o,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});SB.displayName=HP;var CB="ScrollAreaViewport",PB=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Ks(CB,r),l=v.useRef(null),c=et(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});PB.displayName=CB;var Ja="ScrollAreaScrollbar",qP=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ks(Ja,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(rTe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(nTe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(kB,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(KP,{...n,ref:t}):null});qP.displayName=Ja;var rTe=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ks(Ja,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Br,{present:r||i,children:s.jsx(kB,{"data-state":i?"visible":"hidden",...n,ref:t})})}),nTe=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ks(Ja,e.__scopeScrollArea),i=e.orientation==="horizontal",o=ib(()=>c("SCROLL_END"),100),[l,c]=eTe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const p=d[u];h!==p&&(c("SCROLL"),o()),h=p};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),s.jsx(Br,{present:r||l!=="hidden",children:s.jsx(KP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),kB=v.forwardRef((e,t)=>{const r=Ks(Ja,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=ib(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Fu(r.viewport,c),Fu(r.content,c),s.jsx(Br,{present:n||i,children:s.jsx(KP,{"data-state":i?"visible":"hidden",...a,ref:t})})}),KP=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ks(Ja,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=OB(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,p){return cTe(f,o.current,l,p)}return r==="horizontal"?s.jsx(sTe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,p=L5(f,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):r==="vertical"?s.jsx(aTe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,p=L5(f,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),sTe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ks(Ja,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=et(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(AB,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ab(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),DB(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:av(o.paddingLeft),paddingEnd:av(o.paddingRight)}})}})}),aTe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ks(Ja,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=et(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(AB,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ab(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),DB(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:av(o.paddingTop),paddingEnd:av(o.paddingBottom)}})}})}),[iTe,_B]=NB(Ja),AB=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=e,p=Ks(Ja,r),[x,m]=v.useState(null),g=et(t,_=>m(_)),y=v.useRef(null),j=v.useRef(""),w=p.viewport,b=n.content-n.viewport,N=gr(u),S=gr(c),C=ib(h,10);function P(_){if(y.current){const A=_.clientX-y.current.left,k=_.clientY-y.current.top;d({x:A,y:k})}}return v.useEffect(()=>{const _=A=>{const k=A.target;(x==null?void 0:x.contains(k))&&N(A,b)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[w,x,b,N]),v.useEffect(S,[n,S]),Fu(x,C),Fu(p.content,C),s.jsx(iTe,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:gr(i),onThumbPointerUp:gr(o),onThumbPositionChange:S,onThumbPointerDown:gr(l),children:s.jsx(ze.div,{...f,ref:g,style:{position:"absolute",...f.style},onPointerDown:Ce(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),y.current=x.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),P(_))}),onPointerMove:Ce(e.onPointerMove,P),onPointerUp:Ce(e.onPointerUp,_=>{const A=_.target;A.hasPointerCapture(_.pointerId)&&A.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=j.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),sv="ScrollAreaThumb",EB=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_B(sv,e.__scopeScrollArea);return s.jsx(Br,{present:r||a.hasThumb,children:s.jsx(oTe,{ref:t,...n})})}),oTe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Ks(sv,r),o=_B(sv,r),{onThumbPositionChange:l}=o,c=et(t,h=>o.onThumbChange(h)),d=v.useRef(void 0),u=ib(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(u(),!d.current){const p=dTe(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,u,l]),s.jsx(ze.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ce(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),x=h.clientX-p.left,m=h.clientY-p.top;o.onThumbPointerDown({x,y:m})}),onPointerUp:Ce(e.onPointerUp,o.onThumbPointerUp)})});EB.displayName=sv;var GP="ScrollAreaCorner",TB=v.forwardRef((e,t)=>{const r=Ks(GP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(lTe,{...e,ref:t}):null});TB.displayName=GP;var lTe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ks(GP,r),[i,o]=v.useState(0),[l,c]=v.useState(0),d=!!(i&&l);return Fu(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Fu(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(ze.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function av(e){return e?parseInt(e,10):0}function OB(e,t){const r=e/t;return isNaN(r)?0:r}function ab(e){const t=OB(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function cTe(e,t,r,n="ltr"){const a=ab(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return MB([c,d],h)(e)}function L5(e,t,r="ltr"){const n=ab(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=N1(e,c);return MB([0,o],[0,l])(d)}function MB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function DB(e,t){return e>0&&e<t}var dTe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function ib(e,t){const r=gr(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Fu(e,t){const r=gr(t);jr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var IB=SB,uTe=PB,hTe=TB;const RB=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(IB,{ref:n,className:De("relative overflow-hidden",e),...r,children:[s.jsx(uTe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx($B,{}),s.jsx(hTe,{})]}));RB.displayName=IB.displayName;const $B=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(qP,{ref:n,orientation:t,className:De("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(EB,{className:"relative flex-1 rounded-full bg-border"})}));$B.displayName=qP.displayName;const fTe=e=>{switch(e){case"Super Admin":return[{icon:Ea,label:"Dashboard",path:"/"},{icon:Zr,label:"Dashboard Plans",path:"/plans"},{icon:ct,label:"White-Label Clients",path:"/clients"},{icon:wn,label:"Super Admin Affiliates",path:"/affiliates"},{icon:xr,label:"Commission Rules",path:"/commission-rules"},{icon:Ht,label:"Billing & Payments",path:"/billing"},{icon:Xr,label:"Platform Analytics",path:"/analytics"},{icon:Lq,label:"System Settings",path:"/system-settings"},{icon:vt,label:"Impersonate Users",path:"/impersonate"}];case"Super Admin Affiliate":return[{icon:Ea,label:"Dashboard",path:"/"},{icon:Jl,label:"Referral Links",path:"/links"},{icon:ct,label:"My Referrals",path:"/referrals"},{icon:nu,label:"Conversion Tracking",path:"/tracking"},{icon:Xr,label:"Performance Analytics",path:"/analytics"},{icon:Ot,label:"Available Plans",path:"/plans"},{icon:Bt,label:"Reports",path:"/reports"}];case"White-Label Client":return[{icon:Ea,label:"Dashboard",path:"/"},{icon:Ot,label:"Digital Products",path:"/products"},{icon:ct,label:"End Users",path:"/end-users"},{icon:wn,label:"My Affiliates",path:"/my-affiliates"},{icon:Xr,label:"Analytics",path:"/analytics"},{icon:vn,label:"Portal Settings",path:"/portal-settings"},{icon:vt,label:"Preview Portal",path:"/preview"},{icon:Zr,label:"Account Settings",path:"/settings"}];case"White-Label Affiliate":return[{icon:Ea,label:"Dashboard",path:"/"},{icon:Ot,label:"Products to Promote",path:"/products"},{icon:Jl,label:"My Links",path:"/links"},{icon:Xr,label:"Traffic Analytics",path:"/analytics"},{icon:nu,label:"Performance",path:"/performance"},{icon:Zr,label:"Account Settings",path:"/settings"}];case"End User":return[{icon:Ea,label:"Dashboard",path:"/"},{icon:Ot,label:"Browse Products",path:"/browse"},{icon:Sn,label:"My Downloads",path:"/downloads"},{icon:kS,label:"My Courses",path:"/courses"},{icon:ru,label:"Favorites",path:"/favorites"},{icon:Jf,label:"Library",path:"/library"},{icon:Jn,label:"Profile",path:"/profile"},{icon:ms,label:"Notifications",path:"/notifications"},{icon:dp,label:"Support",path:"/support"},{icon:Zr,label:"Settings",path:"/settings"}];default:return[{icon:Ea,label:"Dashboard",path:"/"}]}};function mTe({userRole:e}){var c,d;const[t,r]=v.useState(!1),[n]=Pn(),{user:a}=ft(),i=fTe(e),o=()=>{window.location.href="/api/logout"},l=s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20",children:s.jsx(XS,{size:"md",className:"mb-4"})}),s.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-green-50 to-teal-50 dark:from-green-900/20 dark:to-teal-900/20",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(lo,{className:"ring-2 ring-green-200 dark:ring-green-700",children:[s.jsx(co,{src:a==null?void 0:a.profileImageUrl}),s.jsx(uo,{className:"bg-gradient-to-br from-green-400 to-teal-500 text-white font-semibold",children:((c=a==null?void 0:a.firstName)==null?void 0:c[0])||((d=a==null?void 0:a.email)==null?void 0:d[0])||"U"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[a==null?void 0:a.firstName," ",(a==null?void 0:a.lastName)||""]}),s.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 font-medium truncate",children:e})]})]})}),s.jsx(RB,{className:"flex-1 px-3 py-4",children:s.jsx("nav",{className:"space-y-1",children:i.map(u=>{const h=u.icon,f=n===u.path;return s.jsx(K3,{href:u.path,children:s.jsxs(M,{variant:f?"secondary":"ghost",className:`w-full justify-start h-10 px-3 transition-all duration-200 ${f?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-foreground/80 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 dark:hover:from-blue-900/30 dark:hover:to-purple-900/30 hover:text-blue-600 dark:hover:text-blue-400"}`,onClick:()=>r(!1),children:[s.jsx(h,{className:`h-4 w-4 mr-3 transition-all duration-200 ${f?"text-white animate-pulse":"hover-bounce"}`}),s.jsx("span",{className:"truncate",children:u.label})]})},u.path)})})}),s.jsx("div",{className:"p-4 border-t bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20",children:s.jsxs(M,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-gradient-to-r hover:from-red-100 hover:to-orange-100 dark:hover:from-red-900/40 dark:hover:to-orange-900/40 transition-all duration-200 hover-glow-pink",onClick:o,children:[s.jsx(hc,{className:"h-4 w-4 mr-3 hover-wiggle"}),"Sign Out"]})})]});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:s.jsx(M,{variant:"outline",size:"icon",className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white border-none shadow-lg hover:from-indigo-600 hover:to-purple-700 transition-all duration-200",onClick:()=>r(!t),children:t?s.jsx(Lr,{className:"h-4 w-4"}):s.jsx($r,{className:"h-4 w-4"})})}),t&&s.jsx("div",{className:"lg:hidden fixed inset-0 z-40 bg-black bg-opacity-50",onClick:()=>r(!1)}),s.jsx("div",{className:`lg:hidden fixed top-0 left-0 z-40 h-full w-64 bg-white dark:bg-gray-900 border-r transform transition-transform ${t?"translate-x-0":"-translate-x-full"}`,children:l}),s.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0 bg-white dark:bg-gray-900 border-r",children:l})]})}function pTe(){const{whiteLabel:e,isLoading:t}=YS();if(t)return s.jsx("footer",{className:"bg-gray-900 text-white py-8 mt-auto",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsx("div",{className:"mb-4 md:mb-0",children:s.jsx("div",{className:"h-8 w-32 bg-gray-700 animate-pulse rounded"})}),s.jsx("div",{className:"text-sm text-gray-400",children:"Loading..."})]})})});const r=new Date().getFullYear(),n=(e==null?void 0:e.businessName)||"White Label Portal";return s.jsx("footer",{className:"bg-gray-900 text-white py-8 mt-auto",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsx("div",{className:"mb-4 md:mb-0",children:s.jsx(XS,{size:"sm",className:"text-white"})}),s.jsxs("div",{className:"text-sm text-gray-400",children:[" ",r," ",n,". All rights reserved."]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-sm text-gray-400",children:[s.jsxs("div",{className:"mb-2 md:mb-0",children:[s.jsx("a",{href:"/privacy",className:"hover:text-white mr-4",children:"Privacy Policy"}),s.jsx("a",{href:"/terms",className:"hover:text-white mr-4",children:"Terms of Service"}),s.jsx("a",{href:"/support",className:"hover:text-white",children:"Support"})]}),s.jsx("div",{children:"Powered by White Label Portal"})]})})]})})}function iv({children:e,userRole:t}){return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsx(mTe,{userRole:t}),s.jsxs("div",{className:"lg:pl-64 flex flex-col flex-1",children:[s.jsx("main",{className:"flex-1",children:e}),s.jsx(pTe,{})]})]})}function gTe(){var f,p;const{user:e}=ft(),t=Zt(),[r,n]=v.useState(""),a=sessionStorage.getItem("selectedRole")||(e==null?void 0:e.role)||"Super Admin Affiliate",{data:i,isLoading:o}=ue({queryKey:["/api/referrals/my"]}),{data:l}=ue({queryKey:["/api/referrals/stats"]}),{data:c}=ue({queryKey:["/api/commission-tiers"]}),d=Oe({mutationFn:async x=>Pe("/api/referrals/invite",{method:"POST",body:JSON.stringify({email:x})}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/referrals/my"]}),n("")}}),u=x=>{x.preventDefault(),r&&d.mutate(r)},h=x=>{switch(x){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return o?s.jsx(iv,{userRole:a,children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-center py-12",children:"Loading referral network..."})})}):s.jsx(iv,{userRole:a,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Referral Network"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your referrals and track commission earnings"})]}),s.jsx("div",{className:"flex space-x-4",children:s.jsxs(M,{variant:"outline",children:[s.jsx(fc,{className:"mr-2 h-4 w-4"}),"Share Link"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Referrals"}),s.jsx(ct,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.totalReferrals)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(l==null?void 0:l.newReferrals)||0," this month"]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Active Referrals"}),s.jsx(wn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.activeReferrals)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.conversionRate)||0,"% conversion rate"]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Commissions"}),s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(l==null?void 0:l.totalCommissions)||0]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+$",(l==null?void 0:l.monthlyCommissions)||0," this month"]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Commission Rate"}),s.jsx(wn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[((f=l==null?void 0:l.currentTier)==null?void 0:f.rate)||10,"%"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[((p=l==null?void 0:l.currentTier)==null?void 0:p.name)||"Standard"," tier"]})]})]})]}),s.jsxs(K,{className:"mb-8",children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center",children:[s.jsx(Ix,{className:"mr-2 h-5 w-5"}),"Invite New Referral"]})}),s.jsxs(G,{children:[s.jsxs("form",{onSubmit:u,className:"flex space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(J,{type:"email",placeholder:"Enter email address",value:r,onChange:x=>n(x.target.value),required:!0})}),s.jsxs(M,{type:"submit",disabled:d.isPending,children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Send Invite"]})]}),d.isPending&&s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Sending invitation..."})]})]}),s.jsxs(K,{className:"mb-8",children:[s.jsx(re,{children:s.jsx(ne,{children:"Commission Tiers"})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c==null?void 0:c.map(x=>{var m,g;return s.jsxs("div",{className:`p-4 border rounded-lg ${((m=l==null?void 0:l.currentTier)==null?void 0:m.id)===x.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:x.name}),((g=l==null?void 0:l.currentTier)==null?void 0:g.id)===x.id&&s.jsx(be,{variant:"default",children:"Current"})]}),s.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:[x.rate,"%"]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:x.description}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Requires ",x.minReferrals," active referrals"]})]},x.id)}),(!c||c.length===0)&&s.jsxs("div",{className:"col-span-3 text-center py-8 text-gray-500",children:[s.jsx(wn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Commission tiers will be displayed here"})]})]})})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{children:["Your Referrals (",(i==null?void 0:i.length)||0,")"]})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[i==null?void 0:i.map(x=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-800 rounded-full flex items-center justify-center",children:s.jsx(ct,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:x.referredUserEmail||x.email}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(Nn,{className:"h-3 w-3"}),s.jsxs("span",{children:["Joined ",new Date(x.createdAt).toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",x.totalCommissionEarned||0]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total earned"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:x.subscriptions||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Subscriptions"})]}),s.jsx(be,{className:h(x.status),children:x.status})]})]},x.id)),(!i||i.length===0)&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ct,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("div",{className:"text-gray-500 mb-4",children:"No referrals yet"}),s.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Start inviting people to grow your referral network"}),s.jsxs(M,{onClick:()=>{var x;return(x=document.getElementById("inviteEmail"))==null?void 0:x.focus()},children:[s.jsx(Ix,{className:"mr-2 h-4 w-4"}),"Send Your First Invite"]})]})]})})]})]})})}function xTe(){var m;const{user:e}=ft(),t=Zt(),[r,n]=v.useState(!1),[a,i]=v.useState(null),o=sessionStorage.getItem("selectedRole")||(e==null?void 0:e.role)||"Super Admin Affiliate",{data:l,isLoading:c}=ue({queryKey:["/api/promotional-links/my"]}),{data:d}=ue({queryKey:["/api/products/available"]}),{data:u}=ue({queryKey:["/api/promotional-links/stats"]}),h=Oe({mutationFn:async g=>Pe("/api/promotional-links",{method:"POST",body:JSON.stringify(g)}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/promotional-links/my"]}),n(!1)}}),f=Oe({mutationFn:async g=>Pe(`/api/promotional-links/${g}`,{method:"DELETE"}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/promotional-links/my"]})}}),p=g=>{navigator.clipboard.writeText(g)},x=async g=>{g.preventDefault();const y=new FormData(g.currentTarget),j={productId:parseInt(y.get("productId")),customSlug:y.get("customSlug")||null,utm_source:y.get("utm_source")||null,utm_medium:y.get("utm_medium")||null,utm_campaign:y.get("utm_campaign")||null};h.mutate(j)};return c?s.jsx(iv,{userRole:o,children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-center py-12",children:"Loading promotional links..."})})}):s.jsx(iv,{userRole:o,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Promotional Links"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Create and manage your affiliate links"})]}),s.jsxs(M,{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Create Link"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Links"}),s.jsx(Jl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active promotional links"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Total Clicks"}),s.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalClicks)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time clicks"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Conversions"}),s.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.conversions)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(u==null?void 0:u.conversionRate)||0,"% rate"]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Top Performer"}),s.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:((m=u==null?void 0:u.topLink)==null?void 0:m.clicks)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Best performing link"})]})]})]}),r&&s.jsxs(K,{className:"mb-8",children:[s.jsx(re,{children:s.jsx(ne,{children:"Create New Promotional Link"})}),s.jsx(G,{children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"productId",children:"Product"}),s.jsxs("select",{id:"productId",name:"productId",required:!0,className:"w-full px-3 py-2 border rounded-md bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:"Select a product"}),d==null?void 0:d.map(g=>s.jsxs("option",{value:g.id,children:[g.name," - $",g.price]},g.id))]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"customSlug",children:"Custom Slug (optional)"}),s.jsx(J,{id:"customSlug",name:"customSlug",placeholder:"my-special-offer"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"utm_source",children:"UTM Source (optional)"}),s.jsx(J,{id:"utm_source",name:"utm_source",placeholder:"facebook"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"utm_medium",children:"UTM Medium (optional)"}),s.jsx(J,{id:"utm_medium",name:"utm_medium",placeholder:"social"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Y,{htmlFor:"utm_campaign",children:"UTM Campaign (optional)"}),s.jsx(J,{id:"utm_campaign",name:"utm_campaign",placeholder:"summer-sale-2024"})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(M,{type:"submit",disabled:h.isPending,children:"Create Link"}),s.jsx(M,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{children:["Your Promotional Links (",(l==null?void 0:l.length)||0,")"]})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[l==null?void 0:l.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-800 rounded-full flex items-center justify-center",children:s.jsx(Jl,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:g.productName}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Created ",new Date(g.createdAt).toLocaleDateString()]})]})]}),s.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("code",{className:"text-sm font-mono text-gray-800 dark:text-gray-200",children:g.shortUrl}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>p(g.shortUrl),children:s.jsx(qn,{className:"h-3 w-3"})})]})}),(g.utm_source||g.utm_medium||g.utm_campaign)&&s.jsxs("div",{className:"flex space-x-2",children:[g.utm_source&&s.jsxs(be,{variant:"secondary",children:["Source: ",g.utm_source]}),g.utm_medium&&s.jsxs(be,{variant:"secondary",children:["Medium: ",g.utm_medium]}),g.utm_campaign&&s.jsxs(be,{variant:"secondary",children:["Campaign: ",g.utm_campaign]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:g.clicks||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"clicks"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:g.conversions||0}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"conversions"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(M,{size:"sm",variant:"outline",children:s.jsx(Xr,{className:"h-3 w-3"})}),s.jsx(M,{size:"sm",variant:"outline",children:s.jsx(up,{className:"h-3 w-3"})}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>f.mutate(g.id),disabled:f.isPending,children:s.jsx(Ui,{className:"h-3 w-3"})})]})]})]},g.id)),(!l||l.length===0)&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("div",{className:"text-gray-500 mb-4",children:"No promotional links yet"}),s.jsxs(M,{onClick:()=>n(!0),children:[s.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Create Your First Link"]})]})]})})]})]})})}function yTe({isOpen:e,onClose:t,plan:r,referralCode:n}){const{toast:a}=Ct(),[i,o]=v.useState(!1),[l,c]=v.useState(null),[d,u]=v.useState({cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",email:"",referralCode:"",address:"",city:"",state:"",zip:""});v.useEffect(()=>{n&&d.referralCode!==n&&u(j=>({...j,referralCode:n}))},[n,d.referralCode]),v.useEffect(()=>{console.log("CheckoutModal useEffect triggered:",{isOpen:e,plan:r}),e&&r&&r.monthlyPrice&&(async()=>{try{console.log("Creating payment intent for plan:",r);const b=await(await Pe("/api/create-payment-intent","POST",{planId:r.id,amount:parseFloat(r.monthlyPrice)})).json();console.log("Payment intent created:",b),c(b)}catch(w){console.error("Error creating payment intent:",w),a({title:"Error",description:"Failed to initialize payment. Please try again.",variant:"destructive"})}})()},[e,r,a]);const h=j=>{const{name:w,value:b}=j.target;u(N=>({...N,[w]:b}))},f=j=>{const w=j.replace(/\s+/g,"").replace(/[^0-9]/gi,""),b=w.match(/\d{4,16}/g),N=b&&b[0]||"",S=[];for(let C=0,P=N.length;C<P;C+=4)S.push(N.substring(C,C+4));return S.length?S.join(" "):w},p=j=>{const w=j.replace(/\s+/g,"").replace(/[^0-9]/gi,"").substring(0,4);return w.length>=2?w.substring(0,2)+"/"+w.substring(2,4):w},x=j=>{const w=f(j.target.value);u(b=>({...b,cardNumber:w}))},m=j=>{const w=p(j.target.value);u(b=>({...b,expiryDate:w}))},g=async j=>{j.preventDefault(),o(!0);try{const w={planId:r.id,amount:r.monthlyPrice,cardNumber:d.cardNumber.replace(/\s/g,""),expirationDate:d.expiryDate,cvv:d.cvv,firstName:d.nameOnCard.split(" ")[0]||d.nameOnCard,lastName:d.nameOnCard.split(" ").slice(1).join(" ")||"",email:d.email,referralCode:d.referralCode||""},N=await(await Pe("/api/confirm-nmi-payment","POST",w)).json();if(N.success){try{await Pe("/api/end-users/track-activity","POST",{userId:N.userId||"guest-"+Date.now(),whiteLabelId:N.whiteLabelId,activityType:"purchase",description:`Purchased plan: ${r.name}`,metadata:{planId:r.id,planName:r.name,amount:N.amount||r.monthlyPrice,paymentMethod:"NMI Gateway",transactionId:N.transactionId,subscriptionId:N.subscriptionId}})}catch(S){console.warn("Failed to track purchase activity:",S)}a({title:"Payment Successful!",description:`You have successfully purchased ${r.name}. Transaction ID: ${N.transactionId}`}),t(),sessionStorage.setItem("purchaseResult",JSON.stringify({...N,planName:r.name,planDescription:r.description})),window.location.href="/purchase-success"}else throw new Error(N.message||N.error||"Payment failed")}catch(w){a({title:"Payment Failed",description:w.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{o(!1)}};if(!r)return null;const y=r.monthlyPrice&&parseFloat(r.monthlyPrice)>0?`$${r.monthlyPrice}`:"Contact for Pricing";return s.jsx(ar,{open:e,children:s.jsxs(Yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Xt,{children:s.jsxs(Qt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Complete Your Purchase"}),s.jsx(M,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(Lr,{className:"h-4 w-4"})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(K,{children:s.jsxs(G,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:r.name}),s.jsx("p",{className:"text-muted-foreground mb-4",children:r.description}),s.jsxs("div",{className:"text-3xl font-bold text-primary mb-4",children:[y,r.monthlyPrice&&s.jsx("span",{className:"text-lg text-muted-foreground",children:"/month"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(_t,{className:"h-4 w-4 text-primary mr-2"}),"Full access to platform"]}),s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(_t,{className:"h-4 w-4 text-primary mr-2"}),"Premium support included"]}),s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(_t,{className:"h-4 w-4 text-primary mr-2"}),"Money-back guarantee"]})]})]})}),s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(cp,{className:"h-4 w-4 mr-2"}),"Secure 256-bit SSL encryption"]})]}),s.jsx("div",{className:"space-y-4",children:r.monthlyPrice&&parseFloat(r.monthlyPrice)>0?s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"email",children:"Email Address"}),s.jsx(J,{id:"email",name:"email",type:"email",value:d.email,onChange:h,required:!0,placeholder:"your@email.com"})]}),!1,s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"nameOnCard",children:"Name on Card"}),s.jsx(J,{id:"nameOnCard",name:"nameOnCard",value:d.nameOnCard,onChange:h,required:!0,placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"cardNumber",children:"Card Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"cardNumber",name:"cardNumber",value:d.cardNumber,onChange:x,required:!0,placeholder:"1234 5678 9012 3456",maxLength:19}),s.jsx(Ht,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"expiryDate",children:"Expiry Date"}),s.jsx(J,{id:"expiryDate",name:"expiryDate",value:d.expiryDate,onChange:m,required:!0,placeholder:"MM/YY",maxLength:5})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"cvv",children:"CVV"}),s.jsx(J,{id:"cvv",name:"cvv",value:d.cvv,onChange:h,required:!0,placeholder:"123",maxLength:4})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"address",children:"Billing Address"}),s.jsx(J,{id:"address",name:"address",value:d.address,onChange:h,required:!0,placeholder:"123 Main St"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"city",children:"City"}),s.jsx(J,{id:"city",name:"city",value:d.city,onChange:h,required:!0,placeholder:"New York"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"state",children:"State"}),s.jsx(J,{id:"state",name:"state",value:d.state,onChange:h,required:!0,placeholder:"NY",maxLength:2})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"zip",children:"ZIP Code"}),s.jsx(J,{id:"zip",name:"zip",value:d.zip,onChange:h,required:!0,placeholder:"10001"})]})]}),s.jsx(M,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70",disabled:i,children:i?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):`Complete Purchase - ${y}`})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact us for pricing"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"This plan requires custom pricing. Our team will contact you with a personalized quote."}),s.jsx(M,{onClick:t,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:"Get Quote"})]})})]})]})})}function F5(){const[e,t]=v.useState(!1);Pn();const[r,n]=v.useState(null),[a,i]=v.useState(!1),[o,l]=v.useState(!1),{isAuthenticated:c}=ft(),d=new URLSearchParams(window.location.search),u=d.get("domain");let h=d.get("ref")||d.get("referralcode");if(!h){const S=["domain","ref","referralcode","context","plan","name","price"];for(const[C,P]of d.entries())if(!S.includes(C)&&(P===""||P===null)){h=C;break}}const f=d.get("context");h&&(sessionStorage.setItem("activeReferralCode",h),console.log("Referral code detected and stored:",h));const p=sessionStorage.getItem("activeReferralCode"),x=h||p,{data:m=[]}=ue({queryKey:["/api/plans/public",x],queryFn:async()=>{const S=x?`/api/plans/public?referralCode=${encodeURIComponent(x)}`:"/api/plans/public",C=await fetch(S);if(!C.ok)throw new Error("Failed to fetch plans");return C.json()}}),{data:g=[]}=ue({queryKey:["/api/purchases"],enabled:c}),y=S=>{const C=parseFloat(S);return(e?C*10:C).toFixed(0)},j={Starter:$_,Professional:ru,Enterprise:jS,Ultimate:xr},w={Starter:"from-blue-500 to-blue-600",Professional:"from-purple-500 to-purple-600",Enterprise:"from-green-500 to-green-600",Ultimate:"from-yellow-500 to-yellow-600"},b=S=>g.some(C=>C.planId===S&&C.status==="completed"),N=S=>{if(console.log("Purchase button clicked for plan:",S),c&&b(S.id)){alert("You Have Already Purchase This Plan");return}if(!c){const P=f?`context=${f}`:"",_=x?`ref=${x}`:"",A=`plan=${S.id}&name=${encodeURIComponent(S.name)}&price=${S.price}`,E=`/login?${[P,_,A].filter(Boolean).join("&")}`;window.location.href=E;return}const C={...S,referralCode:x};n(C),i(!0)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50",children:[s.jsx("header",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(xr,{className:"text-white text-lg"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"WhiteLabel Pro"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Multi-Tier Platform"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(M,{variant:"ghost",onClick:()=>window.location.href="/",className:"text-gray-700 hover:text-blue-600",children:"Home"}),s.jsx(M,{onClick:()=>{const S=encodeURIComponent(window.location.href),C=u?`/api/login?domain=${u}&returnTo=${S}`:`/api/login?returnTo=${S}`;window.location.href=C},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:"Get Started"})]})]})})}),s.jsx("section",{className:"py-20 text-center",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(be,{variant:"secondary",className:"mb-6 bg-blue-100 text-blue-700",children:[s.jsx(Qo,{className:"mr-2 h-4 w-4"}),"Flexible Pricing Plans"]}),s.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Choose Your",s.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent block",children:"Perfect Plan"})]}),s.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"Start free and scale as you grow. All plans include core features with premium upgrades for advanced functionality."}),s.jsxs("div",{className:"flex items-center justify-center mb-12",children:[s.jsx("span",{className:`mr-3 text-sm font-medium ${e?"text-gray-500":"text-gray-900"}`,children:"Monthly"}),s.jsx("button",{onClick:()=>t(!e),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${e?"bg-blue-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e?"translate-x-6":"translate-x-1"}`})}),s.jsx("span",{className:`ml-3 text-sm font-medium ${e?"text-gray-900":"text-gray-500"}`,children:"Yearly"}),s.jsx(be,{className:"ml-2 bg-green-100 text-green-700",children:"Save 20%"})]})]})}),s.jsx("section",{className:"pb-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:m==null?void 0:m.map((S,C)=>{const P=j[S.name]||$_,_=w[S.name]||"from-blue-500 to-blue-600",A=S.name==="Professional";return s.jsxs(K,{className:`relative border-0 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 ${A?"scale-105 ring-2 ring-blue-500":""}`,children:[A&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx(be,{className:"bg-blue-600 text-white px-4 py-1",children:"Most Popular"})}),s.jsxs(G,{className:"p-8 text-center",children:[s.jsx("div",{className:`w-16 h-16 mx-auto mb-6 bg-gradient-to-r ${_} rounded-2xl flex items-center justify-center shadow-lg`,children:s.jsx(P,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:S.name}),s.jsx("p",{className:"text-gray-600 mb-6",children:S.description}),s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex items-baseline justify-center",children:S.monthlyPrice&&parseFloat(S.monthlyPrice)>0?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",y(S.monthlyPrice)]}),s.jsxs("span",{className:"text-gray-500 ml-1",children:["/",e?"year":"month"]})]}):s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"Contact for Pricing"})}),e&&S.monthlyPrice&&parseFloat(S.monthlyPrice)>0&&s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Save $",(parseFloat(S.monthlyPrice)*2).toFixed(0)," per year"]})]}),s.jsxs(M,{onClick:k=>{k.preventDefault(),k.stopPropagation(),N(S)},className:`w-full mb-6 bg-gradient-to-r ${_} hover:opacity-90 text-white font-semibold py-3 shadow-lg hover:shadow-xl transition-all duration-300 ${c&&b(S.id)?"opacity-50 cursor-not-allowed":""}`,disabled:c&&b(S.id),children:[c&&b(S.id)?"Already Purchased":S.monthlyPrice&&parseFloat(S.monthlyPrice)>0?`Purchase Now - ${y(S.monthlyPrice)}`:"Purchase Now",s.jsx(Os,{className:"ml-2 h-4 w-4"})]}),s.jsx("div",{className:"space-y-3 text-left",children:(()=>{let k=S.features;if(typeof k=="string")try{k=JSON.parse(k)}catch{k=[]}return Array.isArray(k)||(k=[]),k.map((E,L)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"h-5 w-5 text-green-500 mr-3"}),s.jsx("span",{className:"text-sm text-gray-700",children:E})]},L))})()})]})]},S.id)})})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Everything you need to know about our pricing"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Can I change my plan later?"}),s.jsx("p",{className:"text-gray-600",children:"Yes, you can upgrade or downgrade your plan at any time. Changes take effect immediately."})]}),s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"What payment methods do you accept?"}),s.jsx("p",{className:"text-gray-600",children:"We accept all major credit cards, PayPal, and bank transfers for enterprise plans."})]}),s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Is there a free trial?"}),s.jsx("p",{className:"text-gray-600",children:"Yes, all plans come with a 14-day free trial. No credit card required to start."})]})]})]})}),s.jsx(ar,{open:o,onOpenChange:l,children:s.jsxs(Yt,{className:"sm:max-w-md",children:[s.jsx(Xt,{children:s.jsx(Qt,{children:"Login Required"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-600",children:["Please login or signup to purchase the ",r==null?void 0:r.name," plan."]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(M,{onClick:()=>{const S=encodeURIComponent(window.location.href),C=u?`/api/login?domain=${u}&returnTo=${S}`:`/api/login?returnTo=${S}`;window.location.href=C},className:"w-full flex items-center justify-center gap-2",children:[s.jsx(SS,{className:"h-4 w-4"}),"Login"]}),s.jsxs(M,{variant:"outline",onClick:()=>{const S=encodeURIComponent(window.location.href),C=u?`/api/login?domain=${u}&returnTo=${S}`:`/api/login?returnTo=${S}`;window.location.href=C},className:"w-full flex items-center justify-center gap-2",children:[s.jsx(Ix,{className:"h-4 w-4"}),"Sign Up"]})]})]})]})}),s.jsx(yTe,{isOpen:a&&r!==null,onClose:()=>{console.log("Closing checkout modal"),i(!1),n(null)},plan:r,referralCode:(r==null?void 0:r.referralCode)||x}),x&&s.jsxs("div",{className:"fixed bottom-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg text-sm z-50",children:[" Referral: ",x]})]})}function vTe(){const e=[{icon:Tt,title:"High Commissions",description:"Earn up to 40% recurring commission on every successful referral",color:"bg-green-500"},{icon:wn,title:"Lifetime Earnings",description:"Get paid for as long as your referrals remain active customers",color:"bg-blue-500"},{icon:ct,title:"Multi-Tier Structure",description:"Build your network and earn from sub-affiliates' performance",color:"bg-purple-500"},{icon:nu,title:"Marketing Support",description:"Professional marketing materials and dedicated support team",color:"bg-red-500"},{icon:xr,title:"Real-Time Tracking",description:"Advanced dashboard with real-time analytics and reporting",color:"bg-indigo-500"},{icon:Mq,title:"Exclusive Rewards",description:"Performance bonuses, contests, and exclusive partner benefits",color:"bg-yellow-500"}],t=[{number:"40%",label:"Max Commission Rate"},{number:"$50K+",label:"Top Affiliate Earnings"},{number:"2,500+",label:"Active Affiliates"},{number:"24/7",label:"Support Available"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[s.jsx("header",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(xr,{className:"text-white text-sm sm:text-lg"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h1",{className:"text-sm sm:text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent truncate",children:"WhiteLabel Pro"}),s.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"Multi-Tier Platform"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>window.location.href="/",className:"text-gray-700 hover:text-blue-600 text-xs sm:text-sm px-2 sm:px-4",children:"Home"}),s.jsx(M,{size:"sm",onClick:()=>window.location.href="/login?context=affiliate",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 text-xs sm:text-sm px-3 sm:px-4",children:"Join as Affiliate"})]})]})})}),s.jsxs("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsxs(be,{variant:"secondary",className:"mb-6 bg-white/20 text-white border-white/30",children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),"Affiliate Partnership Program"]}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Become a Super Admin Affiliate"}),s.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto leading-relaxed",children:"Join our elite network of partners and earn substantial recurring commissions by promoting the world's most advanced white-label platform."}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs(M,{size:"lg",onClick:()=>window.location.href="/login?context=affiliate",className:"bg-white text-blue-600 hover:bg-gray-100 text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 shadow-2xl hover:shadow-white/25 transition-all duration-300 transform hover:scale-105",children:["Join as Affiliate",s.jsx(Os,{className:"ml-2 h-4 w-4 sm:h-5 sm:w-5"})]})})]})]}),s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:t.map((r,n)=>s.jsxs("div",{className:"transform hover:scale-105 transition-transform duration-300",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold text-blue-600 mb-2",children:r.number}),s.jsx("div",{className:"text-lg text-gray-600",children:r.label})]},n))})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Why Partner With Us?"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Join the most lucrative affiliate program in the B2B2C space with industry-leading commission rates and support."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,n)=>{const a=r.icon;return s.jsx(K,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 bg-white",children:s.jsxs(G,{className:"p-8",children:[s.jsx("div",{className:`w-16 h-16 ${r.color} rounded-2xl flex items-center justify-center mb-6 shadow-lg`,children:s.jsx(a,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:r.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.description})]})},n)})})]})}),s.jsx("section",{id:"benefits",className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Ready to Start Earning?"}),s.jsx("p",{className:"text-xl text-gray-600 mb-12 max-w-2xl mx-auto leading-relaxed",children:"Join our exclusive affiliate program today and start earning up to 40% recurring commissions on every successful referral."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[s.jsxs("div",{className:"p-6 bg-blue-50 rounded-xl",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Qr,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Instant Approval"}),s.jsx("p",{className:"text-gray-600",children:"Get started immediately with instant account approval"})]}),s.jsxs("div",{className:"p-6 bg-green-50 rounded-xl",children:[s.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Tt,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"High Commissions"}),s.jsx("p",{className:"text-gray-600",children:"Earn up to 40% on every sale you generate"})]}),s.jsxs("div",{className:"p-6 bg-purple-50 rounded-xl",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(vn,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Global Network"}),s.jsx("p",{className:"text-gray-600",children:"Access worldwide markets and opportunities"})]})]}),s.jsxs(M,{size:"lg",onClick:()=>window.location.href="/login?context=affiliate",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold px-12 py-4 text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:["Start Earning Today",s.jsx(Os,{className:"ml-2 h-5 w-5"})]})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Start Earning?"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Join thousands of successful affiliates who are already earning substantial commissions with WhiteLabel Pro."}),s.jsxs(M,{size:"lg",onClick:()=>window.location.href="/login?context=affiliate",className:"bg-white text-blue-600 hover:bg-gray-100 text-lg px-10 py-4 shadow-2xl hover:shadow-white/25 transition-all duration-300 transform hover:scale-105 font-semibold",children:["Get Started Today",s.jsx(Os,{className:"ml-2 h-5 w-5"})]})]})})]})}function bTe(){const[e,t]=v.useState({companyName:"",contactName:"",email:"",phone:"",website:"",industry:"",users:"",requirements:""}),r=[{icon:Xo,title:"Complete Brand Customization",description:"Custom logos, colors, fonts, and styling to match your brand identity perfectly",color:"bg-purple-500",image:"https://images.unsplash.com/photo-1561070791-2526d30994b5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{icon:ct,title:"Multi-Tenant Architecture",description:"Isolated environments for each client with secure data separation",color:"bg-blue-500",image:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{icon:Zr,title:"Advanced Configuration",description:"Flexible settings and workflows tailored to your business processes",color:"bg-green-500",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{icon:vn,title:"Custom Domain Support",description:"Host on your own domain with SSL certificates and CDN integration",color:"bg-red-500",image:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}],n=["Complete white-label solution with zero branding references","Custom dashboard themes and UI components","Branded email templates and notifications","API integration with your existing systems","Mobile-responsive design for all devices","Advanced analytics and reporting tools","Multi-language and currency support","24/7 technical support and maintenance"],a=[{name:"SaaS & Technology",icon:$D},{name:"Financial Services",icon:xr},{name:"E-commerce",icon:vn},{name:"Healthcare",icon:ru},{name:"Education",icon:ct},{name:"Real Estate",icon:CS}],i=l=>{l.preventDefault(),console.log("White-label inquiry:",e),alert("Thank you for your interest! Our white-label specialists will contact you within 24 hours to discuss your requirements.")},o=l=>{t({...e,[l.target.name]:l.target.value})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50",children:[s.jsx("header",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(xr,{className:"text-white text-lg"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"WhiteLabel Pro"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Multi-Tier Platform"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(M,{variant:"ghost",onClick:()=>window.location.href="/",className:"text-gray-700 hover:text-blue-600",children:"Home"}),s.jsx(M,{onClick:()=>{const l=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${l}`},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:"Login"})]})]})})}),s.jsxs("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-blue-600 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsxs(be,{variant:"secondary",className:"mb-6 bg-white/20 text-white border-white/30",children:[s.jsx(jS,{className:"mr-2 h-4 w-4"}),"Enterprise White-Label Solution"]}),s.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:["Your Brand,",s.jsx("span",{className:"block",children:"Our Technology"})]}),s.jsx("p",{className:"text-xl mb-8 text-purple-100 leading-relaxed",children:"Transform our powerful affiliate platform into your own branded solution. Complete customization with enterprise-grade security and scalability."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(M,{size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100 text-lg px-8 py-4 shadow-2xl hover:shadow-white/25 transition-all duration-300 transform hover:scale-105",children:["Get Started",s.jsx(Os,{className:"ml-2 h-5 w-5"})]}),s.jsx(M,{size:"lg",variant:"outline",className:"text-white border-white/50 hover:bg-white/10 text-lg px-8 py-4",children:"View Demo"})]})]}),s.jsx("div",{className:"relative",children:s.jsx("img",{src:"https://images.unsplash.com/photo-1551434678-e076c223a692?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",alt:"White-label platform dashboard",className:"rounded-2xl shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-300"})})]})})]}),s.jsx("section",{className:"py-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Complete White-Label Capabilities"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Every aspect of our platform can be customized to reflect your brand identity and business requirements."})]}),s.jsx("div",{className:"space-y-20",children:r.map((l,c)=>{const d=l.icon,u=c%2===0;return s.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-12 items-center ${u?"":"lg:grid-flow-col-dense"}`,children:[s.jsxs("div",{className:u?"lg:pr-8":"lg:pl-8",children:[s.jsx("div",{className:`w-16 h-16 ${l.color} rounded-2xl flex items-center justify-center mb-6 shadow-lg`,children:s.jsx(d,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:l.title}),s.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-6",children:l.description}),s.jsxs(M,{className:`${l.color} hover:opacity-90 text-white`,children:["Learn More",s.jsx(Os,{className:"ml-2 h-4 w-4"})]})]}),s.jsx("div",{className:u?"":"lg:col-start-1",children:s.jsx("img",{src:l.image,alt:l.title,className:"rounded-2xl shadow-xl w-full"})})]},c)})})]})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Trusted Across Industries"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Our white-label solution adapts to any industry with specialized features and compliance requirements."})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:a.map((l,c)=>{const d=l.icon;return s.jsx(K,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 text-center",children:s.jsxs(G,{className:"p-6",children:[s.jsx(d,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:l.name})]})},c)})})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Everything You Need for Success"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Our comprehensive white-label solution includes all the tools and support you need to launch and scale your branded platform."}),s.jsx("div",{className:"space-y-4",children:n.map((l,c)=>s.jsxs("div",{className:"flex items-start",children:[s.jsx(Qr,{className:"h-6 w-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:l})]},c))})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:"Platform customization",className:"rounded-2xl shadow-xl"}),s.jsx("div",{className:"absolute -bottom-6 -right-6 bg-white p-6 rounded-xl shadow-2xl",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx(Qr,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"Ready in 30 Days"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Full deployment"})]})]})})]})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Start Your White-Label Journey"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Tell us about your requirements and we'll create a custom proposal for your white-label solution."})]}),s.jsx(K,{className:"shadow-2xl border-0",children:s.jsx(G,{className:"p-8",children:s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),s.jsx(J,{name:"companyName",value:e.companyName,onChange:o,placeholder:"Your company name",required:!0,className:"h-12"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name"}),s.jsx(J,{name:"contactName",value:e.contactName,onChange:o,placeholder:"Your full name",required:!0,className:"h-12"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx(J,{name:"email",type:"email",value:e.email,onChange:o,placeholder:"your@company.com",required:!0,className:"h-12"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx(J,{name:"phone",value:e.phone,onChange:o,placeholder:"(555) 123-4567",className:"h-12"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),s.jsx(J,{name:"website",value:e.website,onChange:o,placeholder:"https://yourcompany.com",className:"h-12"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Users"}),s.jsxs("select",{name:"users",value:e.users,onChange:o,className:"w-full h-12 px-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select range"}),s.jsx("option",{value:"1-100",children:"1-100 users"}),s.jsx("option",{value:"101-500",children:"101-500 users"}),s.jsx("option",{value:"501-1000",children:"501-1,000 users"}),s.jsx("option",{value:"1000+",children:"1,000+ users"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),s.jsx(J,{name:"industry",value:e.industry,onChange:o,placeholder:"e.g., SaaS, Finance, Healthcare",className:"h-12"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Requirements"}),s.jsx(pr,{name:"requirements",value:e.requirements,onChange:o,placeholder:"Tell us about your specific requirements, timeline, and any custom features you need...",rows:4})]}),s.jsxs(M,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-4 shadow-lg hover:shadow-xl transition-all duration-300",children:["Request Custom Proposal",s.jsx(Os,{className:"ml-2 h-5 w-5"})]})]})})})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-blue-600 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Launch Your Platform?"}),s.jsx("p",{className:"text-xl text-purple-100 mb-8 leading-relaxed",children:"Join leading companies who have successfully launched their white-label platforms with our proven technology."}),s.jsxs(M,{size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100 text-lg px-10 py-4 shadow-2xl hover:shadow-white/25 transition-all duration-300 transform hover:scale-105 font-semibold",children:["Schedule Consultation",s.jsx(Os,{className:"ml-2 h-5 w-5"})]})]})})]})}function wTe(){const[e,t]=v.useState({name:"",email:"",company:"",phone:"",subject:"",message:""}),r=[{icon:Wn,title:"Email Support",description:"Get help via email within 24 hours",contact:"support@whitelabelpro.com",action:"Send Email",color:"bg-blue-500"},{icon:aK,title:"Phone Support",description:"Speak directly with our experts",contact:"+1 (555) 123-4567",action:"Call Now",color:"bg-green-500"},{icon:dp,title:"Live Chat",description:"Instant support during business hours",contact:"Available 9 AM - 6 PM EST",action:"Start Chat",color:"bg-purple-500"},{icon:ct,title:"Enterprise Sales",description:"Custom solutions for large organizations",contact:"sales@whitelabelpro.com",action:"Contact Sales",color:"bg-orange-500"}],n=[{city:"New York",address:"123 Business Ave, Suite 500",zipcode:"NY 10001",phone:"+1 (555) 123-4567",timezone:"EST"},{city:"San Francisco",address:"456 Tech Street, Floor 12",zipcode:"CA 94105",phone:"+1 (555) 987-6543",timezone:"PST"},{city:"London",address:"789 Innovation Lane",zipcode:"E1 6AN",phone:"+44 20 7123 4567",timezone:"GMT"}],a=[{day:"Monday - Friday",hours:"9:00 AM - 6:00 PM EST"},{day:"Saturday",hours:"10:00 AM - 4:00 PM EST"},{day:"Sunday",hours:"Closed"}],i=l=>{l.preventDefault(),console.log("Contact form submission:",e),alert("Thank you for your message! We'll get back to you within 24 hours."),t({name:"",email:"",company:"",phone:"",subject:"",message:""})},o=l=>{t({...e,[l.target.name]:l.target.value})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50",children:[s.jsx("header",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(xr,{className:"text-white text-lg"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"WhiteLabel Pro"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Multi-Tier Platform"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(M,{variant:"ghost",onClick:()=>window.location.href="/",className:"text-gray-700 hover:text-blue-600",children:"Home"}),s.jsx(M,{onClick:()=>{const l=encodeURIComponent(window.location.href);window.location.href=`/api/login?returnTo=${l}`},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:"Login"})]})]})})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Get in Touch"}),s.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto leading-relaxed",children:"Have questions about our platform? Need help getting started? Our team of experts is here to assist you every step of the way."})]})}),s.jsx("section",{className:"py-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Multiple Ways to Reach Us"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Choose the contact method that works best for you. We're committed to providing exceptional support."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((l,c)=>{const d=l.icon;return s.jsx(K,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 text-center",children:s.jsxs(G,{className:"p-8",children:[s.jsx("div",{className:`w-16 h-16 ${l.color} rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg`,children:s.jsx(d,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:l.title}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:l.description}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-6",children:l.contact}),s.jsx(M,{className:`w-full ${l.color} hover:opacity-90 text-white`,children:l.action})]})},c)})})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Send us a Message"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),s.jsx(K,{className:"shadow-xl border-0",children:s.jsx(G,{className:"p-8",children:s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx(J,{name:"name",value:e.name,onChange:o,placeholder:"Your full name",required:!0,className:"h-12"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx(J,{name:"email",type:"email",value:e.email,onChange:o,placeholder:"your@email.com",required:!0,className:"h-12"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),s.jsx(J,{name:"company",value:e.company,onChange:o,placeholder:"Your company name",className:"h-12"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx(J,{name:"phone",value:e.phone,onChange:o,placeholder:"(555) 123-4567",className:"h-12"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsxs("select",{name:"subject",value:e.subject,onChange:o,className:"w-full h-12 px-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select a subject"}),s.jsx("option",{value:"general",children:"General Inquiry"}),s.jsx("option",{value:"sales",children:"Sales Question"}),s.jsx("option",{value:"support",children:"Technical Support"}),s.jsx("option",{value:"partnership",children:"Partnership Opportunity"}),s.jsx("option",{value:"whitelabel",children:"White-Label Solution"}),s.jsx("option",{value:"affiliate",children:"Affiliate Program"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),s.jsx(pr,{name:"message",value:e.message,onChange:o,placeholder:"Tell us how we can help you...",rows:6,required:!0})]}),s.jsxs(M,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-4 shadow-lg hover:shadow-xl transition-all duration-300",children:["Send Message",s.jsx(_S,{className:"ml-2 h-5 w-5"})]})]})})})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Our Offices"}),s.jsx("div",{className:"space-y-6",children:n.map((l,c)=>s.jsx(K,{className:"border-0 shadow-md",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:s.jsx(Zq,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:l.city}),s.jsx("p",{className:"text-gray-600 text-sm mb-1",children:l.address}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:l.zipcode}),s.jsx("p",{className:"text-gray-900 font-medium text-sm",children:l.phone}),s.jsx("p",{className:"text-gray-500 text-xs",children:l.timezone})]})]})})},c))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Support Hours"}),s.jsx(K,{className:"border-0 shadow-md",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:s.jsx(Go,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Customer Support"}),s.jsx("div",{className:"space-y-2",children:a.map((l,c)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 text-sm",children:l.day}),s.jsx("span",{className:"text-gray-900 text-sm font-medium",children:l.hours})]},c))})]})]})})})]}),s.jsx(K,{className:"border-0 shadow-md bg-gradient-to-r from-red-50 to-orange-50",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:s.jsx(Gq,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Emergency Support"}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"For critical issues affecting production systems, our emergency support is available 24/7 for Enterprise customers."}),s.jsx(M,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"Contact Emergency Support"})]})]})})})]})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Quick answers to common questions. Can't find what you're looking for? Contact us directly."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(K,{className:"border-0 shadow-md",children:s.jsxs(G,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"What is your typical response time?"}),s.jsx("p",{className:"text-gray-600",children:"We respond to all inquiries within 24 hours during business days. Priority support customers receive responses within 4 hours."})]})}),s.jsx(K,{className:"border-0 shadow-md",children:s.jsxs(G,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Do you offer phone support?"}),s.jsx("p",{className:"text-gray-600",children:"Yes, phone support is available for all paid plans during business hours. Emergency phone support is available 24/7 for Enterprise customers."})]})}),s.jsx(K,{className:"border-0 shadow-md",children:s.jsxs(G,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Can I schedule a demo or consultation?"}),s.jsx("p",{className:"text-gray-600",children:"Absolutely! We offer personalized demos and consultations. Contact our sales team to schedule a session that works for your timezone."})]})})]})]})})]})}var LB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z5=Z.createContext&&Z.createContext(LB),jTe=["attr","size","title"];function NTe(e,t){if(e==null)return{};var r=STe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function STe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(this,arguments)}function B5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(r),!0).forEach(function(n){CTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CTe(e,t,r){return t=PTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PTe(e){var t=kTe(e,"string");return typeof t=="symbol"?t:t+""}function kTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FB(e){return e&&e.map((t,r)=>Z.createElement(t.tag,lv({key:r},t.attr),FB(t.child)))}function _Te(e){return t=>Z.createElement(ATe,ov({attr:lv({},e.attr)},t),FB(e.child))}function ATe(e){var t=r=>{var{attr:n,size:a,title:i}=e,o=NTe(e,jTe),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Z.createElement("svg",ov({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:lv(lv({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Z.createElement("title",null,i),e.children)};return z5!==void 0?Z.createElement(z5.Consumer,null,r=>t(r)):t(LB)}function ETe(e){return _Te({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(e)}var YP="Progress",XP=100,[TTe]=zr(YP),[OTe,MTe]=TTe(YP),zB=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=DTe,...o}=e;(a||a===0)&&!U5(a)&&console.error(ITe(`${a}`,"Progress"));const l=U5(a)?a:XP;n!==null&&!W5(n,l)&&console.error(RTe(`${n}`,"Progress"));const c=W5(n,l)?n:null,d=cv(c)?i(c,l):void 0;return s.jsx(OTe,{scope:r,value:c,max:l,children:s.jsx(ze.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":cv(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":WB(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});zB.displayName=YP;var BB="ProgressIndicator",UB=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=MTe(BB,r);return s.jsx(ze.div,{"data-state":WB(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});UB.displayName=BB;function DTe(e,t){return`${Math.round(e/t*100)}%`}function WB(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function cv(e){return typeof e=="number"}function U5(e){return cv(e)&&!isNaN(e)&&e>0}function W5(e,t){return cv(e)&&!isNaN(e)&&e<=t&&e>=0}function ITe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${XP}\`.`}function RTe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${XP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var VB=zB,$Te=UB;const QP=v.forwardRef(({className:e,value:t,...r},n)=>s.jsx(VB,{ref:n,className:De("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx($Te,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));QP.displayName=VB.displayName;const Qh=[{id:1,title:"Business Information",icon:Fa,description:"Tell us about your business"},{id:2,title:"Email Verification",icon:_t,description:"Verify your email address"},{id:3,title:"Brand Setup",icon:Xo,description:"Customize your brand appearance"},{id:4,title:"Auto-Provision",icon:Zr,description:"Setting up your platform"}];function LTe({onBack:e}){const[,t]=Pn(),{user:r}=ft(),{toast:n}=Ct(),[a,i]=v.useState(1),[o,l]=v.useState(!1),[c,d]=v.useState({businessName:"",description:"",industry:"",ownerFirstName:(r==null?void 0:r.firstName)||"",ownerLastName:(r==null?void 0:r.lastName)||"",username:"",password:"",email:"",phone:"",website:""}),[u,h]=v.useState({logoUrl:"",primaryColor:"#667eea",secondaryColor:"#764ba2",domainPath:""}),[f,p]=v.useState({planId:0,billingCycle:"monthly"}),[x,m]=v.useState(null),[g,y]=v.useState(null),[j,w]=v.useState(null),[b,N]=v.useState(""),[S,C]=v.useState(!1),[P,_]=v.useState(!1),A=async R=>{if(!(R.length<3))try{const H=await(await Pe("/api/auth/check-username","POST",{username:R})).json();m(H.available)}catch(I){console.error("Error checking username:",I)}},k=async R=>{if(R.includes("@"))try{const H=await(await Pe("/api/auth/check-email","POST",{email:R})).json();y(H.available)}catch(I){console.error("Error checking email:",I)}},E=async R=>{if(!(R.length<2))try{const H=await(await fetch(`/api/check-domain?domainPath=${encodeURIComponent(R)}`)).json();w(H.available)}catch(I){console.error("Error checking domain:",I)}},L=async()=>{try{const I=await(await Pe("/api/auth/send-verification","POST",{email:c.email})).json();return C(!0),n({title:"Verification Code Sent",description:"Please check your email for the verification code."}),!0}catch(R){console.error("Error sending verification:",R);let I="Unable to send verification code. Please try again.";try{const H=R.message||"";if(H.includes(": {")){const he=H.substring(H.indexOf(": ")+2),ie=JSON.parse(he);I=ie.error||ie.message||I}else H.includes("wait")&&(I=H.includes(":")?H.split(":")[1].trim():H)}catch(H){console.error("Could not parse error response:",H),I="Unable to send verification code. Please try again."}return n({title:"Failed to Send Code",description:I,variant:"destructive"}),!1}},F=async()=>{try{const I=await(await Pe("/api/auth/verify-code","POST",{email:c.email,code:b})).json();return I.verified&&(_(!0),n({title:"Email Verified",description:"Your email has been successfully verified."}),i(3)),I.verified}catch(R){console.error("Error verifying code:",R);let I="Please check your verification code and try again.";try{const H=R.message||"";if(H.includes(": {")){const he=H.substring(H.indexOf(": ")+2);I=JSON.parse(he).message||I}else H.includes("message")&&(I=JSON.parse(H).message||I)}catch(H){console.error("Could not parse error response:",H),I="Please check your verification code and try again."}return n({title:"Verification Failed",description:I,variant:"destructive"}),!1}},U=Oe({mutationFn:async()=>{console.log("Provision mutation called with:",{businessInfo:c,brandingInfo:u,planSelection:f});const R=await Pe("/api/business-auth/provision","POST",{businessInfo:c,brandingInfo:u,planSelection:f});return console.log("Provision result:",R),R},onSuccess:R=>{n({title:"Business Setup Complete!",description:"Your white-label platform has been successfully created."})},onError:R=>{console.error("Auto-provision error:",R),l(!1),n({title:"Setup Failed",description:"There was an error setting up your business. Please try again.",variant:"destructive"})}}),W=async()=>{if(console.log("handleNext called, currentStep:",a),console.log("Current data state:",{businessInfo:c,brandingInfo:u,planSelection:f}),a===1){if(!c.email||!c.email.includes("@")){n({title:"Email Required",description:"Please enter a valid email address.",variant:"destructive"});return}if(g!==!0){n({title:"Email Issue",description:"Please use an available email address.",variant:"destructive"});return}await L()&&i(2);return}if(a===2){if(b.length!==6){n({title:"Verification Code Required",description:"Please enter the 6-digit verification code.",variant:"destructive"});return}await F();return}if(a===4){console.log("Starting setup process..."),console.log("Data validation check:"),console.log("- businessInfo:",c),console.log("- brandingInfo:",u),console.log("- planSelection:",f),l(!0),setTimeout(async()=>{console.log("5 seconds elapsed, calling provision API..."),console.log("About to call autoProvisionMutation.mutateAsync()");try{const R=await U.mutateAsync();console.log("Provision successful:",R),setTimeout(()=>{console.log("Redirecting to dashboard..."),t("/")},500)}catch(R){console.error("Setup error:",R),console.error("Full error object:",R),l(!1),n({title:"Setup Failed",description:`Error: ${R.message||"Unknown error occurred"}`,variant:"destructive"})}},5e3);return}a<4&&(console.log("Moving to next step:",a+1),i(a+1))},V=()=>{a>1?i(a-1):e()},D=R=>{d(I=>({...I,businessName:R}))},T=async R=>{var he;const I=(he=R.target.files)==null?void 0:he[0];if(!I)return;const H=new FormData;H.append("logo",I);try{const ie=await fetch("/api/upload/logo",{method:"POST",body:H});if(!ie.ok)throw new Error(`Upload failed: ${ie.status}`);const je=await ie.json();if(je.logoUrl)h(xe=>({...xe,logoUrl:je.logoUrl})),n({title:"Logo Uploaded",description:"Your logo has been successfully uploaded."});else throw new Error("No logo URL returned")}catch(ie){console.error("Logo upload error:",ie),n({title:"Upload Failed",description:"Failed to upload logo. Please try again.",variant:"destructive"})}},$=R=>{switch(R){case 1:return c.businessName&&c.ownerFirstName&&c.ownerLastName&&c.username&&c.password&&c.email&&x===!0&&g===!0;case 2:return b.length===6;case 3:return u.domainPath&&u.primaryColor&&j===!0;case 4:return!0;default:return!1}},O=a/Qh.length*100;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Business Platform"}),s.jsx("p",{className:"text-gray-600",children:"Set up your white-label business in 4 simple steps"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx(QP,{value:O,className:"h-2 mb-4"}),s.jsx("div",{className:"flex justify-between",children:Qh.map((R,I)=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full mb-2 ${a>=R.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:$(R.id)?s.jsx(_t,{className:"w-5 h-5"}):s.jsx(R.icon,{className:"w-5 h-5"})}),s.jsx("span",{className:`text-xs font-medium ${a>=R.id?"text-primary":"text-muted-foreground"}`,children:R.title})]},R.id))})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[Z.createElement(Qh[a-1].icon,{className:"w-5 h-5"}),Qh[a-1].title]}),s.jsx(tt,{children:Qh[a-1].description})]}),s.jsxs(G,{className:"space-y-6",children:[a===1&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"businessName",children:"Business Name *"}),s.jsx(J,{id:"businessName",value:c.businessName,onChange:R=>D(R.target.value),placeholder:"Your Business Name"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"industry",children:"Industry"}),s.jsxs(an,{value:c.industry,onValueChange:R=>d(I=>({...I,industry:R})),children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:"Select industry"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"technology",children:"Technology"}),s.jsx(Ae,{value:"healthcare",children:"Healthcare"}),s.jsx(Ae,{value:"finance",children:"Finance"}),s.jsx(Ae,{value:"retail",children:"Retail"}),s.jsx(Ae,{value:"education",children:"Education"}),s.jsx(Ae,{value:"consulting",children:"Consulting"}),s.jsx(Ae,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"description",children:"Business Description"}),s.jsx(pr,{id:"description",value:c.description,onChange:R=>d(I=>({...I,description:R.target.value})),placeholder:"Brief description of your business",rows:3})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"ownerFirstName",children:"Owner First Name *"}),s.jsx(J,{id:"ownerFirstName",value:c.ownerFirstName,onChange:R=>d(I=>({...I,ownerFirstName:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"ownerLastName",children:"Owner Last Name *"}),s.jsx(J,{id:"ownerLastName",value:c.ownerLastName,onChange:R=>d(I=>({...I,ownerLastName:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"username",children:"Username *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"username",value:c.username,onChange:R=>{d(I=>({...I,username:R.target.value})),A(R.target.value)},required:!0,className:"border border-input pr-20",placeholder:"username"}),x!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${x?"text-primary":"text-destructive"}`,children:x?" Available":" Username already in use"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"password",children:"Password *"}),s.jsx(J,{id:"password",type:"password",value:c.password,onChange:R=>d(I=>({...I,password:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"email",type:"email",value:c.email,onChange:R=>{d(I=>({...I,email:R.target.value})),k(R.target.value)},className:"border border-input pr-20",placeholder:"your@email.com","data-testid":"input-email"}),g!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${g?"text-primary":"text-destructive"}`,children:g?" Available":" Email already in use"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"phone",children:"Phone"}),s.jsx(J,{id:"phone",value:c.phone,onChange:R=>d(I=>({...I,phone:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"website",children:"Website"}),s.jsx(J,{id:"website",value:c.website,onChange:R=>d(I=>({...I,website:R.target.value})),placeholder:"https://yourwebsite.com"})]})]})]}),a===2&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-primary rounded-full flex items-center justify-center",children:s.jsx(_t,{className:"w-8 h-8 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Verify Your Email Address"}),s.jsxs("p",{className:"text-gray-600",children:["We've sent a 6-digit verification code to:",s.jsx("br",{}),s.jsx("span",{className:"font-medium",children:c.email})]})]}),s.jsx("div",{className:"max-w-xs mx-auto space-y-4",children:s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"verificationCode",children:"Verification Code"}),s.jsx(J,{id:"verificationCode",value:b,onChange:R=>N(R.target.value),placeholder:"123456",className:"text-center text-lg tracking-widest",maxLength:6,"data-testid":"input-verification-code"})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the code?"}),s.jsx(M,{variant:"outline",onClick:L,disabled:!S,"data-testid":"button-resend-code",children:"Resend Code"})]})]}),a===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"logoUpload",children:"Business Logo"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"logoUpload",type:"file",accept:"image/*",onChange:T,className:"hidden"}),s.jsxs(M,{type:"button",variant:"outline",onClick:()=>{var R;return(R=document.getElementById("logoUpload"))==null?void 0:R.click()},children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Upload Logo"]})]}),u.logoUrl&&s.jsx("img",{src:u.logoUrl,alt:"Business Logo",className:"w-12 h-12 object-contain rounded"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"domainPath",children:"Domain Path *"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"whitelabelportal.com/"}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(J,{id:"domainPath",value:u.domainPath,onChange:R=>{const I=R.target.value.replace(/[^a-z0-9]/g,"");h(H=>({...H,domainPath:I})),E(I)},placeholder:"businessname",className:"pr-20"}),j!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${j?"text-primary":"text-destructive"}`,children:j?" Available":" Taken"})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be your custom URL path"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"primaryColor",children:"Primary Brand Color *"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{id:"primaryColor",type:"color",value:u.primaryColor,onChange:R=>h(I=>({...I,primaryColor:R.target.value})),className:"w-12 h-12 p-1 border-2"}),s.jsx(J,{value:u.primaryColor,onChange:R=>h(I=>({...I,primaryColor:R.target.value})),placeholder:"#667eea"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"secondaryColor",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{id:"secondaryColor",type:"color",value:u.secondaryColor,onChange:R=>h(I=>({...I,secondaryColor:R.target.value})),className:"w-12 h-12 p-1 border-2"}),s.jsx(J,{value:u.secondaryColor,onChange:R=>h(I=>({...I,secondaryColor:R.target.value})),placeholder:"#764ba2"})]})]})]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Brand Preview"}),s.jsx("div",{className:"h-24 rounded-lg flex items-center justify-center text-white font-semibold",style:{background:`linear-gradient(135deg, ${u.primaryColor} 0%, ${u.secondaryColor} 100%)`},children:c.businessName||"Your Business Name"})]})]}),a===4&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-primary rounded-full flex items-center justify-center",children:s.jsx(Zr,{className:"w-8 h-8 text-primary-foreground animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Setting up your platform..."}),s.jsx("p",{className:"text-gray-600",children:"We're creating your white-label platform with custom templates, product collections, and initial announcements."})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-left",children:[s.jsx("h4",{className:"font-medium mb-3",children:"What we're setting up:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Custom domain configuration"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Brand-customized templates"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Product collections and categories"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Welcome announcements"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Affiliate program setup"})]})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-between mt-8",children:[s.jsx(M,{variant:"outline",onClick:V,disabled:o,children:"Back"}),s.jsxs(M,{onClick:W,disabled:!$(a)||o,className:"flex items-center gap-2","data-testid":"button-next",children:[a===4?o?"Setting up...":"Complete Setup":a===2?"Verify Code":"Next",a<4&&s.jsx(Bi,{className:"w-4 h-4"})]})]})]})})}function FTe({onBack:e}){const[t,r]=v.useState(1),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(""),[d,u]=v.useState(!1),{toast:h}=Ct(),f=v.useRef(null),[p,x]=v.useState({firstName:"",lastName:"",username:"",password:"",email:"",referralUrl:"",profileImage:void 0}),[m,g]=v.useState({}),[y,j]=v.useState(null),[w,b]=v.useState(null),[N,S]=v.useState(!1),C=async D=>{if(D.length<3){j(null);return}try{const $=await(await Pe("/api/auth/check-username","POST",{username:D})).json();j($.available)}catch(T){console.error("Error checking username:",T)}},P=async D=>{if(!D.includes("@")){b(null);return}try{const $=await(await Pe("/api/auth/check-email","POST",{email:D})).json();b($.available)}catch(T){console.error("Error checking email:",T)}},_=(D,T)=>{x($=>({...$,[D]:T})),m[D]&&g($=>({...$,[D]:""})),D==="username"?C(T):D==="email"&&P(T)},A=D=>{if(D.size>5*1024*1024){h({title:"File too large",description:"Please select an image smaller than 5MB.",variant:"destructive"});return}if(!D.type.startsWith("image/")){h({title:"Invalid file type",description:"Please select an image file.",variant:"destructive"});return}x(T=>({...T,profileImage:D}))},k=D=>{D.preventDefault(),D.stopPropagation(),D.type==="dragenter"||D.type==="dragover"?S(!0):D.type==="dragleave"&&S(!1)},E=D=>{D.preventDefault(),D.stopPropagation(),S(!1),D.dataTransfer.files&&D.dataTransfer.files[0]&&A(D.dataTransfer.files[0])},L=()=>{const D={};return p.firstName.trim()||(D.firstName="First name is required"),p.lastName.trim()||(D.lastName="Last name is required"),p.username.trim()?y===!1&&(D.username="Username is not available"):D.username="Username is required",p.password?p.password.length<6&&(D.password="Password must be at least 6 characters"):D.password="Password is required",p.email.trim()?p.email.includes("@")?w===!1&&(D.email="Email is already in use"):D.email="Please enter a valid email":D.email="Email is required",g(D),Object.keys(D).length===0},F=async()=>{try{o(!0);const D=await Pe("/api/auth/send-verification","POST",{email:p.email});if(D.ok)u(!0),r(2),h({title:"Verification Code Sent",description:"Please check your email for the verification code."});else{const T=await D.json();throw new Error(T.error||"Failed to send verification code")}}catch(D){h({title:"Failed to Send Code",description:D.message||"Please try again.",variant:"destructive"})}finally{o(!1)}},U=async D=>{D.preventDefault(),L()&&await F()},W=async D=>{if(D.preventDefault(),l.length!==6){h({title:"Verification Code Required",description:"Please enter the 6-digit verification code.",variant:"destructive"});return}try{o(!0);const T=new FormData;T.append("firstName",p.firstName),T.append("lastName",p.lastName),T.append("username",p.username),T.append("password",p.password),T.append("email",p.email),T.append("verificationCode",l),T.append("role","super_admin_affiliate"),p.referralUrl&&T.append("referralUrl",p.referralUrl),p.profileImage&&T.append("profileImage",p.profileImage);const $=await fetch("/api/auth/signup-affiliate",{method:"POST",body:T});if($.ok){const O=await $.json();h({title:"Account Created Successfully!",description:"Welcome to our affiliate program. You are now logged in."}),setTimeout(()=>{window.location.href="/"},1500)}else{const O=await $.json();throw O.message&&O.message.includes("Incorrect verification code")?new Error("Incorrect Verification Code"):O.message&&O.message.includes("verification code")?new Error(O.message):new Error(O.error||O.message||"Failed to create account")}}catch(T){h({title:"Signup Failed",description:T.message||"Please try again.",variant:"destructive"})}finally{o(!1)}},V=async()=>{await F()};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs(K,{className:"shadow-xl border-0",children:[s.jsx(re,{className:"space-y-4 pb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ne,{className:"text-2xl font-bold text-gray-900",children:"Sign up As Super Admin Affiliate"}),s.jsx("p",{className:"text-gray-600 mt-2",children:t===1?"Join our affiliate program and start earning commissions":"Verify your email to complete registration"})]})}),s.jsxs(G,{className:"space-y-6",children:[t===1&&s.jsxs("form",{onSubmit:U,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"firstName",children:"First Name *"}),s.jsx(J,{id:"firstName",type:"text",value:p.firstName,onChange:D=>_("firstName",D.target.value),className:m.firstName?"border-red-500":"",placeholder:"John"}),m.firstName&&s.jsx("p",{className:"text-sm text-red-600",children:m.firstName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"lastName",children:"Last Name *"}),s.jsx(J,{id:"lastName",type:"text",value:p.lastName,onChange:D=>_("lastName",D.target.value),className:m.lastName?"border-red-500":"",placeholder:"Doe"}),m.lastName&&s.jsx("p",{className:"text-sm text-red-600",children:m.lastName})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"username",children:"Username *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"username",type:"text",value:p.username,onChange:D=>_("username",D.target.value.toLowerCase()),className:`pr-20 ${m.username?"border-red-500":y===!0?"border-green-500":""}`,placeholder:"username",style:{textTransform:"lowercase"}}),y!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${y?"text-green-600":"text-red-600"}`,children:y?" Available":" Taken"})]}),m.username&&s.jsx("p",{className:"text-sm text-red-600",children:m.username})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"password",children:"Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"password",type:n?"text":"password",value:p.password,onChange:D=>_("password",D.target.value),className:m.password?"border-red-500":"",placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:n?s.jsx(ds,{className:"h-4 w-4"}):s.jsx(vt,{className:"h-4 w-4"})})]}),m.password&&s.jsx("p",{className:"text-sm text-red-600",children:m.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"email",type:"email",value:p.email,onChange:D=>_("email",D.target.value),className:`pr-20 ${m.email?"border-red-500":w===!0?"border-green-500":""}`,placeholder:"your@email.com"}),w!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${w?"text-green-600":"text-red-600"}`,children:w?" Available":" In use"})]}),m.email&&s.jsx("p",{className:"text-sm text-red-600",children:m.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"referralUrl",children:"Your Referral URL (Optional)"}),s.jsx(J,{id:"referralUrl",type:"url",value:p.referralUrl,onChange:D=>_("referralUrl",D.target.value),placeholder:"https://yourwebsite.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Profile Image (Optional)"}),s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${N?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:k,onDragLeave:k,onDragOver:k,onDrop:E,children:[p.profileImage?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("img",{src:URL.createObjectURL(p.profileImage),alt:"Profile preview",className:"w-12 h-12 rounded-full object-cover"}),s.jsx("span",{className:"text-sm text-gray-600",children:p.profileImage.name})]}),s.jsx(M,{type:"button",variant:"ghost",size:"sm",onClick:()=>x(D=>({...D,profileImage:void 0})),children:s.jsx(Lr,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Wi,{className:"mx-auto h-8 w-8 text-gray-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Drag and drop your image here, or"," ",s.jsx("button",{type:"button",onClick:()=>{var D;return(D=f.current)==null?void 0:D.click()},className:"text-blue-600 hover:text-blue-800 underline",children:"browse"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 5MB"})]})]}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:D=>{var T;return((T=D.target.files)==null?void 0:T[0])&&A(D.target.files[0])},className:"hidden"})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:e,children:"Back to Login"}),s.jsx(M,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:i||y===!1||w===!1,children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Code..."]}):"Continue"})]})]}),t===2&&s.jsxs("form",{onSubmit:W,className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(_t,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Verify Your Email Address"}),s.jsxs("p",{className:"text-gray-600",children:["We've sent a 6-digit verification code to:",s.jsx("br",{}),s.jsx("span",{className:"font-medium",children:p.email})]})]}),s.jsx("div",{className:"max-w-xs mx-auto space-y-4",children:s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"verificationCode",children:"Verification Code"}),s.jsx(J,{id:"verificationCode",value:l,onChange:D=>c(D.target.value),placeholder:"123456",className:"text-center text-lg tracking-widest",maxLength:6})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the code?"}),s.jsx(M,{type:"button",variant:"outline",onClick:V,disabled:i,children:"Resend Code"})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>r(1),disabled:i,children:"Back"}),s.jsx(M,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:i||l.length!==6,children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Signup"})]})]})]})]})})})}function zTe({onBack:e,domainPath:t}){const[r,n]=v.useState(1),[a,i]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(""),[u,h]=v.useState(!1),{toast:f}=Ct(),p=v.useRef(null),[x,m]=v.useState({firstName:"",lastName:"",username:"",password:"",email:"",profileImage:void 0}),[g,y]=v.useState({}),[j,w]=v.useState(null),[b,N]=v.useState(null),[S,C]=v.useState(!1),P=async T=>{if(T.length<3){w(null);return}try{const O=await(await Pe("/api/auth/check-username","POST",{username:T})).json();w(O.available)}catch($){console.error("Error checking username:",$)}},_=async T=>{if(!T.includes("@")){N(null);return}try{const O=await(await Pe("/api/auth/check-email","POST",{email:T})).json();N(O.available)}catch($){console.error("Error checking email:",$)}},A=(T,$)=>{m(O=>({...O,[T]:$})),g[T]&&y(O=>({...O,[T]:""})),T==="username"?P($):T==="email"&&_($)},k=T=>{if(T.size>5*1024*1024){f({title:"File too large",description:"Please select an image smaller than 5MB.",variant:"destructive"});return}if(!T.type.startsWith("image/")){f({title:"Invalid file type",description:"Please select an image file.",variant:"destructive"});return}m($=>({...$,profileImage:T}))},E=T=>{T.preventDefault(),T.stopPropagation(),T.type==="dragenter"||T.type==="dragover"?C(!0):T.type==="dragleave"&&C(!1)},L=T=>{T.preventDefault(),T.stopPropagation(),C(!1),T.dataTransfer.files&&T.dataTransfer.files[0]&&k(T.dataTransfer.files[0])},F=()=>{const T={};return x.firstName.trim()||(T.firstName="First name is required"),x.lastName.trim()||(T.lastName="Last name is required"),x.username.trim()?j===!1&&(T.username="Username is not available"):T.username="Username is required",x.password?x.password.length<6&&(T.password="Password must be at least 6 characters"):T.password="Password is required",x.email.trim()?x.email.includes("@")?b===!1&&(T.email="Email is already in use"):T.email="Please enter a valid email":T.email="Email is required",y(T),Object.keys(T).length===0},U=async()=>{try{l(!0);const T=await Pe("/api/auth/send-verification","POST",{email:x.email});if(T.ok)h(!0),n(2),f({title:"Verification Code Sent",description:"Please check your email for the verification code."});else{const $=await T.json();throw new Error($.error||"Failed to send verification code")}}catch(T){f({title:"Failed to Send Code",description:T.message||"Please try again.",variant:"destructive"})}finally{l(!1)}},W=async T=>{T.preventDefault(),F()&&await U()},V=async T=>{if(T.preventDefault(),c.length!==6){f({title:"Verification Code Required",description:"Please enter the 6-digit verification code.",variant:"destructive"});return}try{l(!0);const $=new FormData;$.append("firstName",x.firstName),$.append("lastName",x.lastName),$.append("username",x.username),$.append("password",x.password),$.append("email",x.email),$.append("verificationCode",c),$.append("role","End-user"),$.append("domainPath",t);const O=sessionStorage.getItem("authWhiteLabelId");O&&$.append("whitelabel_id",O),x.profileImage&&$.append("profileImage",x.profileImage);const R=await fetch("/api/auth/signup",{method:"POST",body:$});if(R.ok){const I=await R.json();f({title:"Account Created Successfully!",description:"Welcome! You are now logged in."}),setTimeout(()=>{window.location.href=`/${t}/user`},1500)}else{const I=await R.json();throw I.message&&I.message.includes("Incorrect verification code")?new Error("Incorrect Verification Code"):I.message&&I.message.includes("verification code")?new Error(I.message):new Error(I.error||I.message||"Failed to create account")}}catch($){f({title:"Signup Failed",description:$.message||"Please try again.",variant:"destructive"})}finally{l(!1)}},D=async()=>{await U()};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs(K,{className:"shadow-xl border-0",children:[s.jsx(re,{className:"space-y-4 pb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ne,{className:"text-2xl font-bold text-gray-900",children:"Create Your Account"}),s.jsx("p",{className:"text-gray-600 mt-2",children:r===1?"Join us and start exploring":"Verify your email to complete registration"})]})}),s.jsxs(G,{className:"space-y-6",children:[r===1&&s.jsxs("form",{onSubmit:W,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"firstName",children:"First Name *"}),s.jsx(J,{id:"firstName",type:"text",value:x.firstName,onChange:T=>A("firstName",T.target.value),className:g.firstName?"border-red-500":"",placeholder:"John","data-testid":"input-firstName"}),g.firstName&&s.jsx("p",{className:"text-sm text-red-600",children:g.firstName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"lastName",children:"Last Name *"}),s.jsx(J,{id:"lastName",type:"text",value:x.lastName,onChange:T=>A("lastName",T.target.value),className:g.lastName?"border-red-500":"",placeholder:"Doe","data-testid":"input-lastName"}),g.lastName&&s.jsx("p",{className:"text-sm text-red-600",children:g.lastName})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"username",children:"Username *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"username",type:"text",value:x.username,onChange:T=>A("username",T.target.value.toLowerCase()),className:`pr-20 ${g.username?"border-red-500":j===!0?"border-green-500":""}`,placeholder:"username",style:{textTransform:"lowercase"},"data-testid":"input-username"}),j!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${j?"text-green-600":"text-red-600"}`,children:j?" Available":" Taken"})]}),g.username&&s.jsx("p",{className:"text-sm text-red-600",children:g.username})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"password",children:"Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"password",type:a?"text":"password",value:x.password,onChange:T=>A("password",T.target.value),className:g.password?"border-red-500":"",placeholder:"Enter your password","data-testid":"input-password"}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:a?s.jsx(ds,{className:"h-4 w-4"}):s.jsx(vt,{className:"h-4 w-4"})})]}),g.password&&s.jsx("p",{className:"text-sm text-red-600",children:g.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"email",type:"email",value:x.email,onChange:T=>A("email",T.target.value),className:`pr-20 ${g.email?"border-red-500":b===!0?"border-green-500":""}`,placeholder:"your@email.com","data-testid":"input-email"}),b!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${b?"text-green-600":"text-red-600"}`,children:b?" Available":" In use"})]}),g.email&&s.jsx("p",{className:"text-sm text-red-600",children:g.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Profile Image (Optional)"}),s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${S?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:E,onDragLeave:E,onDragOver:E,onDrop:L,children:[x.profileImage?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("img",{src:URL.createObjectURL(x.profileImage),alt:"Profile preview",className:"w-12 h-12 rounded-full object-cover"}),s.jsx("span",{className:"text-sm text-gray-600",children:x.profileImage.name})]}),s.jsx(M,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(T=>({...T,profileImage:void 0})),children:s.jsx(Lr,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Wi,{className:"mx-auto h-8 w-8 text-gray-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Drag and drop your image here, or"," ",s.jsx("button",{type:"button",onClick:()=>{var T;return(T=p.current)==null?void 0:T.click()},className:"text-blue-600 hover:text-blue-800 underline",children:"browse"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 5MB"})]})]}),s.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:T=>{var $;return(($=T.target.files)==null?void 0:$[0])&&k(T.target.files[0])},className:"hidden"})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:e,"data-testid":"button-back",children:"Back to Login"}),s.jsx(M,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:o||j===!1||b===!1,"data-testid":"button-continue",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Code..."]}):"Continue"})]})]}),r===2&&s.jsxs("form",{onSubmit:V,className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(_t,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Verify Your Email Address"}),s.jsxs("p",{className:"text-gray-600",children:["We've sent a 6-digit verification code to:",s.jsx("br",{}),s.jsx("span",{className:"font-medium",children:x.email})]})]}),s.jsx("div",{className:"max-w-xs mx-auto space-y-4",children:s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"verificationCode",children:"Verification Code"}),s.jsx(J,{id:"verificationCode",value:c,onChange:T=>d(T.target.value),placeholder:"123456",className:"text-center text-lg tracking-widest",maxLength:6,"data-testid":"input-verificationCode"})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the code?"}),s.jsx(M,{type:"button",variant:"outline",onClick:D,disabled:o,"data-testid":"button-resendCode",children:"Resend Code"})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>n(1),disabled:o,"data-testid":"button-backToStep1",children:"Back"}),s.jsx(M,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:o||c.length!==6,"data-testid":"button-signup",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Sign Up"})]})]})]})]})})})}function BTe({onBack:e,whiteLabelId:t}){const[r,n]=v.useState(1),[a,i]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(""),[u,h]=v.useState(!1),[f,p]=v.useState(""),{toast:x}=Ct(),m=v.useRef(null),[g,y]=v.useState({firstName:"",lastName:"",username:"",password:"",email:"",referralUrl:"",profileImage:void 0,whiteLabelId:t}),[j,w]=v.useState({}),[b,N]=v.useState(null),[S,C]=v.useState(null),[P,_]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const R=await Pe(`/api/white-labels/by-id/${t}`,"GET");if(R.ok){const I=await R.json();p(I.domainPath||"")}}catch(R){console.error("Error fetching white label details:",R)}})()},[t]);const A=async O=>{if(O.length<3){N(null);return}try{const I=await(await Pe("/api/auth/check-username","POST",{username:O})).json();N(I.available)}catch(R){console.error("Error checking username:",R)}},k=async O=>{if(!O.includes("@")){C(null);return}try{const I=await(await Pe("/api/auth/check-email","POST",{email:O})).json();C(I.available)}catch(R){console.error("Error checking email:",R)}},E=(O,R)=>{y(I=>({...I,[O]:R})),j[O]&&w(I=>({...I,[O]:""})),O==="username"?A(R):O==="email"&&k(R)},L=O=>{if(O.size>5*1024*1024){x({title:"File too large",description:"Please select an image smaller than 5MB.",variant:"destructive"});return}if(!O.type.startsWith("image/")){x({title:"Invalid file type",description:"Please select an image file.",variant:"destructive"});return}y(R=>({...R,profileImage:O}))},F=O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?_(!0):O.type==="dragleave"&&_(!1)},U=O=>{O.preventDefault(),O.stopPropagation(),_(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&L(O.dataTransfer.files[0])},W=()=>{const O={};return g.firstName.trim()||(O.firstName="First name is required"),g.lastName.trim()||(O.lastName="Last name is required"),g.username.trim()?b===!1&&(O.username="Username is not available"):O.username="Username is required",g.password?g.password.length<6&&(O.password="Password must be at least 6 characters"):O.password="Password is required",g.email.trim()?g.email.includes("@")?S===!1&&(O.email="Email is already in use"):O.email="Please enter a valid email":O.email="Email is required",w(O),Object.keys(O).length===0},V=async()=>{try{l(!0);const O=await Pe("/api/auth/send-verification","POST",{email:g.email});if(O.ok)h(!0),n(2),x({title:"Verification Code Sent",description:"Please check your email for the verification code."});else{const R=await O.json();throw new Error(R.error||"Failed to send verification code")}}catch(O){x({title:"Failed to Send Code",description:O.message||"Please try again.",variant:"destructive"})}finally{l(!1)}},D=async O=>{O.preventDefault(),W()&&await V()},T=async O=>{if(O.preventDefault(),c.length!==6){x({title:"Verification Code Required",description:"Please enter the 6-digit verification code.",variant:"destructive"});return}try{l(!0);const R=new FormData;R.append("firstName",g.firstName),R.append("lastName",g.lastName),R.append("username",g.username),R.append("password",g.password),R.append("email",g.email),R.append("verificationCode",c),R.append("role","white_label_affiliate"),R.append("whiteLabelId",t.toString()),g.referralUrl&&R.append("referralUrl",g.referralUrl),g.profileImage&&R.append("profileImage",g.profileImage);const I=await fetch("/api/auth/signup-white-label-affiliate",{method:"POST",body:R});if(I.ok){const H=await I.json();x({title:"Account Created Successfully!",description:"Welcome to the affiliate program. You are now logged in."}),setTimeout(()=>{window.location.href=`/${f}/affiliate`},1500)}else{const H=await I.json();throw H.message&&H.message.includes("Incorrect verification code")?new Error("Incorrect Verification Code"):H.message&&H.message.includes("verification code")?new Error(H.message):new Error(H.error||H.message||"Failed to create account")}}catch(R){x({title:"Signup Failed",description:R.message||"Please try again.",variant:"destructive"})}finally{l(!1)}},$=async()=>{await V()};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs(K,{className:"shadow-xl border-0",children:[s.jsx(re,{className:"space-y-4 pb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsxs(ne,{className:"text-2xl font-bold text-gray-900",children:["Sign up As ",f?`"${f}"`:"White Label"," Affiliate"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:r===1?"Join our affiliate program and start earning commissions":"Verify your email to complete registration"})]})}),s.jsxs(G,{className:"space-y-6",children:[r===1&&s.jsxs("form",{onSubmit:D,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"firstName",children:"First Name *"}),s.jsx(J,{id:"firstName",type:"text",value:g.firstName,onChange:O=>E("firstName",O.target.value),className:j.firstName?"border-red-500":"",placeholder:"John","data-testid":"input-firstName"}),j.firstName&&s.jsx("p",{className:"text-sm text-red-600",children:j.firstName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"lastName",children:"Last Name *"}),s.jsx(J,{id:"lastName",type:"text",value:g.lastName,onChange:O=>E("lastName",O.target.value),className:j.lastName?"border-red-500":"",placeholder:"Doe","data-testid":"input-lastName"}),j.lastName&&s.jsx("p",{className:"text-sm text-red-600",children:j.lastName})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"username",children:"Username *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"username",type:"text",value:g.username,onChange:O=>E("username",O.target.value.toLowerCase()),className:`pr-20 ${j.username?"border-red-500":b===!0?"border-green-500":""}`,placeholder:"username",style:{textTransform:"lowercase"},"data-testid":"input-username"}),b!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${b?"text-green-600":"text-red-600"}`,children:b?" Available":" Taken"})]}),j.username&&s.jsx("p",{className:"text-sm text-red-600",children:j.username})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"password",children:"Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"password",type:a?"text":"password",value:g.password,onChange:O=>E("password",O.target.value),className:j.password?"border-red-500":"",placeholder:"Enter your password","data-testid":"input-password"}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:a?s.jsx(ds,{className:"h-4 w-4"}):s.jsx(vt,{className:"h-4 w-4"})})]}),j.password&&s.jsx("p",{className:"text-sm text-red-600",children:j.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"email",type:"email",value:g.email,onChange:O=>E("email",O.target.value),className:`pr-20 ${j.email?"border-red-500":S===!0?"border-green-500":""}`,placeholder:"your@email.com","data-testid":"input-email"}),S!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${S?"text-green-600":"text-red-600"}`,children:S?" Available":" In use"})]}),j.email&&s.jsx("p",{className:"text-sm text-red-600",children:j.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"referralUrl",children:"Your Referral URL (Optional)"}),s.jsx(J,{id:"referralUrl",type:"url",value:g.referralUrl,onChange:O=>E("referralUrl",O.target.value),placeholder:"https://yourwebsite.com","data-testid":"input-referralUrl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Profile Image (Optional)"}),s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${P?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:F,onDragLeave:F,onDragOver:F,onDrop:U,children:[g.profileImage?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("img",{src:URL.createObjectURL(g.profileImage),alt:"Profile preview",className:"w-12 h-12 rounded-full object-cover"}),s.jsx("span",{className:"text-sm text-gray-600",children:g.profileImage.name})]}),s.jsx(M,{type:"button",variant:"ghost",size:"sm",onClick:()=>y(O=>({...O,profileImage:void 0})),children:s.jsx(Lr,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Wi,{className:"mx-auto h-8 w-8 text-gray-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Drag and drop your image here, or"," ",s.jsx("button",{type:"button",onClick:()=>{var O;return(O=m.current)==null?void 0:O.click()},className:"text-blue-600 hover:text-blue-800 underline",children:"browse"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 5MB"})]})]}),s.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:O=>{var R;return((R=O.target.files)==null?void 0:R[0])&&L(O.target.files[0])},className:"hidden"})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:e,"data-testid":"button-back",children:"Back to Login"}),s.jsx(M,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:o||b===!1||S===!1,"data-testid":"button-continue",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Code..."]}):"Continue"})]})]}),r===2&&s.jsxs("form",{onSubmit:T,className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(_t,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Verify Your Email Address"}),s.jsxs("p",{className:"text-gray-600",children:["We've sent a 6-digit verification code to:",s.jsx("br",{}),s.jsx("span",{className:"font-medium",children:g.email})]})]}),s.jsx("div",{className:"max-w-xs mx-auto space-y-4",children:s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"verificationCode",children:"Verification Code"}),s.jsx(J,{id:"verificationCode",value:c,onChange:O=>d(O.target.value),placeholder:"123456",className:"text-center text-lg tracking-widest",maxLength:6,"data-testid":"input-verificationCode"})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the code?"}),s.jsx(M,{type:"button",variant:"outline",onClick:$,disabled:o,"data-testid":"button-resend",children:"Resend Code"})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>n(1),disabled:o,"data-testid":"button-back-step2",children:"Back"}),s.jsx(M,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:o||c.length!==6,"data-testid":"button-signup",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Signup"})]})]})]})]})})})}function V5(){const[e,t]=v.useState("login"),[r,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(null),[u,h]=v.useState(!1),[f,p]=v.useState(""),[x,m]=v.useState(!1),[g,y]=v.useState({firstName:"",lastName:"",username:"",password:""}),[j,w]=v.useState({}),{toast:b}=Ct(),[N]=Pn(),S=new URLSearchParams(window.location.search).get("context"),C=S==="affiliate"||N.includes("/become-affiliate"),P=S&&S.startsWith("client_"),_=()=>C?"super_admin_affiliate":P?"end_user":"auto_detect";v.useEffect(()=>{const O=new URLSearchParams(window.location.search),R=O.get("role"),I=O.get("whitelabel_id");R==="affiliate"&&I&&(console.log(" Auto-enabling white label affiliate signup view"),t("whiteLabelAffiliateSignup"))},[]);const A=()=>P&&S?{clientId:S.replace("client_","")}:null,[k,E]=v.useState(!0);v.useEffect(()=>{(async()=>{try{(await fetch("/api/user")).ok&&(console.log(" User already logged in, logging out before showing auth page..."),await fetch("/api/logout",{method:"POST"}),console.log(" Auto-logout complete"),await new Promise(I=>setTimeout(I,300)))}catch{console.log("No active session or error checking auth status")}finally{E(!1)}})()},[]),v.useEffect(()=>{const R=new URLSearchParams(window.location.search).get("whitelabel_id"),I=R&&/^\d+$/.test(R),H=I?Number(R):NaN;I&&H>0?(sessionStorage.setItem("authWhiteLabelId",R),(async()=>{try{const ie=await fetch(`/api/white-labels/by-id/${R}`);if(ie.ok){const je=await ie.json();je.domainPath&&(sessionStorage.setItem("authDomain",je.domainPath),sessionStorage.getItem("authIntent")||sessionStorage.setItem("authIntent","user"))}}catch(ie){console.error("Error fetching white label info:",ie)}})()):(sessionStorage.removeItem("authWhiteLabelId"),sessionStorage.removeItem("authDomain"),sessionStorage.removeItem("authIntent"),R?console.log(" Cleared authWhiteLabelId - invalid whitelabel_id in URL:",R):console.log(" Cleared stale authWhiteLabelId - no whitelabel_id in URL"))},[window.location.search]),v.useEffect(()=>{if(e==="signup"&&g.username&&g.username.length>=3){const O=setTimeout(async()=>{l(!0);try{const I=await(await fetch("/api/auth/check-username",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:g.username,context:S||"domain"})})).json();d(I)}catch{d({available:!1,message:"Error checking username availability"})}finally{l(!1)}},500);return()=>clearTimeout(O)}else d(null)},[g.username,e,C]);const L=(O,R)=>{y(I=>({...I,[O]:R})),j[O]&&w(I=>({...I,[O]:""}))},F=()=>{const O={};return e==="signup"&&((!g.firstName||g.firstName.length<2)&&(O.firstName="First name must be at least 2 characters"),(!g.lastName||g.lastName.length<2)&&(O.lastName="Last name must be at least 2 characters")),!g.username||g.username.trim().length<3?O.username=e==="login"?"Please enter your email or username (minimum 3 characters)":"Username must be at least 3 characters":e==="signup"&&(/^[a-zA-Z0-9_]+$/.test(g.username)||(O.username="Username can only contain letters, numbers, and underscores")),(!g.password||g.password.length<6)&&(O.password="Password must be at least 6 characters"),e==="signup"&&c&&!c.available&&(O.username=c.message),w(O),Object.keys(O).length===0},U=async O=>{if(O.preventDefault(),!!F()){i(!0);try{if(e==="login"){const R=sessionStorage.getItem("authWhiteLabelId"),I=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:g.username,password:g.password,whitelabel_id:R||void 0})}),H=await I.json();if(I.ok&&H.success){b({title:"Login Successful",description:"Welcome back!"});const he=sessionStorage.getItem("authIntent"),ie=sessionStorage.getItem("authDomain");sessionStorage.removeItem("authWhiteLabelId"),sessionStorage.removeItem("authIntent"),sessionStorage.removeItem("authDomain"),he&&ie?he==="affiliate"?window.location.href=`/${ie}/affiliate`:window.location.href=`/${ie}/user`:window.location.href="/"}else throw new Error(H.error||"Login failed")}else{const R=sessionStorage.getItem("authWhiteLabelId"),I=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:g.firstName,lastName:g.lastName,username:g.username,password:g.password,role:_(),context:S||"domain",whitelabel_id:R||void 0})}),H=await I.json();if(I.ok&&H.success){b({title:"Account Created",description:"Welcome to WhiteLabel Pro!"});const he=sessionStorage.getItem("authIntent"),ie=sessionStorage.getItem("authDomain");sessionStorage.removeItem("authWhiteLabelId"),sessionStorage.removeItem("authIntent"),sessionStorage.removeItem("authDomain"),he&&ie?he==="affiliate"?window.location.href=`/${ie}/affiliate`:window.location.href=`/${ie}/user`:window.location.href="/"}else throw new Error(H.error||"Failed to create account")}}catch(R){b({title:"Error",description:R.message||"An error occurred. Please try again.",variant:"destructive"})}finally{i(!1)}}},W=()=>{const O=S||"domain",I=new URLSearchParams(window.location.search).get("whitelabel_id");let H="/api/auth/google";const he=new URLSearchParams;if(e!=="login"&&(he.set("role",_()),he.set("context",O)),I){const ie=/^\d+$/.test(I),je=ie?Number(I):NaN;ie&&je>0?he.set("whitelabel_id",I):console.warn("Invalid whitelabel_id in Google OAuth:",I)}he.toString()&&(H+=`?${he.toString()}`),window.location.href=H},V=async O=>{if(O.preventDefault(),!f){b({title:"Error",description:"Please enter your email address",variant:"destructive"});return}m(!0);try{const R=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f})});if(b({title:"Reset Link Sent",description:"If an account with that email exists, we've sent password reset instructions."}),h(!1),p(""),!R.ok){const I=await R.json();console.error("Password reset error:",I.error||"Failed to send reset email")}}catch(R){b({title:"Reset Link Sent",description:"If an account with that email exists, we've sent password reset instructions."}),h(!1),p(""),console.error("Password reset network error:",R.message)}finally{m(!1)}},D=()=>e!=="signup"?null:o?s.jsx(Ms,{className:"h-4 w-4 animate-spin text-gray-400"}):c!=null&&c.available?s.jsx(Qr,{className:"h-4 w-4 text-green-500"}):c&&!c.available?s.jsx(Lr,{className:"h-4 w-4 text-red-500"}):null,$=C?{title:"Join as Super Admin Affiliate",description:"Promote our white-label platform and earn substantial commissions"}:P?(A(),{title:"Create Your Account",description:"Join as an End-User and get access to exclusive content and services"}):{title:e==="login"?"Welcome Back":"Create Account",description:e==="login"?"Sign in to your account":"Join our platform today"};if(e==="businessSignup")return s.jsx(LTe,{onBack:()=>t("login")});if(e==="signup"&&C)return s.jsx(FTe,{onBack:()=>t("login")});if(e==="endUserSignup"){const O=sessionStorage.getItem("authDomain")||"";return s.jsx(zTe,{onBack:()=>t("login"),domainPath:O})}if(e==="whiteLabelAffiliateSignup"){const R=new URLSearchParams(window.location.search).get("whitelabel_id"),I=R&&/^\d+$/.test(R),H=I?Number(R):NaN;return I&&H>0?s.jsx(BTe,{onBack:()=>t("login"),whiteLabelId:H}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsx(K,{className:"shadow-xl border-0 w-full max-w-md",children:s.jsxs(G,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Ba,{className:"mb-4",children:s.jsxs(Ua,{children:["Invalid affiliate signup link. The white label ID is ",R?"invalid":"missing","."]})}),s.jsx(M,{onClick:()=>t("login"),children:"Back to Login"})]})})})}return k?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsx(K,{className:"shadow-xl border-0 w-full max-w-md",children:s.jsxs(G,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Ms,{className:"h-12 w-12 animate-spin text-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600 text-center",children:"Please wait, logging you out first..."})]})})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:[s.jsx("div",{className:"w-full max-w-md",children:s.jsxs(K,{className:"shadow-xl border-0",children:[s.jsx(re,{className:"space-y-4 pb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ne,{className:"text-2xl font-bold text-gray-900",children:$.title}),s.jsx("p",{className:"text-gray-600 mt-2",children:$.description})]})}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e==="signup"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"firstName",children:"First Name"}),s.jsx(J,{id:"firstName",type:"text",value:g.firstName||"",onChange:O=>L("firstName",O.target.value),className:j.firstName?"border-red-500":"",placeholder:"John"}),j.firstName&&s.jsx("p",{className:"text-sm text-red-600",children:j.firstName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"lastName",children:"Last Name"}),s.jsx(J,{id:"lastName",type:"text",value:g.lastName||"",onChange:O=>L("lastName",O.target.value),className:j.lastName?"border-red-500":"",placeholder:"Doe"}),j.lastName&&s.jsx("p",{className:"text-sm text-red-600",children:j.lastName})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"username",children:e==="login"?"Email, Username":"Username (lowercase only)"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"username",type:"text",value:g.username,onChange:O=>{const R=e==="login"?O.target.value:O.target.value.toLowerCase();L("username",R)},className:`pr-10 ${j.username?"border-red-500":e==="signup"&&(c!=null&&c.available)?"border-green-500":""}`,placeholder:e==="login"?"Enter your email or username":"Enter your username (lowercase)",style:e==="login"?{}:{textTransform:"lowercase"}}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:D()})]}),j.username&&s.jsx("p",{className:"text-sm text-red-600",children:j.username}),!j.username&&e==="signup"&&(c==null?void 0:c.available)&&s.jsx("p",{className:"text-sm text-green-600",children:"Username is available!"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"password",type:r?"text":"password",value:g.password,onChange:O=>L("password",O.target.value),className:j.password?"border-red-500":"",placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:r?s.jsx(ds,{className:"h-4 w-4"}):s.jsx(vt,{className:"h-4 w-4"})})]}),j.password&&s.jsx("p",{className:"text-sm text-red-600",children:j.password})]}),e==="login"&&s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-forgot-password",children:"Forget Password?"})}),s.jsx(M,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:a||o&&e==="signup",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),e==="login"?"Signing In...":"Creating Account..."]}):e==="login"?"Sign In":"Create Account"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),s.jsxs(M,{type:"button",variant:"outline",className:"w-full",onClick:W,children:[s.jsx(ETe,{className:"mr-2 h-4 w-4"}),"Continue with Google"]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:()=>{if(e==="login"){const O=new URLSearchParams(window.location.search),R=O.get("whitelabel_id");O.get("role")==="affiliate"&&R?(console.log(" Detected white label affiliate signup"),t("whiteLabelAffiliateSignup")):R||sessionStorage.getItem("authWhiteLabelId")?t("endUserSignup"):t(C?"signup":"businessSignup")}else t("login"),w({}),d(null),y({firstName:"",lastName:"",username:"",password:""})},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:e==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})}),s.jsx(ar,{open:u,onOpenChange:h,children:s.jsxs(Yt,{className:"sm:max-w-md",children:[s.jsxs(Xt,{children:[s.jsx(Qt,{children:"Reset Password"}),s.jsx(gs,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsxs("form",{onSubmit:V,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"forgot-email",children:"Email Address"}),s.jsx(J,{id:"forgot-email",type:"email",value:f,onChange:O=>p(O.target.value),placeholder:"Enter your email address",required:!0,"data-testid":"input-forgot-password-email"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>{h(!1),p("")},className:"flex-1","data-testid":"button-cancel-forgot-password",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:x,className:"flex-1 bg-blue-600 hover:bg-blue-700","data-testid":"button-send-reset-link",children:x?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})]})]})})]})}function UTe(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[a,i]=v.useState({username:"",password:""}),[o,l]=v.useState({}),{toast:c}=Ct(),[,d]=Pn(),u=(p,x)=>{i(m=>({...m,[p]:x})),o[p]&&l(m=>({...m,[p]:""}))},h=()=>{const p={};return(!a.username||a.username.length<3)&&(p.username="Username must be at least 3 characters"),(!a.password||a.password.length<6)&&(p.password="Password must be at least 6 characters"),l(p),Object.keys(p).length===0},f=async p=>{var x;if(p.preventDefault(),!!h()){n(!0);try{const m=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.username,password:a.password})}),g=await m.json();if(m.ok&&g.success)((x=g.user)==null?void 0:x.role)==="super_admin"?(c({title:"Super Admin Access Granted",description:"Welcome to the admin dashboard!"}),d("/dashboard")):c({title:"Access Denied",description:"Super Admin privileges required for this portal.",variant:"destructive"});else throw new Error(g.error||"Login failed")}catch(m){c({title:"Login Failed",description:m.message||"Invalid credentials. Please try again.",variant:"destructive"})}finally{n(!1)}}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsxs(K,{className:"shadow-2xl border-0 bg-white/10 backdrop-blur-md",children:[s.jsx(re,{className:"space-y-4 pb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:s.jsx(xr,{className:"h-8 w-8 text-white"})})}),s.jsx(ne,{className:"text-2xl font-bold text-white",children:"Super Admin Portal"}),s.jsx("p",{className:"text-blue-100 mt-2",children:"Secure access to platform administration"})]})}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"username",className:"text-white font-medium",children:"Admin Username"}),s.jsx(J,{id:"username",type:"text",placeholder:"Enter admin username",value:a.username,onChange:p=>u("username",p.target.value),className:"bg-white/20 border-white/30 text-white placeholder:text-white/70 focus:border-blue-400 focus:ring-blue-400",disabled:r}),o.username&&s.jsx(Ba,{className:"bg-red-500/20 border-red-400/50 text-red-200",children:s.jsx(Ua,{children:o.username})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"password",className:"text-white font-medium",children:"Admin Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"password",type:e?"text":"password",placeholder:"Enter admin password",value:a.password,onChange:p=>u("password",p.target.value),className:"bg-white/20 border-white/30 text-white placeholder:text-white/70 focus:border-blue-400 focus:ring-blue-400 pr-10",disabled:r}),s.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-white",disabled:r,children:e?s.jsx(ds,{className:"h-4 w-4"}):s.jsx(vt,{className:"h-4 w-4"})})]}),o.password&&s.jsx(Ba,{className:"bg-red-500/20 border-red-400/50 text-red-200",children:s.jsx(Ua,{children:o.password})})]}),s.jsx(M,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 text-lg shadow-lg",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"mr-2 h-5 w-5 animate-spin"}),"Authenticating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xr,{className:"mr-2 h-5 w-5"}),"Access Admin Portal"]})})]}),s.jsx("div",{className:"text-center pt-4 border-t border-white/20",children:s.jsx("p",{className:"text-white/60 text-sm",children:" Secured with enterprise-grade encryption"})})]})]})})})}var At;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(At||(At={}));var H5;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(H5||(H5={}));const We=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ao=e=>{switch(typeof e){case"undefined":return We.undefined;case"string":return We.string;case"number":return Number.isNaN(e)?We.nan:We.number;case"boolean":return We.boolean;case"function":return We.function;case"bigint":return We.bigint;case"symbol":return We.symbol;case"object":return Array.isArray(e)?We.array:e===null?We.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?We.promise:typeof Map<"u"&&e instanceof Map?We.map:typeof Set<"u"&&e instanceof Set?We.set:typeof Date<"u"&&e instanceof Date?We.date:We.object;default:return We.unknown}},_e=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(t){if(!(t instanceof Fi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Fi.create=e=>new Fi(e);const l2=(e,t)=>{let r;switch(e.code){case _e.invalid_type:e.received===We.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case _e.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,At.jsonStringifyReplacer)}`;break;case _e.unrecognized_keys:r=`Unrecognized key(s) in object: ${At.joinValues(e.keys,", ")}`;break;case _e.invalid_union:r="Invalid input";break;case _e.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${At.joinValues(e.options)}`;break;case _e.invalid_enum_value:r=`Invalid enum value. Expected ${At.joinValues(e.options)}, received '${e.received}'`;break;case _e.invalid_arguments:r="Invalid function arguments";break;case _e.invalid_return_type:r="Invalid function return type";break;case _e.invalid_date:r="Invalid date";break;case _e.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:At.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case _e.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case _e.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case _e.custom:r="Invalid input";break;case _e.invalid_intersection_types:r="Intersection results could not be merged";break;case _e.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case _e.not_finite:r="Number must be finite";break;default:r=t.defaultError,At.assertNever(e)}return{message:r}};let WTe=l2;function VTe(){return WTe}const HTe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Fe(e,t){const r=VTe(),n=HTe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===l2?void 0:l2].filter(a=>!!a)});e.common.issues.push(n)}class ys{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return rt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ys.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return rt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const rt=Object.freeze({status:"aborted"}),uf=e=>({status:"dirty",value:e}),Gs=e=>({status:"valid",value:e}),q5=e=>e.status==="aborted",K5=e=>e.status==="dirty",zu=e=>e.status==="valid",dv=e=>typeof Promise<"u"&&e instanceof Promise;var Ve;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ve||(Ve={}));class rl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const G5=(e,t)=>{if(zu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fi(e.common.issues);return this._error=r,this._error}}};function gt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class kt{get description(){return this._def.description}_getType(t){return ao(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ao(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ys,ctx:{common:t.parent.common,data:t.data,parsedType:ao(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(dv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ao(t)},a=this._parseSync({data:t,path:n.path,parent:n});return G5(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ao(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return zu(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>zu(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ao(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(dv(a)?a:Promise.resolve(a));return G5(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:_e.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Uu({schema:this,typeName:nt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Vo.create(this,this._def)}nullable(){return Wu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ha.create(this)}promise(){return mv.create(this,this._def)}or(t){return hv.create([this,t],this._def)}and(t){return fv.create(this,t,this._def)}transform(t){return new Uu({...gt(this._def),schema:this,typeName:nt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new d2({...gt(this._def),innerType:this,defaultValue:r,typeName:nt.ZodDefault})}brand(){return new mOe({typeName:nt.ZodBranded,type:this,...gt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new u2({...gt(this._def),innerType:this,catchValue:r,typeName:nt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ZP.create(this,t)}readonly(){return h2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qTe=/^c[^\s-]{8,}$/i,KTe=/^[0-9a-z]+$/,GTe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,YTe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,XTe=/^[a-z0-9_-]{21}$/i,QTe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ZTe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,JTe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eOe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vw;const tOe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rOe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nOe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sOe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aOe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,iOe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,HB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oOe=new RegExp(`^${HB}$`);function qB(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function lOe(e){return new RegExp(`^${qB(e)}$`)}function cOe(e){let t=`${HB}T${qB(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function dOe(e,t){return!!((t==="v4"||!t)&&tOe.test(e)||(t==="v6"||!t)&&nOe.test(e))}function uOe(e,t){if(!QTe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function hOe(e,t){return!!((t==="v4"||!t)&&rOe.test(e)||(t==="v6"||!t)&&sOe.test(e))}class Eo extends kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==We.string){const i=this._getOrReturnCtx(t);return Fe(i,{code:_e.invalid_type,expected:We.string,received:i.parsedType}),rt}const n=new ys;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Fe(a,{code:_e.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Fe(a,{code:_e.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Fe(a,{code:_e.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Fe(a,{code:_e.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")JTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"email",code:_e.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Vw||(Vw=new RegExp(eOe,"u")),Vw.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"emoji",code:_e.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")YTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"uuid",code:_e.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")XTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"nanoid",code:_e.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")qTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"cuid",code:_e.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")KTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"cuid2",code:_e.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")GTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"ulid",code:_e.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Fe(a,{validation:"url",code:_e.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"regex",code:_e.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Fe(a,{code:_e.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Fe(a,{code:_e.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Fe(a,{code:_e.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?cOe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{code:_e.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?oOe.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{code:_e.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?lOe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{code:_e.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?ZTe.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"duration",code:_e.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?dOe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"ip",code:_e.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?uOe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"jwt",code:_e.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?hOe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"cidr",code:_e.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?aOe.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"base64",code:_e.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?iOe.test(t.data)||(a=this._getOrReturnCtx(t,a),Fe(a,{validation:"base64url",code:_e.invalid_string,message:i.message}),n.dirty()):At.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:_e.invalid_string,...Ve.errToObj(n)})}_addCheck(t){return new Eo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ve.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ve.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ve.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ve.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ve.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ve.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ve.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ve.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ve.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ve.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ve.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ve.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ve.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ve.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ve.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ve.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ve.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ve.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ve.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ve.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ve.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ve.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ve.errToObj(r)})}nonempty(t){return this.min(1,Ve.errToObj(t))}trim(){return new Eo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Eo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Eo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Eo.create=e=>new Eo({checks:[],typeName:nt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...gt(e)});function fOe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Gm extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==We.number){const i=this._getOrReturnCtx(t);return Fe(i,{code:_e.invalid_type,expected:We.number,received:i.parsedType}),rt}let n;const a=new ys;for(const i of this._def.checks)i.kind==="int"?At.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Fe(n,{code:_e.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:_e.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:_e.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?fOe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:_e.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Fe(n,{code:_e.not_finite,message:i.message}),a.dirty()):At.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ve.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ve.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ve.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ve.toString(r))}setLimit(t,r,n,a){return new Gm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ve.toString(a)}]})}_addCheck(t){return new Gm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ve.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ve.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ve.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&At.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Gm.create=e=>new Gm({checks:[],typeName:nt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...gt(e)});class Ym extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==We.bigint)return this._getInvalidInput(t);let n;const a=new ys;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:_e.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:_e.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Fe(n,{code:_e.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):At.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Fe(r,{code:_e.invalid_type,expected:We.bigint,received:r.parsedType}),rt}gte(t,r){return this.setLimit("min",t,!0,Ve.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ve.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ve.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ve.toString(r))}setLimit(t,r,n,a){return new Ym({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ve.toString(a)}]})}_addCheck(t){return new Ym({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ve.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ym.create=e=>new Ym({checks:[],typeName:nt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...gt(e)});class Y5 extends kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==We.boolean){const n=this._getOrReturnCtx(t);return Fe(n,{code:_e.invalid_type,expected:We.boolean,received:n.parsedType}),rt}return Gs(t.data)}}Y5.create=e=>new Y5({typeName:nt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...gt(e)});class uv extends kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==We.date){const i=this._getOrReturnCtx(t);return Fe(i,{code:_e.invalid_type,expected:We.date,received:i.parsedType}),rt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Fe(i,{code:_e.invalid_date}),rt}const n=new ys;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Fe(a,{code:_e.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Fe(a,{code:_e.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):At.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new uv({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ve.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ve.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}uv.create=e=>new uv({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:nt.ZodDate,...gt(e)});class X5 extends kt{_parse(t){if(this._getType(t)!==We.symbol){const n=this._getOrReturnCtx(t);return Fe(n,{code:_e.invalid_type,expected:We.symbol,received:n.parsedType}),rt}return Gs(t.data)}}X5.create=e=>new X5({typeName:nt.ZodSymbol,...gt(e)});class Q5 extends kt{_parse(t){if(this._getType(t)!==We.undefined){const n=this._getOrReturnCtx(t);return Fe(n,{code:_e.invalid_type,expected:We.undefined,received:n.parsedType}),rt}return Gs(t.data)}}Q5.create=e=>new Q5({typeName:nt.ZodUndefined,...gt(e)});class Z5 extends kt{_parse(t){if(this._getType(t)!==We.null){const n=this._getOrReturnCtx(t);return Fe(n,{code:_e.invalid_type,expected:We.null,received:n.parsedType}),rt}return Gs(t.data)}}Z5.create=e=>new Z5({typeName:nt.ZodNull,...gt(e)});class J5 extends kt{constructor(){super(...arguments),this._any=!0}_parse(t){return Gs(t.data)}}J5.create=e=>new J5({typeName:nt.ZodAny,...gt(e)});class e6 extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Gs(t.data)}}e6.create=e=>new e6({typeName:nt.ZodUnknown,...gt(e)});class nl extends kt{_parse(t){const r=this._getOrReturnCtx(t);return Fe(r,{code:_e.invalid_type,expected:We.never,received:r.parsedType}),rt}}nl.create=e=>new nl({typeName:nt.ZodNever,...gt(e)});class t6 extends kt{_parse(t){if(this._getType(t)!==We.undefined){const n=this._getOrReturnCtx(t);return Fe(n,{code:_e.invalid_type,expected:We.void,received:n.parsedType}),rt}return Gs(t.data)}}t6.create=e=>new t6({typeName:nt.ZodVoid,...gt(e)});class Ha extends kt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==We.array)return Fe(r,{code:_e.invalid_type,expected:We.array,received:r.parsedType}),rt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Fe(r,{code:o?_e.too_big:_e.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Fe(r,{code:_e.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Fe(r,{code:_e.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new rl(r,o,r.path,l)))).then(o=>ys.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new rl(r,o,r.path,l)));return ys.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ha({...this._def,minLength:{value:t,message:Ve.toString(r)}})}max(t,r){return new Ha({...this._def,maxLength:{value:t,message:Ve.toString(r)}})}length(t,r){return new Ha({...this._def,exactLength:{value:t,message:Ve.toString(r)}})}nonempty(t){return this.min(1,t)}}Ha.create=(e,t)=>new Ha({type:e,minLength:null,maxLength:null,exactLength:null,typeName:nt.ZodArray,...gt(t)});function ed(e){if(e instanceof Sr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Vo.create(ed(n))}return new Sr({...e._def,shape:()=>t})}else return e instanceof Ha?new Ha({...e._def,type:ed(e.element)}):e instanceof Vo?Vo.create(ed(e.unwrap())):e instanceof Wu?Wu.create(ed(e.unwrap())):e instanceof Sc?Sc.create(e.items.map(t=>ed(t))):e}class Sr extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=At.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==We.object){const d=this._getOrReturnCtx(t);return Fe(d,{code:_e.invalid_type,expected:We.object,received:d.parsedType}),rt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof nl&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new rl(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof nl){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(Fe(a,{code:_e.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new rl(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>ys.mergeObjectSync(n,d)):ys.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ve.errToObj,new Sr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ve.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Sr({...this._def,unknownKeys:"strip"})}passthrough(){return new Sr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Sr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Sr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:nt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Sr({...this._def,catchall:t})}pick(t){const r={};for(const n of At.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Sr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of At.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Sr({...this._def,shape:()=>r})}deepPartial(){return ed(this)}partial(t){const r={};for(const n of At.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Sr({...this._def,shape:()=>r})}required(t){const r={};for(const n of At.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Vo;)i=i._def.innerType;r[n]=i}return new Sr({...this._def,shape:()=>r})}keyof(){return KB(At.objectKeys(this.shape))}}Sr.create=(e,t)=>new Sr({shape:()=>e,unknownKeys:"strip",catchall:nl.create(),typeName:nt.ZodObject,...gt(t)});Sr.strictCreate=(e,t)=>new Sr({shape:()=>e,unknownKeys:"strict",catchall:nl.create(),typeName:nt.ZodObject,...gt(t)});Sr.lazycreate=(e,t)=>new Sr({shape:e,unknownKeys:"strip",catchall:nl.create(),typeName:nt.ZodObject,...gt(t)});class hv extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Fi(l.ctx.common.issues));return Fe(r,{code:_e.invalid_union,unionErrors:o}),rt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Fi(c));return Fe(r,{code:_e.invalid_union,unionErrors:l}),rt}}get options(){return this._def.options}}hv.create=(e,t)=>new hv({options:e,typeName:nt.ZodUnion,...gt(t)});function c2(e,t){const r=ao(e),n=ao(t);if(e===t)return{valid:!0,data:e};if(r===We.object&&n===We.object){const a=At.objectKeys(t),i=At.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=c2(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===We.array&&n===We.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=c2(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===We.date&&n===We.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class fv extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(q5(i)||q5(o))return rt;const l=c2(i.value,o.value);return l.valid?((K5(i)||K5(o))&&r.dirty(),{status:r.value,value:l.data}):(Fe(n,{code:_e.invalid_intersection_types}),rt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}fv.create=(e,t,r)=>new fv({left:e,right:t,typeName:nt.ZodIntersection,...gt(r)});class Sc extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==We.array)return Fe(n,{code:_e.invalid_type,expected:We.array,received:n.parsedType}),rt;if(n.data.length<this._def.items.length)return Fe(n,{code:_e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt;!this._def.rest&&n.data.length>this._def.items.length&&(Fe(n,{code:_e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new rl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ys.mergeArray(r,o)):ys.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Sc({...this._def,rest:t})}}Sc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Sc({items:e,typeName:nt.ZodTuple,rest:null,...gt(t)})};class r6 extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==We.map)return Fe(n,{code:_e.invalid_type,expected:We.map,received:n.parsedType}),rt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new rl(n,l,n.path,[d,"key"])),value:i._parse(new rl(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return rt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return rt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}r6.create=(e,t,r)=>new r6({valueType:t,keyType:e,typeName:nt.ZodMap,...gt(r)});class Xm extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==We.set)return Fe(n,{code:_e.invalid_type,expected:We.set,received:n.parsedType}),rt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Fe(n,{code:_e.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Fe(n,{code:_e.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return rt;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new rl(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Xm({...this._def,minSize:{value:t,message:Ve.toString(r)}})}max(t,r){return new Xm({...this._def,maxSize:{value:t,message:Ve.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Xm.create=(e,t)=>new Xm({valueType:e,minSize:null,maxSize:null,typeName:nt.ZodSet,...gt(t)});class n6 extends kt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}n6.create=(e,t)=>new n6({getter:e,typeName:nt.ZodLazy,...gt(t)});class s6 extends kt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Fe(r,{received:r.data,code:_e.invalid_literal,expected:this._def.value}),rt}return{status:"valid",value:t.data}}get value(){return this._def.value}}s6.create=(e,t)=>new s6({value:e,typeName:nt.ZodLiteral,...gt(t)});function KB(e,t){return new Bu({values:e,typeName:nt.ZodEnum,...gt(t)})}class Bu extends kt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Fe(r,{expected:At.joinValues(n),received:r.parsedType,code:_e.invalid_type}),rt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Fe(r,{received:r.data,code:_e.invalid_enum_value,options:n}),rt}return Gs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Bu.create(t,{...this._def,...r})}exclude(t,r=this._def){return Bu.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Bu.create=KB;class a6 extends kt{_parse(t){const r=At.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==We.string&&n.parsedType!==We.number){const a=At.objectValues(r);return Fe(n,{expected:At.joinValues(a),received:n.parsedType,code:_e.invalid_type}),rt}if(this._cache||(this._cache=new Set(At.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=At.objectValues(r);return Fe(n,{received:n.data,code:_e.invalid_enum_value,options:a}),rt}return Gs(t.data)}get enum(){return this._def.values}}a6.create=(e,t)=>new a6({values:e,typeName:nt.ZodNativeEnum,...gt(t)});class mv extends kt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==We.promise&&r.common.async===!1)return Fe(r,{code:_e.invalid_type,expected:We.promise,received:r.parsedType}),rt;const n=r.parsedType===We.promise?r.data:Promise.resolve(r.data);return Gs(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}mv.create=(e,t)=>new mv({type:e,typeName:nt.ZodPromise,...gt(t)});class Uu extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Fe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return rt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?rt:c.status==="dirty"||r.value==="dirty"?uf(c.value):c});{if(r.value==="aborted")return rt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?rt:l.status==="dirty"||r.value==="dirty"?uf(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?rt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?rt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!zu(o))return rt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>zu(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):rt);At.assertNever(a)}}Uu.create=(e,t,r)=>new Uu({schema:e,typeName:nt.ZodEffects,effect:t,...gt(r)});Uu.createWithPreprocess=(e,t,r)=>new Uu({schema:t,effect:{type:"preprocess",transform:e},typeName:nt.ZodEffects,...gt(r)});class Vo extends kt{_parse(t){return this._getType(t)===We.undefined?Gs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Vo.create=(e,t)=>new Vo({innerType:e,typeName:nt.ZodOptional,...gt(t)});class Wu extends kt{_parse(t){return this._getType(t)===We.null?Gs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Wu.create=(e,t)=>new Wu({innerType:e,typeName:nt.ZodNullable,...gt(t)});class d2 extends kt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===We.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}d2.create=(e,t)=>new d2({innerType:e,typeName:nt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...gt(t)});class u2 extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return dv(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fi(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}u2.create=(e,t)=>new u2({innerType:e,typeName:nt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...gt(t)});class i6 extends kt{_parse(t){if(this._getType(t)!==We.nan){const n=this._getOrReturnCtx(t);return Fe(n,{code:_e.invalid_type,expected:We.nan,received:n.parsedType}),rt}return{status:"valid",value:t.data}}}i6.create=e=>new i6({typeName:nt.ZodNaN,...gt(e)});class mOe extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ZP extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?rt:i.status==="dirty"?(r.dirty(),uf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?rt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new ZP({in:t,out:r,typeName:nt.ZodPipeline})}}class h2 extends kt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(zu(a)&&(a.value=Object.freeze(a.value)),a);return dv(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}h2.create=(e,t)=>new h2({innerType:e,typeName:nt.ZodReadonly,...gt(t)});var nt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(nt||(nt={}));const o6=Eo.create;nl.create;Ha.create;const pOe=Sr.create;hv.create;fv.create;Sc.create;Bu.create;mv.create;Vo.create;Wu.create;const l6=pOe({token:o6().min(1,"Token is required"),newPassword:o6().min(8,"Password must be at least 8 characters long").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain uppercase, lowercase, and number")});function gOe(){const[,e]=Pn(),{toast:t}=Ct(),[r,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(!1),[u,h]=v.useState({newPassword:"",confirmPassword:""}),[f,p]=v.useState({}),m=new URLSearchParams(window.location.search).get("token");if(!m)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs(K,{className:"w-full max-w-md",children:[s.jsxs(re,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(xr,{className:"w-8 h-8 text-red-600"})}),s.jsx(ne,{className:"text-xl",children:"Invalid Reset Link"}),s.jsx(tt,{children:"This password reset link is invalid or incomplete."})]}),s.jsx(l1,{children:s.jsx(M,{onClick:()=>e("/login"),className:"w-full","data-testid":"button-back-to-login",children:"Back to Login"})})]})});const g=()=>{const j={},w=l6.shape.newPassword.safeParse(u.newPassword);return w.success||(j.newPassword=w.error.errors[0].message),u.newPassword!==u.confirmPassword&&(j.confirmPassword="Passwords do not match"),p(j),Object.keys(j).length===0},y=async j=>{if(j.preventDefault(),!!g()){n(!0),p({});try{const w=l6.safeParse({token:m,newPassword:u.newPassword});if(!w.success){p({general:"Invalid form data"});return}await Pe("/api/auth/reset-password","POST",w.data),i(!0),t({title:"Password Reset Successfully",description:"Your password has been changed. You can now login with your new password."}),setTimeout(()=>{e("/login")},3e3)}catch(w){const b=(w==null?void 0:w.message)||"Failed to reset password. Please try again.";p({general:b}),t({title:"Password Reset Failed",description:b,variant:"destructive"})}finally{n(!1)}}};return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsx(K,{className:"w-full max-w-md",children:s.jsxs(re,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(_t,{className:"w-8 h-8 text-green-600"})}),s.jsx(ne,{className:"text-xl text-green-700",children:"Password Reset Complete"}),s.jsx(tt,{children:"Your password has been successfully changed. Redirecting you to login..."})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs(K,{className:"w-full max-w-md",children:[s.jsxs(re,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(cp,{className:"w-8 h-8 text-blue-600"})}),s.jsx(ne,{className:"text-xl",children:"Set New Password"}),s.jsx(tt,{children:"Enter your new password below to complete the reset process."})]}),s.jsxs("form",{onSubmit:y,children:[s.jsxs(G,{className:"space-y-4",children:[f.general&&s.jsx(Ba,{variant:"destructive","data-testid":"alert-error",children:s.jsx(Ua,{children:f.general})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"newPassword",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"newPassword",type:o?"text":"password",value:u.newPassword,onChange:j=>h(w=>({...w,newPassword:j.target.value})),placeholder:"Enter new password",className:f.newPassword?"border-red-500":"",required:!0,"data-testid":"input-new-password"}),s.jsx(M,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),"data-testid":"button-toggle-password",children:o?s.jsx(ds,{className:"h-4 w-4 text-gray-400"}):s.jsx(vt,{className:"h-4 w-4 text-gray-400"})})]}),f.newPassword&&s.jsx("p",{className:"text-sm text-red-600","data-testid":"error-new-password",children:f.newPassword}),s.jsx("p",{className:"text-xs text-gray-600",children:"Password must be at least 8 characters with uppercase, lowercase, and number."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"confirmPassword",type:c?"text":"password",value:u.confirmPassword,onChange:j=>h(w=>({...w,confirmPassword:j.target.value})),placeholder:"Confirm new password",className:f.confirmPassword?"border-red-500":"",required:!0,"data-testid":"input-confirm-password"}),s.jsx(M,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!c),"data-testid":"button-toggle-confirm-password",children:c?s.jsx(ds,{className:"h-4 w-4 text-gray-400"}):s.jsx(vt,{className:"h-4 w-4 text-gray-400"})})]}),f.confirmPassword&&s.jsx("p",{className:"text-sm text-red-600","data-testid":"error-confirm-password",children:f.confirmPassword})]})]}),s.jsxs(l1,{className:"flex flex-col space-y-3",children:[s.jsx(M,{type:"submit",className:"w-full",disabled:r,"data-testid":"button-reset-password",children:r?"Resetting Password...":"Reset Password"}),s.jsx(M,{type:"button",variant:"ghost",onClick:()=>e("/login"),className:"w-full text-sm","data-testid":"button-back-to-login",children:"Back to Login"})]})]})]})})}function c6(){console.log("Checkout component started rendering");const[,e]=Pn(),[t,r]=ua("/checkout/:planId"),{toast:n}=Ct(),[a,i]=v.useState(!1),[o,l]=v.useState(null),[c,d]=v.useState({cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",email:"",address:"",city:"",state:"",zip:""}),u=r!=null&&r.planId?parseInt(r.planId):null,{data:h,isLoading:f,error:p}=ue({queryKey:["/api/plans",u],queryFn:()=>Pe("GET",`/api/plans/${u}`).then(m=>m.json()),enabled:!!u});if(console.log("Checkout Debug:",{planId:u,plan:h,planLoading:f,planError:p}),console.log("Checkout component rendering - URL params:",r),!u)return console.log("No planId found, returning early"),s.jsx("div",{children:"No plan ID found"});if(f)return console.log("Plan is loading, showing loading state"),s.jsx("div",{children:"Loading plan..."});if(p)return console.log("Plan error:",p),s.jsx("div",{children:"Error loading plan"});if(!h)return console.log("No plan data found"),s.jsx("div",{children:"Plan not found"});console.log("Checkout component should render fully now"),v.useEffect(()=>{h&&u&&(async()=>{try{const y=await(await Pe("POST","/api/create-payment-intent",{planId:u,amount:parseFloat(h.monthlyPrice)})).json();l(y)}catch(g){console.error("Error creating payment intent:",g),n({title:"Error",description:"Failed to initialize payment. Please try again.",variant:"destructive"})}})()},[h,u,n]);const x=async m=>{if(m.preventDefault(),!o||!h){n({title:"Error",description:"Payment not initialized. Please refresh and try again.",variant:"destructive"});return}i(!0);try{const g={response:"1",responsetext:"SUCCESS",amount:h.monthlyPrice,transactionid:`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,orderid:o.clientSecret},j=await(await Pe("POST","/api/confirm-nmi-payment",{orderId:o.clientSecret,planId:u,userId:"user_"+Date.now(),paymentResult:g})).json();if(j.success)n({title:"Payment Successful!",description:`You have successfully purchased ${h.name}. Your files are ready for download.`}),sessionStorage.setItem("purchaseResult",JSON.stringify(j)),e("/purchase-success");else throw new Error(j.message||"Payment failed")}catch(g){n({title:"Payment Failed",description:g.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{i(!1)}};return f?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):h?s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"h-5 w-5 text-green-600"}),"Order Summary"]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:h.name}),s.jsx("p",{className:"text-gray-600 text-sm",children:h.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",h.monthlyPrice]}),s.jsx("div",{className:"text-sm text-gray-500",children:"one-time"})]})]}),h.features&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"What's included:"}),s.jsx("ul",{className:"space-y-1 text-sm text-gray-600",children:typeof h.features=="object"&&"products"in h.features&&Array.isArray(h.features.products)?h.features.products.map((m,g)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"h-4 w-4 text-green-500"}),"Digital Product #",m]},g)):s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"h-4 w-4 text-green-500"}),"Digital content and resources"]})})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",h.monthlyPrice]})]})})]})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(cp,{className:"h-5 w-5 text-green-600"}),"Secure Payment"]}),s.jsx(tt,{children:"Your payment information is encrypted and secure"})]}),s.jsx(G,{children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email",children:"Email Address"}),s.jsx(J,{id:"email",type:"email",placeholder:"john@example.com",value:c.email,onChange:m=>d(g=>({...g,email:m.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"nameOnCard",children:"Name on Card"}),s.jsx(J,{id:"nameOnCard",placeholder:"John Doe",value:c.nameOnCard,onChange:m=>d(g=>({...g,nameOnCard:m.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"cardNumber",className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),"Card Number"]}),s.jsx(J,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:c.cardNumber,onChange:m=>{const g=m.target.value.replace(/\D/g,"").replace(/(\d{4})(?=\d)/g,"$1 ");d(y=>({...y,cardNumber:g}))},maxLength:19,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"expiryDate",children:"Expiry Date"}),s.jsx(J,{id:"expiryDate",placeholder:"MM/YY",value:c.expiryDate,onChange:m=>{const y=m.target.value.replace(/\D/g,"").substring(0,4),j=y.length>=2?y.substring(0,2)+"/"+y.substring(2):y;d(w=>({...w,expiryDate:j}))},maxLength:5,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"cvv",children:"CVV"}),s.jsx(J,{id:"cvv",placeholder:"123",value:c.cvv,onChange:m=>{const g=m.target.value.replace(/\D/g,"");d(y=>({...y,cvv:g}))},maxLength:4,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"address",children:"Address"}),s.jsx(J,{id:"address",placeholder:"123 Main St",value:c.address,onChange:m=>d(g=>({...g,address:m.target.value})),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"city",children:"City"}),s.jsx(J,{id:"city",placeholder:"New York",value:c.city,onChange:m=>d(g=>({...g,city:m.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"state",children:"State"}),s.jsx(J,{id:"state",placeholder:"NY",value:c.state,onChange:m=>d(g=>({...g,state:m.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"zip",children:"ZIP Code"}),s.jsx(J,{id:"zip",placeholder:"10001",value:c.zip,onChange:m=>{const g=m.target.value.replace(/\D/g,"");d(y=>({...y,zip:g}))},maxLength:5,required:!0})]})]}),s.jsx(M,{type:"submit",className:"w-full",disabled:a||!o,size:"lg",children:a?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Processing Payment..."]}):`Complete Purchase - $${h.monthlyPrice}`}),s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By completing this purchase, you agree to our terms of service and privacy policy. Your payment is secured with 256-bit SSL encryption."})]})})]})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs(K,{className:"w-full max-w-md",children:[s.jsxs(re,{children:[s.jsx(ne,{className:"text-center text-red-600",children:"Plan Not Found"}),s.jsx(tt,{className:"text-center",children:"The plan you're trying to purchase could not be found."})]}),s.jsx(G,{children:s.jsx(M,{onClick:()=>e("/"),className:"w-full",children:"Go Back Home"})})]})})}const xOe=e=>{switch(e){case"document":return s.jsx(Bt,{className:"h-5 w-5"});case"video":return s.jsx(Qu,{className:"h-5 w-5"});case"audio":return s.jsx(PS,{className:"h-5 w-5"});case"website_link":return s.jsx(vn,{className:"h-5 w-5"});case"lms_course":return s.jsx(Jf,{className:"h-5 w-5"});case"digital_product":return s.jsx(Qo,{className:"h-5 w-5"});default:return s.jsx(Ot,{className:"h-5 w-5"})}};function d6(){const[,e]=Pn(),[t,r]=v.useState(null);v.useEffect(()=>{const a=sessionStorage.getItem("purchaseResult");if(a)try{const i=JSON.parse(a);r(i),sessionStorage.removeItem("purchaseResult")}catch(i){console.error("Error parsing purchase result:",i)}},[]);const n=a=>{if(a.type==="website_link")window.open(a.contentUrl,"_blank");else{const i=document.createElement("a");i.href=a.contentUrl,i.download=a.name,i.click()}};return t?s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsx(K,{className:"mb-8 border-green-200 bg-green-50",children:s.jsxs(re,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"bg-green-100 rounded-full p-3",children:s.jsx(_t,{className:"h-12 w-12 text-green-600"})})}),s.jsx(ne,{className:"text-2xl text-green-800",children:"Payment Successful!"}),s.jsx(tt,{className:"text-green-700",children:"Your purchase has been completed and your digital files are ready for download."})]})}),s.jsxs(K,{className:"mb-8",children:[s.jsx(re,{children:s.jsx(ne,{children:"Purchase Details"})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),s.jsx("span",{className:"font-mono text-sm",children:t.transactionId})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Amount:"}),s.jsxs("span",{className:"font-semibold",children:["$",t.amount]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Plan:"}),s.jsx("span",{children:t.planName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsx(be,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Completed"})]})]})})]}),t.downloadFiles&&t.downloadFiles.length>0?s.jsxs(K,{className:"mb-8",children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"h-5 w-5"}),"Your Digital Files (",t.downloadFiles.length,")"]}),s.jsx(tt,{children:"Click on any file below to download or access your content"})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:t.downloadFiles.map((a,i)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-blue-600",children:xOe(a.type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:a.name}),s.jsx("p",{className:"text-sm text-gray-600",children:a.description}),s.jsx(be,{variant:"secondary",className:"text-xs mt-1",children:a.type.replace("_"," ").toUpperCase()})]})]}),s.jsx(M,{onClick:()=>n(a),variant:"outline",size:"sm",className:"flex items-center gap-2",children:a.type==="website_link"?s.jsxs(s.Fragment,{children:[s.jsx(vn,{className:"h-4 w-4"}),"Open"]}):s.jsxs(s.Fragment,{children:[s.jsx(Sn,{className:"h-4 w-4"}),"Download"]})})]},a.id))})})]}):s.jsx(K,{className:"mb-8",children:s.jsxs(re,{children:[s.jsx(ne,{children:"No Files Available"}),s.jsx(tt,{children:"This plan doesn't include downloadable files, but your purchase is complete."})]})}),s.jsxs(K,{className:"mb-8 bg-blue-50 border-blue-200",children:[s.jsx(re,{children:s.jsx(ne,{className:"text-blue-800",children:"Important Information"})}),s.jsxs(G,{className:"text-blue-700 space-y-2 text-sm",children:[s.jsx("p",{children:" Your files will remain available for download for 30 days"}),s.jsx("p",{children:" A receipt has been sent to your email address"}),s.jsx("p",{children:" For support, please contact us with your transaction ID"}),s.jsx("p",{children:" Files are for personal use only and subject to our terms of service"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(M,{onClick:()=>e("/"),variant:"outline",size:"lg",children:"Back to Home"}),s.jsx(M,{onClick:()=>window.print(),variant:"outline",size:"lg",children:"Print Receipt"})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs(K,{className:"w-full max-w-md",children:[s.jsxs(re,{children:[s.jsx(ne,{className:"text-center text-orange-600",children:"No Purchase Found"}),s.jsx(tt,{className:"text-center",children:"No recent purchase was found. Please complete a purchase first."})]}),s.jsx(G,{children:s.jsx(M,{onClick:()=>e("/"),className:"w-full",children:"Go Back Home"})})]})})}const yOe=e=>{const t=e.toLowerCase();return t.includes("video")||t.includes("movie")||t.includes("film")?Qu:t.includes("image")||t.includes("photo")||t.includes("picture")?Xu:t.includes("document")||t.includes("doc")||t.includes("text")?Bt:t.includes("music")||t.includes("audio")||t.includes("sound")?PS:t.includes("code")||t.includes("programming")||t.includes("development")?$D:t.includes("design")||t.includes("graphic")||t.includes("art")?Xo:t.includes("business")||t.includes("finance")||t.includes("money")?Iq:t.includes("education")||t.includes("learning")||t.includes("course")?Jf:t.includes("health")||t.includes("medical")||t.includes("fitness")?em:t.includes("technology")||t.includes("tech")||t.includes("software")?CS:t.includes("marketing")||t.includes("sales")||t.includes("promotion")?wn:t.includes("game")||t.includes("gaming")||t.includes("entertainment")?Vq:t.includes("food")||t.includes("recipe")||t.includes("cooking")?$q:Qn},vOe=e=>{switch(e){case"video":return Qu;case"image":return Xu;case"document":return Bt;case"file":return Bt;case"link":case"website_link":return Ir;default:return Bt}},u6=()=>{const{user:e}=ft(),[,t]=ua("/:domain/user/:page?"),[r,n]=v.useState(new Set),[a,i]=v.useState(new Set),o=t==null?void 0:t.domain,{data:l,isLoading:c,error:d}=ue({queryKey:["user-plans-with-products",e==null?void 0:e.id,o],queryFn:async()=>{const g=await fetch(`/api/user-products?domain=${o}`,{credentials:"include",cache:"no-store"});if(!g.ok)throw new Error("Failed to fetch user plans");return g.json()},enabled:!!e&&!!o,staleTime:0,gcTime:0}),u=g=>{const y=new Set(r);y.has(g)?y.delete(g):y.add(g),n(y)},h=g=>{const y=new Set(a);y.has(g)?y.delete(g):y.add(g),i(y)},f=g=>{g.contentUrl&&(g.type==="link"||g.type,window.open(g.contentUrl,"_blank"))},p=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),x=g=>{if(!g)return"Free";const y=parseFloat(g);return y>0?`$${y.toFixed(2)}`:"Free"};if(c)return s.jsx("div",{className:"flex-1 p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((g,y)=>s.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},y))})]})})});if(d)return s.jsx("div",{className:"flex-1 p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Error Loading Plans"}),s.jsx("p",{className:"text-red-700",children:"Failed to load your subscription plans. Please try again later."})]})})});const m=(l==null?void 0:l.plans)||[];return s.jsx("div",{className:"flex-1 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Overview"}),s.jsx("p",{className:"text-gray-600",children:"Your subscription plans and accessible content"})]}),m.length===0?s.jsx(K,{className:"text-center py-12",children:s.jsx(G,{children:s.jsxs("div",{className:"text-gray-500 mb-4",children:[s.jsx(Ot,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Active Plans"}),s.jsx("p",{children:"You don't have any active subscription plans yet."})]})})}):s.jsx("div",{className:"space-y-6",children:m.map(g=>{const y=r.has(g.id),j=g.categories.reduce((w,b)=>w+b.products.length,0);return s.jsxs(K,{className:"overflow-hidden",children:[s.jsxs(re,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:s.jsx(Ot,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-xl text-gray-900",children:g.name}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Nn,{className:"h-4 w-4 mr-1"}),"Purchased ",p(g.purchaseDate)]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Tt,{className:"h-4 w-4 mr-1"}),x(g.monthlyPrice),"/month"]}),s.jsx(be,{variant:g.subscriptionStatus==="active"?"default":"secondary",className:"capitalize",children:g.subscriptionStatus})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(be,{variant:"outline",className:"text-xs",children:[g.categories.length," categories  ",j," products"]}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>u(g.id),className:"p-2",children:y?s.jsx(qa,{className:"h-4 w-4"}):s.jsx(Bi,{className:"h-4 w-4"})})]})]}),g.description&&s.jsx("p",{className:"text-gray-600 mt-2",children:g.description})]}),y&&s.jsx(G,{className:"p-6",children:g.categories.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Qn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No categories available in this plan"})]}):s.jsx("div",{className:"space-y-4",children:g.categories.map(w=>{const b=`${g.id}-${w.id}`,N=a.has(b),S=yOe(w.name);return s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 p-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>h(b),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(S,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:w.name}),w.description&&s.jsx("p",{className:"text-sm text-gray-600",children:w.description})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(be,{variant:"outline",className:"text-xs",children:[w.products.length," products"]}),N?s.jsx(zD,{className:"h-4 w-4 text-gray-500"}):s.jsx(Qn,{className:"h-4 w-4 text-gray-500"})]})]})}),N&&s.jsx("div",{className:"p-4 bg-white",children:w.products.length===0?s.jsxs("div",{className:"text-center py-6 text-gray-500",children:[s.jsx(Ot,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No products in this category"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.products.map(C=>{const P=vOe(C.type);return s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>f(C),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:C.imageUrl?s.jsx("img",{src:C.imageUrl,alt:C.name,className:"w-12 h-12 rounded-lg object-cover"}):s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx(P,{className:"h-6 w-6 text-gray-500"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h5",{className:"font-medium text-gray-900 truncate",children:C.name}),C.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:C.description}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx(be,{variant:"secondary",className:"text-xs capitalize",children:C.type.replace("_"," ")}),C.contentUrl&&s.jsxs("div",{className:"flex items-center space-x-1",children:[C.type==="video"&&s.jsx(kS,{className:"h-3 w-3 text-blue-500"}),(C.type==="link"||C.type==="website_link")&&s.jsx(Ir,{className:"h-3 w-3 text-green-500"}),(C.type==="file"||C.type==="document")&&s.jsx(Sn,{className:"h-3 w-3 text-purple-500"}),C.type==="image"&&s.jsx(vt,{className:"h-3 w-3 text-orange-500"})]})]})]})]})},C.id)})})})]},w.id)})})})]},g.id)})})]})})};function bOe({userPlans:e}){const[t,r]=v.useState(""),[n,a]=v.useState("all"),[i,o]=v.useState("grid"),l=e.flatMap(m=>m.products.map(g=>({...g,planName:m.name,planId:m.id}))),d=e.flatMap(m=>m.categories).filter((m,g,y)=>g===y.findIndex(j=>j.id===m.id)),u=l.filter(m=>{const g=m.name.toLowerCase().includes(t.toLowerCase())||m.description&&m.description.toLowerCase().includes(t.toLowerCase());return g}),h=m=>{switch(m){case"video":return s.jsx(Qu,{className:"h-5 w-5"});case"image":return s.jsx(Xu,{className:"h-5 w-5"});case"file":return s.jsx(LD,{className:"h-5 w-5"});case"link":return s.jsx(Ir,{className:"h-5 w-5"});default:return s.jsx(Ot,{className:"h-5 w-5"})}},f=m=>{switch(m){case"video":return"bg-red-100 text-red-800";case"image":return"bg-green-100 text-green-800";case"file":return"bg-blue-100 text-blue-800";case"link":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},p=m=>{if(m.contentUrl){let g=m.contentUrl;m.type==="document"&&!g.startsWith("http")&&(g=`/api/files/${g}`),g.toLowerCase().endsWith(".pdf"),window.open(g,"_blank")}},x=m=>{if(m.contentUrl){let g=m.contentUrl;m.type==="document"&&!g.startsWith("http")&&(g=`/api/files/${g}`);const y=document.createElement("a");y.href=g,y.download=m.name||"download",document.body.appendChild(y),y.click(),document.body.removeChild(y)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Products"}),s.jsx("p",{className:"text-gray-600",children:"Access and manage your purchased products"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{variant:i==="grid"?"default":"outline",size:"sm",onClick:()=>o("grid"),children:s.jsx(Hq,{className:"h-4 w-4"})}),s.jsx(M,{variant:i==="list"?"default":"outline",size:"sm",onClick:()=>o("list"),children:s.jsx(Qq,{className:"h-4 w-4"})})]})]}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(J,{placeholder:"Search products...",value:t,onChange:m=>r(m.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("select",{value:n,onChange:m=>a(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Categories"}),d.map(m=>s.jsx("option",{value:m.id.toString(),children:m.name},m.id))]})})]})})}),u.length===0?s.jsx(K,{children:s.jsxs(G,{className:"p-12 text-center",children:[s.jsx(Ot,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Products Found"}),s.jsx("p",{className:"text-gray-600",children:t||n!=="all"?"No products match your current filters.":"You don't have access to any products yet."})]})}):s.jsx("div",{className:i==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u.map(m=>s.jsxs(K,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(re,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg text-white",children:h(m.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(ne,{className:"text-lg font-semibold truncate",children:m.name}),s.jsx("p",{className:"text-sm text-gray-500",children:m.planName})]})]}),s.jsx(be,{className:f(m.type),children:m.type})]})}),s.jsxs(G,{className:"pt-0",children:[m.description&&s.jsx(tt,{className:"mb-4 line-clamp-2",children:m.description}),m.imageUrl&&s.jsx("div",{className:"mb-4",children:s.jsx("img",{src:m.imageUrl,alt:m.name,className:"w-full h-32 object-cover rounded-lg"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:m.accessDuration&&s.jsx("span",{children:m.accessDuration})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>p(m),disabled:!m.contentUrl,children:[s.jsx(vt,{className:"h-4 w-4 mr-1"}),"View"]}),m.contentUrl&&m.type!=="website_link"&&s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>x(m),children:[s.jsx(Sn,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})]})]},m.id))}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("span",{children:["Showing ",u.length," of ",l.length," products"]}),s.jsxs("span",{children:[e.length," active plan",e.length!==1?"s":""]})]})})})]})}const GB=({category:e,level:t,expandedCategories:r,onToggleCategory:n})=>{const a=r.has(e.id),i=e.subcategories.length>0||e.products.length>0,o=t*20,l=c=>{switch(c){case"video":return s.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M2 6a2 2 0 012-2h6l2 2h6a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})});case"image":return s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"file":return s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})});case"website_link":return s.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})});default:return s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})})}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center py-2 px-3 hover:bg-gray-50 cursor-pointer group",style:{paddingLeft:`${o+12}px`},onClick:()=>i&&n(e.id),children:[i?s.jsx("svg",{className:`w-4 h-4 text-gray-500 mr-2 transition-transform ${a?"rotate-90":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 111.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}):s.jsx("div",{className:"w-4 h-4 mr-2"}),s.jsx("svg",{className:"w-5 h-5 text-blue-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),s.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600",children:e.name}),s.jsxs("span",{className:"ml-auto text-xs text-gray-500",children:[e.products.length+e.subcategories.reduce((c,d)=>c+d.products.length,0)," items"]})]}),a&&s.jsxs("div",{children:[e.subcategories.map(c=>s.jsx(GB,{category:c,level:t+1,expandedCategories:r,onToggleCategory:n},c.id)),e.products.map(c=>s.jsxs("div",{className:"flex items-center py-2 px-3 hover:bg-gray-50 cursor-pointer group",style:{paddingLeft:`${o+32}px`},children:[s.jsx("div",{className:"w-4 h-4 mr-2"}),l(c.type),s.jsx("span",{className:"text-sm text-gray-700 ml-2 group-hover:text-blue-600",children:c.name}),s.jsx("span",{className:"ml-auto text-xs text-gray-400 capitalize",children:c.type.replace("_"," ")})]},c.id))]})]})},wOe=()=>{const{user:e}=ft(),[,t]=ua("/:domain/user/collections"),[r,n]=v.useState(new Set),[a,i]=v.useState(""),{data:o=[],isLoading:l}=ue({queryKey:["user-categories",e==null?void 0:e.id,t==null?void 0:t.domain],queryFn:async()=>{const f=await fetch(`/api/user-categories?domain=${t==null?void 0:t.domain}`,{credentials:"include"});if(!f.ok)throw new Error("Failed to fetch categories");return f.json()},enabled:!!(e!=null&&e.id)&&!!(t!=null&&t.domain)}),c=f=>{const p=new Set(r);p.has(f)?p.delete(f):p.add(f),n(p)},d=()=>{const f=new Set,p=x=>{x.forEach(m=>{f.add(m.id),p(m.subcategories)})};p(o),n(f)},u=()=>{n(new Set)},h=o.filter(f=>{if(!a)return!0;const p=a.toLowerCase(),x=f.name.toLowerCase().includes(p),m=f.products.some(y=>y.name.toLowerCase().includes(p)),g=y=>y.some(j=>j.name.toLowerCase().includes(p)||j.products.some(w=>w.name.toLowerCase().includes(p))||g(j.subcategories));return x||m||g(f.subcategories)});return l?s.jsx("div",{className:"flex-1 p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),s.jsx("div",{className:"space-y-2",children:[...Array(8)].map((f,p)=>s.jsx("div",{className:"h-10 bg-gray-200 rounded"},p))})]})})}):s.jsx("div",{className:"flex-1 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Collections"}),s.jsx("p",{className:"text-gray-600",children:"Browse your categories and products in an organized structure"})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Search categories and products...",value:a,onChange:f=>i(f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:d,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Expand All"}),s.jsx("button",{onClick:u,className:"px-4 py-2 text-sm bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Collapse All"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No collections found"}),s.jsx("p",{className:"text-gray-500",children:a?"Try adjusting your search criteria":"You don't have access to any collections yet. Purchase a plan to get started!"})]}):s.jsx("div",{className:"divide-y divide-gray-100",children:h.map(f=>s.jsx(GB,{category:f,level:0,expandedCategories:r,onToggleCategory:c},f.id))})}),h.length>0&&s.jsxs("div",{className:"mt-6 text-sm text-gray-500 text-center",children:["Showing ",h.length," categories with"," ",h.reduce((f,p)=>f+p.products.length+p.subcategories.reduce((x,m)=>x+m.products.length,0),0)," total items"]})]})})};function jOe(){const{user:e}=ft(),t=Zt(),[,r]=ua("/:domain/user/:page?"),[n,a]=v.useState(""),[i,o]=v.useState({}),[l,c]=v.useState({}),[d,u]=v.useState({}),[h,f]=v.useState(""),[p,x]=v.useState(null),[m,g]=v.useState(null),[y,j]=v.useState(null),[w,b]=v.useState({}),[N,S]=v.useState({}),[C,P]=v.useState(!1),{data:_=[],isLoading:A}=ue({queryKey:["user-announcements",e==null?void 0:e.id,r==null?void 0:r.domain],queryFn:async()=>{const O=await fetch(`/api/affiliate/announcements?domain=${r==null?void 0:r.domain}`,{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch announcements");return O.json()},enabled:!!(e!=null&&e.id)&&!!(r!=null&&r.domain)});v.useEffect(()=>{const O=()=>{const R=window.location.hash;if(R.startsWith("#announcement-")){const I=parseInt(R.replace("#announcement-",""));isNaN(I)||(j(I),setTimeout(()=>{const H=document.getElementById(`announcement-${I}`);H&&H.scrollIntoView({behavior:"smooth",block:"center"})},100),setTimeout(()=>{j(null)},3e3))}};return O(),window.addEventListener("hashchange",O),()=>{window.removeEventListener("hashchange",O)}},[_]);const k=Oe({mutationFn:async O=>{const R=await fetch(`/api/announcements/${O}/like`,{method:"POST",credentials:"include"});if(!R.ok)throw new Error("Failed to toggle like");return R.json()},onMutate:async O=>{await t.cancelQueries({queryKey:["user-announcements"]});const R=t.getQueryData(["user-announcements",e==null?void 0:e.id,r==null?void 0:r.domain]);return t.setQueryData(["user-announcements",e==null?void 0:e.id,r==null?void 0:r.domain],(I=[])=>I.map(H=>H.id===O?{...H,userLiked:!H.userLiked,likesCount:H.userLiked?H.likesCount-1:H.likesCount+1}:H)),{previousAnnouncements:R}},onError:(O,R,I)=>{I!=null&&I.previousAnnouncements&&t.setQueryData(["user-announcements",e==null?void 0:e.id,r==null?void 0:r.domain],I.previousAnnouncements)},onSettled:()=>{t.invalidateQueries({queryKey:["user-announcements"]})}}),E=O=>{k.mutate(O)},L=async O=>{try{const R=await fetch(`/api/announcements/${O}/comments`,{credentials:"include"});if(!R.ok)throw new Error("Failed to fetch comments");const I=await R.json();c(H=>({...H,[O]:I}))}catch(R){console.error("Error fetching comments:",R)}},F=Oe({mutationFn:async({announcementId:O,content:R})=>{const I=await fetch(`/api/announcements/${O}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content:R})});if(!I.ok)throw new Error("Failed to add comment");return I.json()},onSuccess:(O,R)=>{t.invalidateQueries({queryKey:["user-announcements"]}),L(R.announcementId)}}),U=O=>{var I;const R=(I=d[O])==null?void 0:I.trim();R&&(F.mutate({announcementId:O,content:R}),u(H=>({...H,[O]:""})))},W=O=>{g(O.id)},V=async O=>{try{await navigator.clipboard.writeText(O),P(!0),setTimeout(()=>P(!1),2e3)}catch{const I=document.createElement("textarea");I.value=O,document.body.appendChild(I),I.select(),document.execCommand("copy"),document.body.removeChild(I),P(!0),setTimeout(()=>P(!1),2e3)}},D=(O,R,I)=>{const H=encodeURIComponent(R),he=encodeURIComponent(I);let ie="";switch(O){case"whatsapp":ie=`https://wa.me/?text=${he}%20${H}`;break;case"twitter":ie=`https://twitter.com/intent/tweet?text=${he}&url=${H}`;break;case"facebook":ie=`https://www.facebook.com/sharer/sharer.php?u=${H}`;break;case"linkedin":ie=`https://www.linkedin.com/sharing/share-offsite/?url=${H}`;break;case"telegram":ie=`https://t.me/share/url?url=${H}&text=${he}`;break;default:return}window.open(ie,"_blank","width=600,height=400")},T=O=>{const R=new Date(O),H=Math.floor((new Date().getTime()-R.getTime())/(1e3*60*60));return H<1?"Just now":H<24?`${H}h ago`:H<168?`${Math.floor(H/24)}d ago`:R.toLocaleDateString()},$=_.filter(O=>O.title.toLowerCase().includes(n.toLowerCase())||O.content.toLowerCase().includes(n.toLowerCase()));return A?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"News Feed"}),s.jsx("p",{className:"text-gray-600",children:"Stay updated with the latest announcements"})]}),s.jsxs("div",{className:"relative w-full sm:w-80",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(J,{type:"text",placeholder:"Search announcements...",value:n,onChange:O=>a(O.target.value),className:"pl-10"})]})]}),$.length===0?s.jsx(K,{className:"text-center py-12",children:s.jsx(G,{children:s.jsxs("div",{className:"text-gray-500 mb-4",children:[s.jsx(Nn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No announcements yet"}),s.jsx("p",{children:"Check back later for updates and news."})]})})}):s.jsx("div",{className:"space-y-6",children:$.map(O=>{var R;return s.jsxs(K,{id:`announcement-${O.id}`,className:`transition-all duration-300 ${y===O.id?"ring-2 ring-blue-500 shadow-lg":"hover:shadow-md"}`,children:[s.jsx(re,{className:"pb-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:O.authorImage?s.jsx("img",{src:O.authorImage,alt:O.authorName,className:"w-full h-full rounded-full object-cover"}):s.jsx(Jn,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:O.authorName}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(Nn,{className:"h-3 w-3 mr-1"}),T(O.createdAt)]})]})]})})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:O.title}),s.jsx("div",{className:"prose prose-sm max-w-none text-gray-700",children:O.content.split(`
`).map((I,H)=>s.jsx("p",{className:"mb-2 last:mb-0",children:I},H))})]}),(()=>{let I=O.attachments;if(typeof I=="string")try{I=JSON.parse(I)}catch(he){console.error("Failed to parse attachments JSON:",he),I=[]}Array.isArray(I)||(I=[]);const H=I.find(he=>{var ie,je;return((ie=he.type)==null?void 0:ie.startsWith("image/"))||he.type==="image"||((je=he.name)==null?void 0:je.match(/\.(jpg|jpeg|png|gif|webp)$/i))});return H?s.jsxs("div",{className:"rounded-lg overflow-hidden bg-gray-100 relative",children:[w[O.id]&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:s.jsx(Ms,{className:"h-8 w-8 animate-spin text-gray-400"})}),N[O.id]?s.jsx("div",{className:"flex items-center justify-center h-48 bg-gray-200 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xu,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),s.jsx("p",{className:"text-sm",children:"Image could not be loaded"})]})}):s.jsx("img",{src:H.url,alt:H.name||O.title,className:"w-full h-auto max-h-96 object-cover transition-opacity duration-300",onLoad:()=>{b(he=>({...he,[O.id]:!1}))},onLoadStart:()=>{b(he=>({...he,[O.id]:!0}))},onError:()=>{b(he=>({...he,[O.id]:!1})),S(he=>({...he,[O.id]:!0}))}})]}):null})(),s.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>E(O.id),className:`flex items-center space-x-2 transition-colors ${O.userLiked?"text-red-600 hover:text-red-700 hover:bg-red-50":"text-gray-600 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(em,{className:`h-4 w-4 ${O.userLiked?"fill-current":""}`}),s.jsx("span",{children:O.likesCount})]}),s.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>{o(I=>({...I,[O.id]:!I[O.id]})),i[O.id]||L(O.id)},className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50",children:[s.jsx(dp,{className:"h-4 w-4"}),s.jsx("span",{children:O.commentsCount})]}),s.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>W(O),className:"flex items-center space-x-2 text-gray-600 hover:text-green-600 hover:bg-green-50",children:[s.jsx(fc,{className:"h-4 w-4"}),s.jsx("span",{children:"Share"})]})]})}),i[O.id]&&s.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:e!=null&&e.profileImage?s.jsx("img",{src:e.profileImage,alt:e.firstName||e.email,className:"w-full h-full rounded-full object-cover"}):s.jsx(Jn,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(pr,{placeholder:"Write a comment...",value:d[O.id]||"",onChange:I=>u(H=>({...H,[O.id]:I.target.value})),className:"min-h-[80px] resize-none"}),s.jsx("div",{className:"flex justify-end",children:s.jsx(M,{size:"sm",onClick:()=>U(O.id),disabled:!((R=d[O.id])!=null&&R.trim())||F.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:F.isPending?"Posting...":"Post Comment"})})]})]}),l[O.id]&&l[O.id].length>0&&s.jsx("div",{className:"space-y-3",children:l[O.id].map(I=>s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center flex-shrink-0",children:I.authorProfileImage?s.jsx("img",{src:I.authorProfileImage,alt:I.authorName,className:"w-full h-full rounded-full object-cover"}):s.jsx(Jn,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"flex-1 bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-sm text-gray-900",children:I.authorName}),s.jsx("span",{className:"text-xs text-gray-500",children:T(I.createdAt)})]}),s.jsx("p",{className:"text-sm text-gray-700",children:I.content})]})]},I.id))})]})]})]},O.id)})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Share Announcement"}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>g(null),children:s.jsx(Lr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Copy Link"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(J,{readOnly:!0,value:`${window.location.origin}${window.location.pathname}#announcement-${m}`,className:"flex-1"}),s.jsx(M,{size:"sm",onClick:()=>{V(`${window.location.origin}${window.location.pathname}#announcement-${m}`)},className:`${C?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} text-white`,children:C?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(qn,{className:"h-4 w-4"})})]}),C&&s.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Link copied to clipboard!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Share on Social Media"}),s.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[s.jsxs("button",{onClick:()=>{const O=_.find(R=>R.id===m);O&&D("whatsapp",`${window.location.origin}${window.location.pathname}#announcement-${m}`,O.title)},className:"flex flex-col items-center p-3 rounded-lg border border-gray-200 hover:bg-green-50 hover:border-green-300 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mb-1",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.787"})})}),s.jsx("span",{className:"text-xs text-gray-600",children:"WhatsApp"})]}),s.jsxs("button",{onClick:()=>{const O=_.find(R=>R.id===m);O&&D("twitter",`${window.location.origin}${window.location.pathname}#announcement-${m}`,O.title)},className:"flex flex-col items-center p-3 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-400 rounded-full flex items-center justify-center mb-1",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),s.jsx("span",{className:"text-xs text-gray-600",children:"Twitter"})]}),s.jsxs("button",{onClick:()=>{const O=_.find(R=>R.id===m);O&&D("facebook",`${window.location.origin}${window.location.pathname}#announcement-${m}`,O.title)},className:"flex flex-col items-center p-3 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center mb-1",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),s.jsx("span",{className:"text-xs text-gray-600",children:"Facebook"})]}),s.jsxs("button",{onClick:()=>{const O=_.find(R=>R.id===m);O&&D("linkedin",`${window.location.origin}${window.location.pathname}#announcement-${m}`,O.title)},className:"flex flex-col items-center p-3 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-700 rounded-full flex items-center justify-center mb-1",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),s.jsx("span",{className:"text-xs text-gray-600",children:"LinkedIn"})]}),s.jsxs("button",{onClick:()=>{const O=_.find(R=>R.id===m);O&&D("telegram",`${window.location.origin}${window.location.pathname}#announcement-${m}`,O.title)},className:"flex flex-col items-center p-3 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mb-1",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})}),s.jsx("span",{className:"text-xs text-gray-600",children:"Telegram"})]})]})]})]})]})})]})}const NOe=()=>{const{user:e}=ft(),[,t]=ua("/:domain/user/profile"),r=v.useRef(null),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[d,u]=v.useState(!1),[h,f]=v.useState(!1),[p,x]=v.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",phone:(e==null?void 0:e.phone)||"",profileImage:(e==null?void 0:e.profileImageUrl)||""}),[m,g]=v.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",phone:(e==null?void 0:e.phone)||"",profileImage:(e==null?void 0:e.profileImageUrl)||""});v.useEffect(()=>{if(e){const V={firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",profileImage:e.profileImageUrl||null};x(V),g(V)}},[e]),v.useEffect(()=>{p.profileImage&&h&&f(!1)},[p.profileImage]);const[y,j]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[w,b]=v.useState({}),[N,S]=v.useState(""),C=()=>d?y.currentPassword||y.newPassword||y.confirmPassword:p.firstName!==m.firstName||p.lastName!==m.lastName||p.phone!==m.phone||p.profileImage!==m.profileImage,P=(V,D)=>{x(T=>({...T,[V]:D})),w[V]&&b(T=>({...T,[V]:""}))},_=(V,D)=>{j(T=>({...T,[V]:D})),w[V]&&b(T=>({...T,[V]:""}))},A=()=>{const V={};return p.firstName.trim()||(V.firstName="First name is required"),p.lastName.trim()||(V.lastName="Last name is required"),d&&(y.currentPassword||(V.currentPassword="Current password is required"),y.newPassword?y.newPassword.length<6&&(V.newPassword="Password must be at least 6 characters"):V.newPassword="New password is required",y.newPassword!==y.confirmPassword&&(V.confirmPassword="Passwords do not match")),b(V),Object.keys(V).length===0},k=async V=>{if(V.preventDefault(),!!A()){c(!0),S("");try{if(d){const D=await fetch("/api/auth/update-password",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({currentPassword:y.currentPassword,newPassword:y.newPassword})});if(!D.ok){const T=await D.json();throw new Error(T.error||"Failed to update password")}j({currentPassword:"",newPassword:"",confirmPassword:""}),u(!1),S("Password updated successfully!")}else{const D={firstName:p.firstName,lastName:p.lastName,phone:p.phone,profileImageUrl:p.profileImage},T=await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(D)});if(!T.ok){const $=await T.json();throw new Error($.error||"Failed to update profile")}g({firstName:p.firstName,lastName:p.lastName,phone:p.phone,profileImage:p.profileImage}),S("Profile updated successfully!")}}catch(D){b({general:D instanceof Error?D.message:"Failed to update profile"})}finally{c(!1)}}},E=async V=>{if(!V.type.startsWith("image/")){b({profileImage:"Please select an image file"});return}if(V.size>5*1024*1024){b({profileImage:"Image size must be less than 5MB"});return}o(!0),b({profileImage:""});try{const D=new FormData;D.append("file",V);const T=await fetch("/api/objects/upload",{method:"POST",credentials:"include",body:D});if(!T.ok)throw new Error("Failed to upload image");const{uploadURL:$}=await T.json();x(O=>({...O,profileImage:$}))}catch{b({profileImage:"Failed to upload image"})}finally{o(!1)}},L=v.useCallback(V=>{V.preventDefault(),a(!1);const D=Array.from(V.dataTransfer.files);D.length>0&&E(D[0])},[]),F=v.useCallback(V=>{V.preventDefault(),a(!0)},[]),U=v.useCallback(V=>{V.preventDefault(),a(!1)},[]),W=V=>{const D=V.target.files;D&&D.length>0&&E(D[0])};return s.jsx("div",{className:"flex-1 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Profile"}),s.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),s.jsxs("form",{onSubmit:k,className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Image"}),p.profileImage&&!h?s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:p.profileImage,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200"}),i&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),s.jsx("button",{type:"button",onClick:()=>f(!0),className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 hover:border-blue-300 transition-colors",children:"Click to Edit"})]}):s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[p.profileImage?s.jsx("img",{src:p.profileImage,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):s.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center border-4 border-gray-200",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),i&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${n?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDrop:L,onDragOver:F,onDragLeave:U,onClick:()=>{var V;return(V=r.current)==null?void 0:V.click()},children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium text-blue-600 hover:text-blue-500",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})]}),s.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:W,className:"hidden"}),h&&s.jsx("button",{type:"button",onClick:()=>f(!1),className:"mt-2 px-3 py-1 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),w.profileImage&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:w.profileImage})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),s.jsx("input",{type:"text",id:"firstName",name:"firstName",value:p.firstName,onChange:V=>P("firstName",V.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w.firstName?"border-red-500":"border-gray-300"}`,placeholder:"Enter your first name"}),w.firstName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.firstName})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),s.jsx("input",{type:"text",id:"lastName",name:"lastName",value:p.lastName,onChange:V=>P("lastName",V.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w.lastName?"border-red-500":"border-gray-300"}`,placeholder:"Enter your last name"}),w.lastName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.lastName})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:p.phone,onChange:V=>P("phone",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your phone number"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Password"}),s.jsx("button",{type:"button",onClick:()=>u(!d),className:"text-sm text-blue-600 hover:text-blue-500",children:d?"Cancel":"Change Password"})]}),d&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password *"}),s.jsx("input",{type:"password",value:y.currentPassword,onChange:V=>_("currentPassword",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),w.currentPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.currentPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),s.jsx("input",{type:"password",value:y.newPassword,onChange:V=>_("newPassword",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),w.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.newPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),s.jsx("input",{type:"password",value:y.confirmPassword,onChange:V=>_("confirmPassword",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),w.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.confirmPassword})]})]})]}),w.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-red-600",children:w.general})}),N&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-green-600",children:N})}),C()&&s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Saving...":"Save Changes"})})]})]})})};function Jc({initialTab:e="overview"}){const{user:t,isAuthenticated:r,isLoading:n,domain:a}=ft(),[i,o]=v.useState(e),[l,c]=v.useState(null),[d,u]=v.useState(null),[h,f]=v.useState(!1),[,p]=Pn(),[x,m]=ua("/:domain/user/:tab?"),g=m==null?void 0:m.domain;if(console.log("ModernEndUserDashboard rendering:",{user:t,isAuthenticated:r,isLoading:n,domain:a||g}),!n&&!r){const _=a||g;return window.location.href=`/api/login?domain=${_}&returnTo=${window.location.href}`,s.jsx("div",{children:"Redirecting to login..."})}if(n)return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your modern dashboard..."})]})});const y=a||g,{data:j=[]}=ue({queryKey:["/api/purchases",y],queryFn:async()=>{const _=await fetch(`/api/purchases?domain=${y}`);if(!_.ok)return console.error("Failed to fetch purchases:",_.status,_.statusText),[];const A=await _.json();return console.log("ModernEndUserDashboard - Fetched purchases:",A),A},enabled:r&&!!y}),{data:w=[]}=ue({queryKey:["/api/user/plans",y],queryFn:async()=>{const _=await fetch(`/api/user/plans?domain=${y}`,{cache:"no-store"});if(!_.ok)return console.error("Failed to fetch user plans:",_.status,_.statusText),[];const A=await _.json();return console.log("ModernEndUserDashboard - Fetched user plans:",A),A},enabled:r&&!!y,staleTime:0,gcTime:0}),b=()=>{const _=a||g,A=encodeURIComponent(`${window.location.origin}/${_}`);window.location.href=`/api/logout?returnTo=${A}`},N=()=>{const _=a||g;_?window.location.href=`/${_}`:window.history.back()};if(!r)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsx("div",{className:"text-center max-w-md mx-auto p-8",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Welcome Back"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please login to access your modern dashboard"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(M,{onClick:()=>window.location.href=`/api/login${y?`?domain=${y}&returnTo=${encodeURIComponent(window.location.href)}`:""}`,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:"Login to Continue"}),y&&s.jsxs(M,{variant:"outline",onClick:N,className:"w-full",children:[s.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Back to ",y]})]})]})})});const S=[{id:"overview",label:"Overview",icon:Ea,path:`/${y}/user/overview`},{id:"products",label:"Products",icon:Ot,path:`/${y}/user/products`},{id:"collections",label:"Collections",icon:Qn,path:`/${y}/user/collections`},{id:"newsfeed",label:"News Feed",icon:ms,path:`/${y}/user/newsfeed`},{id:"profile",label:"Profile",icon:Jn,path:`/${y}/user/profile`}],C=(_,A)=>{o(_),p(A),f(!1)},P=()=>{switch(i){case"overview":return s.jsx(u6,{userPlans:w,purchases:j});case"products":return s.jsx(bOe,{userPlans:w});case"collections":return s.jsx(wOe,{userPlans:w});case"newsfeed":return s.jsx(jOe,{});case"profile":return s.jsx(NOe,{});default:return s.jsx(u6,{userPlans:w,purchases:j})}};return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>f(!1)}),s.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 lg:flex lg:flex-col lg:w-64 ${h?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[s.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200 flex-shrink-0",children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Dashboard"}),s.jsx(M,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>f(!1),children:s.jsx(Lr,{className:"h-5 w-5"})})]}),s.jsx("nav",{className:"flex-1 mt-6 px-3 overflow-y-auto",children:s.jsx("div",{className:"space-y-1",children:S.map(_=>{const A=_.icon;return s.jsxs("button",{onClick:()=>C(_.id,_.path),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i===_.id?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-md":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(A,{className:"h-5 w-5 mr-3"}),_.label]},_.id)})})}),s.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center",children:s.jsx(Jn,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(t==null?void 0:t.name)||(t==null?void 0:t.email)||"User"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:y})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:N,className:"w-full justify-start",children:[s.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Back to Site"]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:b,className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(hc,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 z-20 relative",children:s.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(M,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>f(!0),children:s.jsx($r,{className:"h-5 w-5"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 capitalize",children:i})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C("overview",`/${y}/user/overview`),className:i==="overview"?"bg-blue-50 text-blue-600":"",children:s.jsx(Ea,{className:"h-5 w-5"})}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C("products",`/${y}/user/products`),className:i==="products"?"bg-blue-50 text-blue-600":"",children:s.jsx(lK,{className:"h-5 w-5"})}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C("collections",`/${y}/user/collections`),className:i==="collections"?"bg-blue-50 text-blue-600":"",children:s.jsx(Dq,{className:"h-5 w-5"})}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C("newsfeed",`/${y}/user/newsfeed`),className:i==="newsfeed"?"bg-blue-50 text-blue-600":"",children:s.jsx(ms,{className:"h-5 w-5"})}),s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C("profile",`/${y}/user/profile`),className:i==="profile"?"bg-blue-50 text-blue-600":"",children:s.jsx(Jn,{className:"h-5 w-5"})}),s.jsx(M,{variant:"ghost",size:"sm",children:s.jsx(Zr,{className:"h-5 w-5"})})]})]})}),s.jsx("main",{className:"p-6",children:P()})]})]})}function SOe(){const{user:e,isAuthenticated:t,isLoading:r,domain:n}=ft(),[a,i]=ua("/:domain/user/product/:productId"),[o,l]=Pn(),c=i==null?void 0:i.domain,d=i==null?void 0:i.productId;if(console.log("ProductDetailPage rendering:",{user:e,isAuthenticated:t,isLoading:r,domain:n||c,productId:d}),!r&&!t){const w=n||c;return window.location.href=`/api/login?domain=${w}&returnTo=${window.location.href}`,s.jsx("div",{children:"Redirecting to login..."})}if(r)return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading product details..."})]})});const u=n||c,{data:h,isLoading:f}=ue({queryKey:["/api/products",d,u],queryFn:async()=>{const w=await fetch(`/api/products/${d}?domain=${u}`);if(!w.ok)throw new Error("Failed to fetch product");return w.json()},enabled:t&&!!d&&!!u}),{data:p=!1}=ue({queryKey:["/api/user/product-access",d,u],queryFn:async()=>{const w=await fetch(`/api/user/product-access/${d}?domain=${u}`);return w.ok?(await w.json()).hasAccess:!1},enabled:t&&!!d&&!!u}),x=()=>{l(`/${u}/user`)},m=()=>{h!=null&&h.contentUrl&&window.open(h.contentUrl,"_blank")},g=()=>{h!=null&&h.contentUrl&&window.open(h.contentUrl,"_blank")},y=w=>{switch(w){case"video":return s.jsx(Qu,{className:"h-6 w-6"});case"image":return s.jsx(Xu,{className:"h-6 w-6"});case"file":return s.jsx(LD,{className:"h-6 w-6"});case"link":return s.jsx(Ir,{className:"h-6 w-6"});default:return s.jsx(Ot,{className:"h-6 w-6"})}},j=w=>{switch(w){case"video":return"bg-red-100 text-red-800";case"image":return"bg-green-100 text-green-800";case"file":return"bg-blue-100 text-blue-800";case"link":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return f?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading product..."})]})}):h?p?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs(M,{variant:"outline",onClick:x,className:"flex items-center space-x-2",children:[s.jsx(Nd,{className:"h-4 w-4"}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:u})]}),s.jsxs(K,{className:"mb-8",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg text-white",children:y(h.type)}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-2xl font-bold text-gray-900",children:h.name}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(be,{className:j(h.type),children:h.type.charAt(0).toUpperCase()+h.type.slice(1)}),h.categoryName&&s.jsx(be,{variant:"outline",children:h.categoryName})]})]})]}),h.price&&s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"flex items-center text-2xl font-bold text-green-600",children:[s.jsx(Tt,{className:"h-6 w-6"}),h.price]})})]})}),h.description&&s.jsx(G,{children:s.jsx(tt,{className:"text-base text-gray-700",children:h.description})})]}),h.imageUrl&&s.jsx(K,{className:"mb-8",children:s.jsx(G,{className:"p-0",children:s.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-64 object-cover rounded-lg"})})}),s.jsxs(K,{className:"mb-8",children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center space-x-2",children:[s.jsx(kS,{className:"h-5 w-5"}),s.jsx("span",{children:"Actions"})]})}),s.jsx(G,{children:s.jsx("div",{className:"flex flex-wrap gap-4",children:h.contentUrl&&s.jsxs(s.Fragment,{children:[s.jsxs(M,{onClick:g,className:"flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[s.jsx(vt,{className:"h-4 w-4"}),s.jsx("span",{children:"View Content"})]}),s.jsxs(M,{variant:"outline",onClick:m,className:"flex items-center space-x-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),s.jsx("span",{children:"Download"})]})]})})})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center space-x-2",children:[s.jsx(Bt,{className:"h-5 w-5"}),s.jsx("span",{children:"Product Details"})]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Label,{className:"text-sm font-medium text-gray-500",children:"Product ID"}),s.jsx("p",{className:"text-gray-900",children:h.id})]}),s.jsxs("div",{children:[s.jsx(Label,{className:"text-sm font-medium text-gray-500",children:"Type"}),s.jsx("p",{className:"text-gray-900 capitalize",children:h.type})]}),h.accessDuration&&s.jsxs("div",{children:[s.jsx(Label,{className:"text-sm font-medium text-gray-500",children:"Access Duration"}),s.jsx("p",{className:"text-gray-900",children:h.accessDuration})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Label,{className:"text-sm font-medium text-gray-500",children:"Created"}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(Nn,{className:"h-4 w-4"}),s.jsx("span",{children:new Date(h.createdAt).toLocaleDateString()})]})]}),s.jsxs("div",{children:[s.jsx(Label,{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(Go,{className:"h-4 w-4"}),s.jsx("span",{children:new Date(h.updatedAt).toLocaleDateString()})]})]}),s.jsxs("div",{children:[s.jsx(Label,{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx(be,{className:h.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:h.isActive?"Active":"Inactive"})]})]})]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:s.jsx("div",{className:"text-center max-w-md mx-auto p-8",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsx(vt,{className:"h-16 w-16 text-yellow-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Restricted"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have access to this product. Please check your subscription or contact support."}),s.jsxs(M,{onClick:x,className:"w-full",children:[s.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:s.jsx("div",{className:"text-center max-w-md mx-auto p-8",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsx(Ot,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The product you're looking for doesn't exist or has been removed."}),s.jsxs(M,{onClick:x,className:"w-full",children:[s.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})})})}function COe(){const{user:e}=ft(),{toast:t}=Ct(),[r,n]=v.useState((e==null?void 0:e.referralCode)||""),{data:a=[],isLoading:i}=ue({queryKey:["/api/affiliate/commissions"],enabled:(e==null?void 0:e.role)==="super_admin_affiliate"}),{data:o,isLoading:l}=ue({queryKey:["/api/affiliate/stats"],enabled:(e==null?void 0:e.role)==="super_admin_affiliate"}),{data:c=[],isLoading:d}=ue({queryKey:["/api/affiliate/referral-performance"],enabled:(e==null?void 0:e.role)==="super_admin_affiliate"}),u=async()=>{try{await Pe("/api/affiliate/update-referral-code","POST",{referralCode:r}),t({title:"Success",description:"Referral code updated successfully"})}catch{t({title:"Error",description:"Failed to update referral code",variant:"destructive"})}},h=m=>{const y=`${window.location.origin}/pricing?${m}`;navigator.clipboard.writeText(y),t({title:"Copied!",description:"Referral link copied to clipboard"})},f=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(m)),p=m=>{switch(m){case"paid":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"cancelled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},x=m=>{switch(m){case"paid":return s.jsx(_t,{className:"h-4 w-4"});case"pending":return s.jsx(Go,{className:"h-4 w-4"});default:return s.jsx(Go,{className:"h-4 w-4"})}};return(e==null?void 0:e.role)!=="super_admin_affiliate"?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(K,{children:s.jsxs(G,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"This page is only available for Super Admin Affiliates."})]})})}):s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Affiliate Commissions"}),s.jsx("p",{className:"text-gray-600",children:"Track your referrals and commission earnings"})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-8",children:[s.jsxs(K,{className:"xl:col-span-2",children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Jl,{className:"h-5 w-5"}),"Your Referral URLs"]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"referralCode",children:"Custom Referral Code"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-2",children:[s.jsx(J,{id:"referralCode",value:r,onChange:m=>n(m.target.value),placeholder:"Enter custom referral code",className:"flex-1"}),s.jsx(M,{onClick:u,className:"shrink-0",children:"Update"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Choose a memorable code for your referral URLs"})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Your Referral URLs"}),s.jsx("div",{className:"space-y-2 mt-2",children:(e==null?void 0:e.referralCode)&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 p-2 bg-gray-50 rounded",children:[s.jsxs("code",{className:"flex-1 text-sm break-all",children:[window.location.origin,"/pricing?",e.referralCode]}),s.jsxs("div",{className:"flex gap-1 shrink-0",children:[s.jsx(M,{variant:"outline",size:"sm",onClick:()=>h(e.referralCode),children:s.jsx(qn,{className:"h-4 w-4"})}),s.jsx(M,{variant:"outline",size:"sm",onClick:()=>window.open(`/pricing?${e.referralCode}`,"_blank"),children:s.jsx(Ir,{className:"h-4 w-4"})})]})]})})]})]})})]}),(e==null?void 0:e.referralCode)&&s.jsx(wC,{url:`${window.location.origin}/pricing?${e.referralCode}`,title:"Referral URL",size:150})]}),!l&&o&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Commissions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f(o.totalCommissions||0)})]}),s.jsx(Tt,{className:"h-8 w-8 text-green-600"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Referrals"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalReferrals||0})]}),s.jsx(ct,{className:"h-8 w-8 text-blue-600"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.conversionRate||"0%"})]}),s.jsx(wn,{className:"h-8 w-8 text-purple-600"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Link Clicks"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalClicks||0})]}),s.jsx(vt,{className:"h-8 w-8 text-orange-600"})]})})})]}),s.jsxs(K,{className:"mb-8",children:[s.jsx(re,{children:s.jsx(ne,{children:"Commission History"})}),s.jsx(G,{children:i?s.jsx("div",{className:"text-center py-8",children:"Loading commissions..."}):a.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"No commissions yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Share your referral links to start earning commissions!"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-2",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-2",children:"Customer"}),s.jsx("th",{className:"text-left py-3 px-2",children:"Plan"}),s.jsx("th",{className:"text-left py-3 px-2",children:"Plan Amount"}),s.jsx("th",{className:"text-left py-3 px-2",children:"Commission %"}),s.jsx("th",{className:"text-left py-3 px-2",children:"Commission"}),s.jsx("th",{className:"text-left py-3 px-2",children:"Status"})]})}),s.jsx("tbody",{children:a.map(m=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-3 px-2",children:new Date(m.createdAt).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-2",children:m.purchaserUsername||"Unknown"}),s.jsx("td",{className:"py-3 px-2",children:m.planName}),s.jsx("td",{className:"py-3 px-2",children:f(m.planAmount)}),s.jsxs("td",{className:"py-3 px-2",children:[m.commissionPercentage,"%"]}),s.jsx("td",{className:"py-3 px-2 font-medium",children:f(m.commissionAmount)}),s.jsx("td",{className:"py-3 px-2",children:s.jsx(be,{className:p(m.status),children:s.jsxs("div",{className:"flex items-center gap-1",children:[x(m.status),m.status]})})})]},m.id))})]})})})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Referral Link Performance"})}),s.jsx(G,{children:d?s.jsx("div",{className:"text-center py-8",children:"Loading performance data..."}):c.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No performance data available yet"})}):s.jsx("div",{className:"space-y-4",children:c.map(m=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h4",{className:"font-medium",children:["/pricing?",m.referralCode]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(M,{variant:"outline",size:"sm",onClick:()=>h(m.referralCode),children:s.jsx(qn,{className:"h-4 w-4"})})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Clicks"}),s.jsx("p",{className:"font-medium",children:m.totalClicks||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Signups"}),s.jsx("p",{className:"font-medium",children:m.totalSignups||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Purchases"}),s.jsxs("p",{className:"font-medium text-green-600",children:[m.totalPurchases||0,m.totalClicks>0&&s.jsxs("span",{className:"text-gray-500 ml-1",children:["(",((m.totalPurchases||0)/m.totalClicks*100).toFixed(1),"%)"]})]})]})]})]},m.referralCode))})})]})]})}const Zh=[{id:1,title:"Business Information",icon:Fa,description:"Tell us about your business"},{id:2,title:"Email Verification",icon:_t,description:"Verify your email address"},{id:3,title:"Brand Setup",icon:Xo,description:"Customize your brand appearance"},{id:4,title:"Auto-Provision",icon:Zr,description:"Setting up your platform"}];function h6(){const[,e]=Pn(),{user:t}=ft(),{toast:r}=Ct(),{primaryColor:n,secondaryColor:a}=Ur(),[i,o]=v.useState(1),[l,c]=v.useState(!1),[d,u]=v.useState({businessName:"",description:"",industry:"",ownerFirstName:(t==null?void 0:t.firstName)||"",ownerLastName:(t==null?void 0:t.lastName)||"",username:"",password:"",email:"",phone:"",website:""}),[h,f]=v.useState({logoUrl:"",primaryColor:"#667eea",secondaryColor:"#764ba2",domainPath:""}),[p,x]=v.useState({planId:0,billingCycle:"monthly"}),[m,g]=v.useState(null),[y,j]=v.useState(null),[w,b]=v.useState(null),[N,S]=v.useState(""),[C,P]=v.useState(!1),[_,A]=v.useState(!1),k=async I=>{if(!(I.length<3))try{const he=await(await fetch(`/api/auth/check-username?username=${encodeURIComponent(I)}`)).json();g(he.available)}catch(H){console.error("Error checking username:",H)}},E=async I=>{if(I.includes("@"))try{const he=await(await Pe("/api/auth/check-email","POST",{email:I})).json();j(he.available)}catch(H){console.error("Error checking email:",H)}},L=async I=>{if(!(I.length<2))try{const he=await(await fetch(`/api/check-domain?domainPath=${encodeURIComponent(I)}`)).json();b(he.available)}catch(H){console.error("Error checking domain:",H)}},F=async()=>{try{const H=await(await Pe("/api/auth/send-verification","POST",{email:d.email})).json();return P(!0),r({title:"Verification Code Sent",description:"Please check your email for the verification code."}),!0}catch(I){return console.error("Error sending verification:",I),r({title:"Failed to Send Code",description:I.message||"Please try again.",variant:"destructive"}),!1}},U=async()=>{try{const H=await(await Pe("/api/auth/verify-code","POST",{email:d.email,code:N})).json();return H.verified&&(A(!0),r({title:"Email Verified",description:"Your email has been successfully verified."}),o(3)),H.verified}catch(I){console.error("Error verifying code:",I);let H="Invalid verification code.";try{H=JSON.parse(I.message).message||H}catch{H=I.message||H}return r({title:"Verification Failed",description:H,variant:"destructive"}),!1}},W=Oe({mutationFn:async()=>{console.log("Provision mutation called with:",{businessInfo:d,brandingInfo:h,planSelection:p});const I=await Pe("/api/business-auth/provision","POST",{businessInfo:d,brandingInfo:h,planSelection:p});return console.log("Provision result:",I),I},onSuccess:I=>{r({title:"Business Setup Complete!",description:"Your white-label platform has been successfully created."})},onError:I=>{console.error("Auto-provision error:",I),c(!1),r({title:"Setup Failed",description:"There was an error setting up your business. Please try again.",variant:"destructive"})}}),V=async()=>{if(console.log("handleNext called, currentStep:",i),console.log("Current data state:",{businessInfo:d,brandingInfo:h,planSelection:p}),i===1){if(!d.email||!d.email.includes("@")){r({title:"Email Required",description:"Please enter a valid email address.",variant:"destructive"});return}if(y!==!0){r({title:"Email Issue",description:"Please use an available email address.",variant:"destructive"});return}await F()&&o(2);return}if(i===2){if(N.length!==6){r({title:"Verification Code Required",description:"Please enter the 6-digit verification code.",variant:"destructive"});return}await U();return}if(i===4){console.log("Starting setup process..."),console.log("Data validation check:"),console.log("- businessInfo:",d),console.log("- brandingInfo:",h),console.log("- planSelection:",p),c(!0),setTimeout(async()=>{console.log("5 seconds elapsed, calling provision API..."),console.log("About to call autoProvisionMutation.mutateAsync()");try{const I=await W.mutateAsync();console.log("Provision successful:",I),setTimeout(()=>{console.log("Redirecting to dashboard..."),e("/")},500)}catch(I){console.error("Setup error:",I),console.error("Full error object:",I),c(!1),r({title:"Setup Failed",description:`Error: ${I.message||"Unknown error occurred"}`,variant:"destructive"})}},5e3);return}i<4&&(console.log("Moving to next step:",i+1),o(i+1))},D=()=>{i>1&&o(i-1)},T=I=>{u(H=>({...H,businessName:I}))},$=async I=>{var ie;const H=(ie=I.target.files)==null?void 0:ie[0];if(!H)return;const he=new FormData;he.append("logo",H);try{const je=await fetch("/api/upload/logo",{method:"POST",body:he});if(!je.ok)throw new Error(`Upload failed: ${je.status}`);const xe=await je.json();if(xe.logoUrl)f(pe=>({...pe,logoUrl:xe.logoUrl})),r({title:"Logo Uploaded",description:"Your logo has been successfully uploaded."});else throw new Error("No logo URL returned")}catch(je){console.error("Logo upload error:",je),r({title:"Upload Failed",description:"Failed to upload logo. Please try again.",variant:"destructive"})}},O=I=>{switch(I){case 1:return d.businessName&&d.ownerFirstName&&d.ownerLastName&&d.username&&d.password&&d.email&&m===!0&&y===!0;case 2:return _;case 3:return h.domainPath&&h.primaryColor&&w===!0;case 4:return!0;default:return!1}},R=i/Zh.length*100;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Business Platform"}),s.jsx("p",{className:"text-gray-600",children:"Set up your white-label business in 4 simple steps"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx(QP,{value:R,className:"h-2 mb-4",style:{"--progress-background":a||"#10b981",backgroundColor:"#f3f4f6"}}),s.jsx("div",{className:"flex justify-between",children:Zh.map((I,H)=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full mb-2 ${i>=I.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:O(I.id)?s.jsx(_t,{className:"w-5 h-5"}):s.jsx(I.icon,{className:"w-5 h-5"})}),s.jsx("span",{className:`text-xs font-medium ${i>=I.id?"text-blue-600":"text-gray-500"}`,children:I.title})]},I.id))})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[Z.createElement(Zh[i-1].icon,{className:"w-5 h-5"}),Zh[i-1].title]}),s.jsx(tt,{children:Zh[i-1].description})]}),s.jsxs(G,{className:"space-y-6",children:[i===1&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"businessName",children:"Business Name *"}),s.jsx(J,{id:"businessName",value:d.businessName,onChange:I=>T(I.target.value),placeholder:"Your Business Name"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"industry",children:"Industry"}),s.jsxs(an,{value:d.industry,onValueChange:I=>u(H=>({...H,industry:I})),children:[s.jsx(Gr,{children:s.jsx(on,{placeholder:"Select industry"})}),s.jsxs(Yr,{children:[s.jsx(Ae,{value:"technology",children:"Technology"}),s.jsx(Ae,{value:"healthcare",children:"Healthcare"}),s.jsx(Ae,{value:"finance",children:"Finance"}),s.jsx(Ae,{value:"retail",children:"Retail"}),s.jsx(Ae,{value:"education",children:"Education"}),s.jsx(Ae,{value:"consulting",children:"Consulting"}),s.jsx(Ae,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"description",children:"Business Description"}),s.jsx(pr,{id:"description",value:d.description,onChange:I=>u(H=>({...H,description:I.target.value})),placeholder:"Brief description of your business",rows:3})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"ownerFirstName",children:"Owner First Name *"}),s.jsx(J,{id:"ownerFirstName",value:d.ownerFirstName,onChange:I=>u(H=>({...H,ownerFirstName:I.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"ownerLastName",children:"Owner Last Name *"}),s.jsx(J,{id:"ownerLastName",value:d.ownerLastName,onChange:I=>u(H=>({...H,ownerLastName:I.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"username",children:"Username *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"username",value:d.username,onChange:I=>{u(H=>({...H,username:I.target.value})),k(I.target.value)},required:!0,className:"border border-input pr-20",placeholder:"username"}),m!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${m?"text-green-600":"text-red-600"}`,children:m?" Available":" Taken"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"password",children:"Password *"}),s.jsx(J,{id:"password",type:"password",value:d.password,onChange:I=>u(H=>({...H,password:I.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"email",type:"email",value:d.email,onChange:I=>{u(H=>({...H,email:I.target.value})),E(I.target.value)},className:"border border-input pr-20",placeholder:"your@email.com","data-testid":"input-email"}),y!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${y?"text-green-600":"text-red-600"}`,children:y?" Available":" Email already in use"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"phone",children:"Phone"}),s.jsx(J,{id:"phone",value:d.phone,onChange:I=>u(H=>({...H,phone:I.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"website",children:"Website"}),s.jsx(J,{id:"website",value:d.website,onChange:I=>u(H=>({...H,website:I.target.value})),placeholder:"https://yourwebsite.com"})]})]})]}),i===2&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(_t,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Verify Your Email Address"}),s.jsxs("p",{className:"text-gray-600",children:["We've sent a 6-digit verification code to:",s.jsx("br",{}),s.jsx("span",{className:"font-medium",children:d.email})]})]}),s.jsx("div",{className:"max-w-xs mx-auto space-y-4",children:s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"verificationCode",children:"Verification Code"}),s.jsx(J,{id:"verificationCode",value:N,onChange:I=>S(I.target.value),placeholder:"123456",className:"text-center text-lg tracking-widest",maxLength:6,"data-testid":"input-verification-code"})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the code?"}),s.jsx(M,{variant:"outline",onClick:F,disabled:!C,"data-testid":"button-resend-code",children:"Resend Code"})]})]}),i===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"logoUpload",children:"Business Logo"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"logoUpload",type:"file",accept:"image/*",onChange:$,className:"hidden"}),s.jsxs(M,{type:"button",variant:"outline",onClick:()=>{var I;return(I=document.getElementById("logoUpload"))==null?void 0:I.click()},children:[s.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Upload Logo"]})]}),h.logoUrl&&s.jsx("img",{src:h.logoUrl,alt:"Business Logo",className:"w-12 h-12 object-contain rounded"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"domainPath",children:"Domain Path *"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"whitelabelportal.com/"}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(J,{id:"domainPath",value:h.domainPath,onChange:I=>{const H=I.target.value.replace(/[^a-z0-9]/g,"");f(he=>({...he,domainPath:H})),L(H)},placeholder:"businessname",className:"pr-20"}),w!==null&&s.jsx("div",{className:`absolute right-2 top-2 text-sm ${w?"text-green-600":"text-red-600"}`,children:w?" Available":" Taken"})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be your custom URL path"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"primaryColor",children:"Primary Brand Color *"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{id:"primaryColor",type:"color",value:h.primaryColor,onChange:I=>f(H=>({...H,primaryColor:I.target.value})),className:"w-12 h-12 p-1 border-2"}),s.jsx(J,{value:h.primaryColor,onChange:I=>f(H=>({...H,primaryColor:I.target.value})),placeholder:"#667eea"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"secondaryColor",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{id:"secondaryColor",type:"color",value:h.secondaryColor,onChange:I=>f(H=>({...H,secondaryColor:I.target.value})),className:"w-12 h-12 p-1 border-2"}),s.jsx(J,{value:h.secondaryColor,onChange:I=>f(H=>({...H,secondaryColor:I.target.value})),placeholder:"#764ba2"})]})]})]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Brand Preview"}),s.jsx("div",{className:"h-24 rounded-lg flex items-center justify-center text-white font-semibold",style:{background:`linear-gradient(135deg, ${h.primaryColor} 0%, ${h.secondaryColor} 100%)`},children:d.businessName||"Your Business Name"})]})]}),i===4&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(Zr,{className:"w-8 h-8 text-white animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Setting up your platform..."}),s.jsx("p",{className:"text-gray-600",children:"We're creating your white-label platform with custom templates, product collections, and initial announcements."})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-left",children:[s.jsx("h4",{className:"font-medium mb-3",children:"What we're setting up:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Custom domain configuration"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Brand-customized templates"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Product collections and categories"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Welcome announcements"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Affiliate program setup"})]})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-between mt-8",children:[s.jsx(M,{variant:"outline",onClick:D,disabled:i===1||l,children:"Back"}),s.jsxs(M,{onClick:()=>{console.log("Setup My Platform button clicked!"),console.log("isStepComplete:",O(i)),console.log("isProcessing:",l),console.log("currentStep:",i),V()},disabled:!O(i)||l,className:"bg-blue-600 hover:bg-blue-700",children:[i===3?l?"Setting up...":"Setup My Platform":"Next",s.jsx(Bi,{className:"ml-2 h-4 w-4"})]})]})]})})}function POe(e,t){var a,i;const r=t||e.customizations||{text:{heroTitle:"Welcome to Our Platform",heroSubtitle:"Discover amazing features and services",ctaButtonText:"Get Started",companyName:((a=e.whiteLabel)==null?void 0:a.businessName)||"Your Company",footerText:" 2024 All rights reserved"},colors:{primary:"#6366f1",secondary:"#8b5cf6",background:"#ffffff",text:"#1f2937",buttonBackground:"#6366f1",buttonText:"#ffffff"},logo:{logoImageUrl:((i=e.whiteLabel)==null?void 0:i.logoImageUrl)||null}};if(e.html_content){let o=e.html_content;return o=o.replace(/{{heroTitle}}/g,r.text.heroTitle||"Welcome"),o=o.replace(/{{heroSubtitle}}/g,r.text.heroSubtitle||"Subtitle"),o=o.replace(/{{ctaButtonText}}/g,r.text.ctaButtonText||"Get Started"),o=o.replace(/{{companyName}}/g,r.text.companyName||"Company"),o=o.replace(/{{footerText}}/g,r.text.footerText||" 2024 All rights reserved"),r.logo.logoImageUrl&&(o=o.replace(/{{logoImageUrl}}/g,r.logo.logoImageUrl)),o}const n=r.logo.logoImageUrl?`<div style="text-align: center; margin-bottom: 2rem;">
         <img src="${r.logo.logoImageUrl}" alt="Logo" style="max-height: 80px; width: auto;" />
       </div>`:"";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${r.text.companyName}</title>
      <style>
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }
        
        body {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
          line-height: 1.6;
          color: ${r.colors.text};
          background-color: ${r.colors.background};
        }
        
        .container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 20px;
        }
        
        .hero {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          text-align: center;
          padding: 2rem 0;
        }
        
        .hero-content {
          max-width: 800px;
        }
        
        h1 {
          font-size: 3.5rem;
          font-weight: 700;
          margin-bottom: 1.5rem;
          color: ${r.colors.primary};
          line-height: 1.2;
        }
        
        .subtitle {
          font-size: 1.25rem;
          margin-bottom: 2.5rem;
          color: ${r.colors.secondary};
          max-width: 600px;
          margin-left: auto;
          margin-right: auto;
        }
        
        .cta-button {
          display: inline-block;
          background-color: ${r.colors.buttonBackground};
          color: ${r.colors.buttonText};
          padding: 1rem 2rem;
          font-size: 1.1rem;
          font-weight: 600;
          text-decoration: none;
          border-radius: 8px;
          border: none;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .cta-button:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
          opacity: 0.9;
        }
        
        .footer {
          text-align: center;
          padding: 2rem 0;
          color: ${r.colors.secondary};
          font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
          h1 {
            font-size: 2.5rem;
          }
          
          .subtitle {
            font-size: 1.1rem;
          }
          
          .cta-button {
            padding: 0.875rem 1.5rem;
            font-size: 1rem;
          }
        }
      </style>
    </head>
    <body>
      <div class="hero">
        <div class="container">
          <div class="hero-content">
            ${n}
            <h1>${r.text.heroTitle}</h1>
            <p class="subtitle">${r.text.heroSubtitle}</p>
            <button class="cta-button">${r.text.ctaButtonText}</button>
          </div>
        </div>
      </div>
      
      <footer class="footer">
        <div class="container">
          <p>${r.text.footerText}</p>
        </div>
      </footer>
    </body>
    </html>
  `}const kOe=()=>s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{position:"absolute",top:"-8px",right:"-8px",background:"white",borderRadius:"50%",padding:"2px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",color:"#007bff",zIndex:1e3},children:[s.jsx("path",{d:"m18 2 4 4-14 14H4v-4L18 2z"}),s.jsx("path",{d:"m14.5 5.5 4 4"})]});function _Oe(){const[e,t]=v.useState(null),[r,n]=v.useState(!0),[a,i]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(null),[u,h]=v.useState(""),f=new URLSearchParams(window.location.search),p=f.get("customizations"),x=!0,m=f.get("domain")||window.location.hostname;console.log("ShootDefaultLanding - URL params:",{customizationsParam:p,editMode:x,domain:m}),console.log("ShootDefaultLanding - Edit mode:",x),console.log("ShootDefaultLanding - Domain:",m),console.log("ShootDefaultLanding - Window location:",window.location.href),v.useEffect(()=>{(async()=>{try{n(!0);const E=`/api/landing-pages/default?domain=${encodeURIComponent(m)}`;console.log("Fetching landing page from:",E);const L=await fetch(E);if(!L.ok)throw new Error(`Failed to fetch landing page: ${L.statusText}`);const F=await L.json();console.log("Received landing page data:",F),t(F)}catch(E){console.error("Error fetching landing page:",E),i(E instanceof Error?E.message:"Failed to load landing page")}finally{n(!1)}})()},[m]);const g=k=>{k.preventDefault(),k.stopPropagation();const E=k.target;if(!N(E))return;const L=S(E),F=C(E,L),U=P(E),W=E.getBoundingClientRect();d({element:E,fieldName:L,currentValue:F,elementType:U,rect:W}),h(F),window.parent&&window.parent.postMessage({type:"ELEMENT_CLICKED",elementType:U,fieldName:L,currentValue:F,position:{x:k.clientX,y:k.clientY}},"*")},y=()=>{if(!c)return;const{element:k,fieldName:E,elementType:L}=c;(L==="text"||L==="button")&&(k.textContent=u),window.parent&&window.parent.postMessage({type:"ELEMENT_UPDATED",fieldName:E,newValue:u,elementType:L},"*"),d(null),h("")},j=()=>{d(null),h("")},w=k=>{const E=k.target;N(E)&&l(E)},b=k=>{k.target===o&&l(null)},N=k=>{var W;const E=["H1","H2","H3","H4","H5","H6","P","SPAN","A","BUTTON"],L=k.tagName.toUpperCase();if(!E.includes(L))return!1;let F=k.parentElement;for(;F;){if(["SCRIPT","STYLE","NOSCRIPT"].includes(F.tagName.toUpperCase()))return!1;F=F.parentElement}const U=(W=k.textContent)==null?void 0:W.trim();return U&&U.length>0},S=k=>{var U;const E=k.tagName.toUpperCase(),L=k.className||"",F=((U=k.textContent)==null?void 0:U.toLowerCase())||"";return E==="H1"||L.includes("hero-title")||L.includes("title")?"heroTitle":E==="H2"||L.includes("hero-subtitle")||L.includes("subtitle")?"heroSubtitle":(E==="BUTTON"||E==="A")&&(F.includes("start")||F.includes("get")||F.includes("try")||F.includes("sign")||F.includes("join")||L.includes("cta"))?"ctaButtonText":L.includes("brand")||L.includes("logo")||L.includes("company")?"companyName":(E==="H3"||E==="H4")&&L.includes("feature")?"featureTitle":E==="P"&&L.includes("feature")?"featureDescription":L.includes("testimonial")?"testimonialContent":"textContent"},C=(k,E)=>{var L;if((L=e==null?void 0:e.customizations)!=null&&L.text){const F=e.customizations.text;if(F[E])return F[E]}return k.textContent||""},P=k=>{const E=k.tagName.toUpperCase();return E==="BUTTON"||E==="A"?"button":"text"};if(r)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Arial, sans-serif"},children:"Loading..."});if(a)return s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Arial, sans-serif",color:"red"},children:["Error: ",a]});if(!e)return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Arial, sans-serif"},children:"No landing page data available"});let _=e.customizations;if(p)try{const k=JSON.parse(decodeURIComponent(p));_={..._,...k}}catch(k){console.error("Error parsing custom customizations:",k)}const A=POe(e,_);return s.jsxs("div",{onClick:g,onMouseEnter:w,onMouseLeave:b,style:{width:"100%",height:"100vh",overflow:"auto",position:"relative"},children:[o&&!c&&s.jsx("div",{style:{position:"absolute",left:o.getBoundingClientRect().right-20+window.scrollX,top:o.getBoundingClientRect().top-8+window.scrollY,zIndex:1e4,pointerEvents:"none"},children:s.jsx(kOe,{})}),c&&s.jsxs("div",{style:{position:"absolute",left:c.rect.left+window.scrollX,top:c.rect.top+window.scrollY,width:Math.max(c.rect.width,200),zIndex:10001,background:"white",border:"2px solid #007bff",borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"8px"},children:[c.elementType==="text"?s.jsx("textarea",{value:u,onChange:k=>h(k.target.value),style:{width:"100%",minHeight:"60px",border:"none",outline:"none",resize:"vertical",fontFamily:"inherit",fontSize:"14px",padding:"4px"},autoFocus:!0,onKeyDown:k=>{k.key==="Enter"&&k.ctrlKey?y():k.key==="Escape"&&j()}}):s.jsx("input",{type:"text",value:u,onChange:k=>h(k.target.value),style:{width:"100%",border:"none",outline:"none",fontFamily:"inherit",fontSize:"14px",padding:"4px"},autoFocus:!0,onKeyDown:k=>{k.key==="Enter"?y():k.key==="Escape"&&j()}}),s.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",justifyContent:"flex-end"},children:[s.jsx("button",{onClick:y,style:{background:"#007bff",color:"white",border:"none",padding:"4px 12px",borderRadius:"3px",fontSize:"12px",cursor:"pointer"},children:"Save"}),s.jsx("button",{onClick:j,style:{background:"#6c757d",color:"white",border:"none",padding:"4px 12px",borderRadius:"3px",fontSize:"12px",cursor:"pointer"},children:"Cancel"})]})]}),s.jsx("div",{style:{position:"fixed",top:"10px",left:"10px",background:"#007bff",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"bold",zIndex:9999,boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:" Edit Mode Active - Click any text to edit"}),s.jsx("div",{dangerouslySetInnerHTML:{__html:A},style:{cursor:"pointer"},onMouseOver:w,onMouseOut:b,onClick:g}),s.jsx("style",{children:`
            [data-editable="true"]:hover {
              outline: 2px dashed #007bff !important;
              outline-offset: 2px !important;
              background-color: rgba(0, 123, 255, 0.05) !important;
              transition: all 0.2s ease !important;
            }
            
            h1:hover, h2:hover, h3:hover, h4:hover, h5:hover, h6:hover,
            p:hover, span:hover, a:hover, button:hover {
              outline: 2px dashed #007bff !important;
              outline-offset: 2px !important;
              background-color: rgba(0, 123, 255, 0.05) !important;
              transition: all 0.2s ease !important;
              position: relative !important;
            }
            
            h1:hover::after, h2:hover::after, h3:hover::after, h4:hover::after, h5:hover::after, h6:hover::after,
            p:hover::after, span:hover::after, a:hover::after, button:hover::after {
              content: " Click to edit";
              position: absolute;
              top: -25px;
              left: 0;
              background: #007bff;
              color: white;
              padding: 2px 6px;
              border-radius: 3px;
              font-size: 10px;
              font-weight: normal;
              white-space: nowrap;
              z-index: 1000;
              pointer-events: none;
            }
          `})]})}function AOe(){var u,h,f,p;const[e]=ua("/business/:businessId"),[,t]=Pn();ft();const{toast:r}=Ct(),[n,a]=v.useState(!1),i=e==null?void 0:e.businessId,{data:o,isLoading:l}=ue({queryKey:["/api/business-detail",i],enabled:!!i}),c=Oe({mutationFn:async()=>await Pe(`/api/business/${i}/impersonate`,"POST"),onSuccess:()=>{a(!0),r({title:"Impersonation Active",description:"You are now viewing as this business owner."}),t(`/${o.domainPath}/dashboard`)},onError:()=>{r({title:"Impersonation Failed",description:"Unable to impersonate this business.",variant:"destructive"})}});if(l)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(x=>s.jsx("div",{className:"h-32 bg-gray-200 rounded"},x))})]})});if(!o)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Business Not Found"}),s.jsx("p",{className:"text-gray-600",children:"The business you're looking for doesn't exist."}),s.jsx(M,{onClick:()=>t("/businesses"),className:"mt-4",children:"Back to Businesses"})]})});const d=[{title:"Total Users",value:o.userCount||0,icon:ct,change:"+12%",trend:"up"},{title:"Monthly Revenue",value:`$${o.monthlyRevenue||0}`,icon:Ht,change:"+8%",trend:"up"},{title:"Active Plans",value:o.activePlans||0,icon:Bt,change:"+3",trend:"up"}];return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(M,{variant:"ghost",onClick:()=>t("/businesses"),className:"text-gray-600",children:" Back to Businesses"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o.businessName}),s.jsx("p",{className:"text-gray-600",children:o.domainPath})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{variant:o.isActive?"default":"secondary",children:o.isActive?"Active":"Inactive"}),s.jsxs(M,{onClick:()=>c.mutate(),disabled:c.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(tm,{className:"w-4 h-4 mr-2"}),c.isPending?"Connecting...":"Impersonate"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.map(x=>s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium text-gray-600",children:x.title}),s.jsx(x.icon,{className:"h-4 w-4 text-gray-600"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:x.value}),s.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1",children:[s.jsx("span",{className:`${x.trend==="up"?"text-green-600":"text-red-600"}`,children:x.change}),"from last month"]})]})]},x.title))}),s.jsxs(es,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-7",children:[s.jsx(Ge,{value:"overview",children:"Overview"}),s.jsx(Ge,{value:"users",children:"Users"}),s.jsx(Ge,{value:"billing",children:"Billing"}),s.jsx(Ge,{value:"brand",children:"Brand"}),s.jsx(Ge,{value:"content",children:"Content"}),s.jsx(Ge,{value:"analytics",children:"Analytics"}),s.jsx(Ge,{value:"settings",children:"Settings"})]}),s.jsx(Ye,{value:"overview",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"w-5 h-5"}),"Business Information"]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Business Name"}),s.jsx("p",{className:"text-gray-900",children:o.businessName})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Industry"}),s.jsx("p",{className:"text-gray-900",children:o.industry||"Not specified"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Description"}),s.jsx("p",{className:"text-gray-900",children:o.description||"No description provided"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Website"}),s.jsx("p",{className:"text-gray-900",children:o.website||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Created"}),s.jsx("p",{className:"text-gray-900",children:new Date(o.createdAt).toLocaleDateString()})]})]})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ct,{className:"w-5 h-5"}),"Owner Information"]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Owner Name"}),s.jsxs("p",{className:"text-gray-900",children:[o.ownerFirstName," ",o.ownerLastName]})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:o.ownerEmail})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Phone"}),s.jsx("p",{className:"text-gray-900",children:o.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Last Login"}),s.jsx("p",{className:"text-gray-900",children:o.lastLogin?new Date(o.lastLogin).toLocaleString():"Never"})]})]})]})]})}),s.jsx(Ye,{value:"users",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"User Management"})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium",children:"End Users"}),s.jsxs(be,{variant:"outline",children:[((u=o.endUsers)==null?void 0:u.length)||0," users"]})]}),s.jsx("div",{className:"grid gap-4",children:(h=o.endUsers)==null?void 0:h.map(x=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[x.firstName," ",x.lastName]}),s.jsx("p",{className:"text-sm text-gray-600",children:x.email})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{variant:x.isActive?"default":"secondary",children:x.isActive?"Active":"Inactive"}),s.jsx(M,{variant:"ghost",size:"sm",children:s.jsx(vt,{className:"w-4 h-4"})})]})]},x.id))})]})})]})}),s.jsx(Ye,{value:"billing",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-5 h-5"}),"Billing & Subscription"]})}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Current Plan"}),s.jsx("p",{className:"text-gray-900 font-semibold",children:((f=o.currentPlan)==null?void 0:f.name)||"No Plan"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["$",((p=o.currentPlan)==null?void 0:p.price)||0,"/month"]})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Billing Status"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(be,{variant:o.billingStatus==="active"?"default":"destructive",children:o.billingStatus||"Unknown"})})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Next Billing Date"}),s.jsx("p",{className:"text-gray-900",children:o.nextBillingDate?new Date(o.nextBillingDate).toLocaleDateString():"Not scheduled"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsxs("p",{className:"text-gray-900 font-semibold",children:["$",o.totalRevenue||0]})]})]})})]})}),s.jsx(Ye,{value:"brand",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Xo,{className:"w-5 h-5"}),"Brand Settings"]})}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Logo"}),o.logoUrl?s.jsx("img",{src:o.logoUrl,alt:"Business Logo",className:"w-24 h-24 object-contain border rounded-lg mt-2"}):s.jsx("div",{className:"w-24 h-24 bg-gray-100 border rounded-lg mt-2 flex items-center justify-center text-gray-400",children:"No Logo"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Primary Color"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("div",{className:"w-8 h-8 rounded border",style:{backgroundColor:o.primaryColor}}),s.jsx("p",{className:"text-gray-900",children:o.primaryColor})]})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("div",{className:"w-8 h-8 rounded border",style:{backgroundColor:o.secondaryColor}}),s.jsx("p",{className:"text-gray-900",children:o.secondaryColor})]})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Domain Path"}),s.jsxs("p",{className:"text-gray-900 font-mono bg-gray-50 p-2 rounded",children:["yourdomain.com/",o.domainPath]})]})]})]})}),s.jsx(Ye,{value:"content",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Plans"})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Active Plans:"}),s.jsx("span",{className:"font-medium",children:o.activePlans||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Published Plans:"}),s.jsx("span",{className:"font-medium",children:o.publishedPlans||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Draft Plans:"}),s.jsx("span",{className:"font-medium",children:o.draftPlans||0})]})]})})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ne,{children:"Announcements"})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Total Announcements:"}),s.jsx("span",{className:"font-medium",children:o.totalAnnouncements||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Published:"}),s.jsx("span",{className:"font-medium",children:o.publishedAnnouncements||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Scheduled:"}),s.jsx("span",{className:"font-medium",children:o.scheduledAnnouncements||0})]})]})})]})]})}),s.jsx(Ye,{value:"analytics",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Xr,{className:"w-5 h-5"}),"Business Analytics"]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.totalViews||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Page Views"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.conversions||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Conversions"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((o.conversions||0)/Math.max(o.totalViews||1,1)*100).toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"})]})]})})]})}),s.jsx(Ye,{value:"settings",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"w-5 h-5"}),"Business Settings"]})}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Business Status"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Enable or disable this business account"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{variant:o.isActive?"default":"secondary",children:o.isActive?"Active":"Inactive"}),s.jsxs(M,{variant:"outline",size:"sm",children:[s.jsx(up,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg border-red-200 bg-red-50",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-red-900",children:"Danger Zone"}),s.jsx("p",{className:"text-sm text-red-600",children:"Permanently delete this business and all associated data"})]}),s.jsxs(M,{variant:"destructive",size:"sm",children:[s.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Delete Business"]})]})]})]})})]})]})}function EOe(){const{user:e}=ft();switch(Z.useEffect(()=>{localStorage.getItem("pendingUserRole")==="white_label_affiliate"&&e&&fetch("/api/auth/assign-affiliate-role",{method:"POST",headers:{"Content-Type":"application/json"}}).then(()=>{localStorage.removeItem("pendingUserRole"),sessionStorage.setItem("selectedRole","white_label_affiliate"),window.location.reload()}).catch(console.error)},[e]),sessionStorage.getItem("selectedRole")||(e==null?void 0:e.role)){case"super_admin":case"Super Admin":return s.jsx(Cte,{});case"super_admin_affiliate":case"Super Admin Affiliate":return s.jsx(_L,{});case"affiliate":case"Affiliate":return s.jsx(j1,{});case"white_label_client":case"White-Label Client":case"White Label":return s.jsx(LA,{});case"white_label_affiliate":case"White-Label Affiliate":return s.jsx(IL,{});case"end_user":case"End User":return s.jsx("div",{children:"Redirecting to your dashboard..."});default:return s.jsx(LA,{})}}function TOe(){const{isAuthenticated:e,isLoading:t,user:r,domain:n}=ft();return console.log("Router rendering - isAuthenticated:",e,"isLoading:",t,"user:",r,"domain:",n),t?(console.log("Router - showing loading state"),s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})):s.jsxs(JV,{children:[e?s.jsxs(RY,{children:[s.jsx($e,{path:"/:domain/user",component:()=>(console.log("Authenticated user accessing /:domain/user - rendering ModernEndUserDashboard"),s.jsx(Jc,{}))}),s.jsx($e,{path:"/:domain/user/overview",component:()=>(console.log("Authenticated user accessing /:domain/user/overview"),s.jsx(Jc,{initialTab:"overview"}))}),s.jsx($e,{path:"/:domain/user/products",component:()=>(console.log("Authenticated user accessing /:domain/user/products"),s.jsx(Jc,{initialTab:"products"}))}),s.jsx($e,{path:"/:domain/user/collections",component:()=>(console.log("Authenticated user accessing /:domain/user/collections"),s.jsx(Jc,{initialTab:"collections"}))}),s.jsx($e,{path:"/:domain/user/newsfeed",component:()=>(console.log("Authenticated user accessing /:domain/user/newsfeed"),s.jsx(Jc,{initialTab:"newsfeed"}))}),s.jsx($e,{path:"/:domain/user/profile",component:()=>(console.log("Authenticated user accessing /:domain/user/profile"),s.jsx(Jc,{initialTab:"profile"}))}),s.jsx($e,{path:"/:domain/user/product/:productId",component:()=>(console.log("Route /:domain/user/product/:productId matched - about to render ProductDetailPage"),s.jsx(SOe,{}))}),s.jsx($e,{path:"/:domain/affiliate",component:()=>{const a=r==null?void 0:r.role;return console.log(`Authenticated user accessing /:domain/affiliate - user role: ${a}`),a==="super_admin_affiliate"?(console.log("Rendering SuperAdminAffiliateDashboard"),s.jsx(_L,{})):a==="white_label_affiliate"?(console.log("Rendering WhiteLabelAffiliateDashboard"),s.jsx(IL,{})):(console.log("Rendering default AffiliateDashboard"),s.jsx(j1,{}))}}),s.jsx($e,{path:"/",component:EOe}),s.jsx($e,{path:"/pricing",component:F5}),s.jsx($e,{path:"/subscriptions",component:pw}),s.jsx($e,{path:"/clients",component:()=>s.jsx(HX,{children:s.jsx(BA,{})})}),s.jsx($e,{path:"/affiliates",component:zA}),s.jsx($e,{path:"/analytics",component:Xc}),s.jsx($e,{path:"/products",component:Qc}),s.jsx($e,{path:"/categories",component:_Ee}),s.jsx($e,{path:"/users",component:AEe}),s.jsx($e,{path:"/settings",component:Zc}),s.jsx($e,{path:"/integrations",component:$Ee}),s.jsx($e,{path:"/billing",component:LEe}),s.jsx($e,{path:"/ai-content",component:BEe}),s.jsx($e,{path:"/landing-builder",component:EEe}),s.jsx($e,{path:"/landing-page/:id",component:UEe}),s.jsx($e,{path:"/referrals",component:gTe}),s.jsx($e,{path:"/affiliate-commissions",component:COe}),s.jsx($e,{path:"/links",component:xTe}),s.jsx($e,{path:"/news",component:$5}),s.jsx($e,{path:"/news/:id",component:$5}),s.jsx($e,{path:"/announcements",component:()=>(window.location.href="/news",null)}),s.jsx($e,{path:"/announcements-simple",component:()=>(window.location.href="/news",null)}),s.jsx($e,{path:"/announcements/:id",component:()=>(window.location.href="/news",null)}),s.jsx($e,{path:"/affiliate-dashboard",component:j1}),s.jsx($e,{path:"/business-auth",component:h6}),s.jsx($e,{path:"/business-signup",component:h6}),s.jsx($e,{path:"/business/:businessId",component:AOe}),s.jsx($e,{path:"/commission-rules",component:pw}),s.jsx($e,{path:"/billing",component:pw}),s.jsx($e,{path:"/system-settings",component:Zc}),s.jsx($e,{path:"/impersonate",component:Xc}),s.jsx($e,{path:"/tracking",component:Xc}),s.jsx($e,{path:"/reports",component:Xc}),s.jsx($e,{path:"/end-users",component:BA}),s.jsx($e,{path:"/my-affiliates",component:zA}),s.jsx($e,{path:"/portal-settings",component:Zc}),s.jsx($e,{path:"/preview",component:Xc}),s.jsx($e,{path:"/performance",component:Xc}),s.jsx($e,{path:"/browse",component:Qc}),s.jsx($e,{path:"/downloads",component:Qc}),s.jsx($e,{path:"/courses",component:Qc}),s.jsx($e,{path:"/favorites",component:Qc}),s.jsx($e,{path:"/library",component:Qc}),s.jsx($e,{path:"/profile",component:Zc}),s.jsx($e,{path:"/notifications",component:Zc}),s.jsx($e,{path:"/support",component:Zc}),s.jsx($e,{path:"/checkout/:planId",component:()=>(console.log("Checkout route matched for authenticated user"),s.jsx(c6,{}))}),s.jsx($e,{path:"/purchase-success",component:d6})]}):s.jsxs(s.Fragment,{children:[s.jsx($e,{path:"/",component:GX}),s.jsx($e,{path:"/login",component:V5}),s.jsx($e,{path:"/auth",component:()=>{const a=window.location.search;return window.location.replace(`/login${a}`),s.jsx("div",{children:"Redirecting to login..."})}}),s.jsx($e,{path:"/super-admin-login",component:UTe}),s.jsx($e,{path:"/reset-password",component:gOe}),s.jsx($e,{path:"/signup",component:V5}),s.jsx($e,{path:"/pricing",component:F5}),s.jsx($e,{path:"/become-affiliate",component:vTe}),s.jsx($e,{path:"/white-label",component:bTe}),s.jsx($e,{path:"/contact",component:wTe}),s.jsx($e,{path:"/checkout/:planId",component:c6}),s.jsx($e,{path:"/purchase-success",component:d6}),s.jsx($e,{path:"/shoot",component:_Oe}),s.jsx($e,{path:"/:domain/user",component:()=>(console.log("Unauthenticated user accessing /:domain/user - redirecting to /login"),window.location.href="/login",s.jsx("div",{children:"Redirecting to login..."}))}),s.jsx($e,{path:"/:domain/affiliate",component:()=>(console.log("Unauthenticated user accessing /:domain/affiliate - redirecting to /login"),window.location.href="/login",s.jsx("div",{children:"Redirecting to login..."}))})]}),s.jsx($e,{component:JEe})]})}function OOe(){return s.jsx(NH,{client:IH,children:s.jsx(DY,{children:s.jsxs(TY,{children:[s.jsx(KK,{}),s.jsx(VX,{children:s.jsx(TOe,{})})]})})})}R3(document.getElementById("root")).render(s.jsx(OOe,{}));export{mC as _,Mp as c,zt as g};
